!function(){$(function(){$.each($(".partners"),function(){new n($(this))}),$.each($(".catalog"),function(){new n($(this))}),$.each($(".promo__slider"),function(){new n($(this))}),$.each($(".sub-menu"),function(){new n($(this))}),$.each($(".mobile-menu"),function(){new e($(this))}),$.each($(".blog__sort"),function(){new i($(this))})});var e=function(e){var n=e,i=$(".mobile-menu-btn"),t=function(){s()},s=function(){i.on("click",function(){$(this).hasClass("close")?a():o()})},o=function(){i.addClass("close"),n.addClass("visible")},a=function(){i.removeClass("close"),n.removeClass("visible")};t()},n=function(e){var n,i,t,s,o=e,a=o.find(".partners__swiper"),r=o.find(".sub-menu__swiper"),c=o.find(".catalog__swiper"),d=o.find(".promo__swiper"),l=o.find(".partners__swiper-prev"),u=o.find(".catalog__swiper-prev"),f=o.find(".promo__swiper-prev"),p=o.find(".partners__swiper-next"),w=o.find(".catalog__swiper-next"),h=o.find(".promo__swiper-next"),_=$(window),v=function(){n=new Swiper(a,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:"auto",loop:!0,loopedSlides:20,spaceBetween:80,nextButton:p,prevButton:l}),i=new Swiper(c,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:3,loop:!0,nextButton:w,prevButton:u,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}}),s=new Swiper(d,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:h,prevButton:f}),t=new Swiper(r,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",onSlideChangeStart:function(){o.removeClass("start"),r[0].swiper.slideTo(t.find(".active").index(),200,!1)},onSlideChangeEnd:function(){o.removeClass("end")},onReachBeginning:function(){o.addClass("start"),o.removeClass("end"),setTimeout(function(){o.addClass("start")},300)},onReachEnd:function(){o.addClass("end"),setTimeout(function(){o.removeClass("start")},300)}})},m=function(){_.outerWidth()<=767&&v(),_.on({resize:function(){_.outerWidth()>=767?C():v()}})},C=function(){r[0].swiper.destroy(!1,!0)},g=function(){m(),v()};g()},i=function(e){var n=e,i=$(".site"),t=$(window),s=function(){o()},o=function(){i.on("click",function(e){n.hasClass("open")&&0==$(e.target).closest(n).length&&a()}),n.on("click",function(){var e=$(this);e.hasClass("open")&&t.width()<1200?a():t.width()<1200&&r()})},a=function(){n.removeClass("open")},r=function(){n.addClass("open")};s()}}();
!function(){"use strict";$(function(){$.each($(".media-gallery"),function(){new i($(this))})});var i=function(i){var e=i,n=$("body"),a=e.find(".media-gallery__wrap"),o=e.find(".media-gallery__switcher"),s=o.find("button"),r=e.find(".media-gallery__cover"),d=e.find(".preloader"),c=e.find(".media-gallery__more"),l=n.data("action"),u=($(window),!1),p=!0,f=!1,h=new XMLHttpRequest,v=function(){s.on("click",function(){var i=$(this),t=i.data("type");return s.removeClass("active"),i.addClass("active"),a.isotope({filter:"."+t}),f=!0,!1}),c.on({click:function(){return C(),!1}}),e.on("click",".media-gallery__item",function(){return t($(this),$(this).index()),!1})},m=function(i){0!==e.attr("data-loaded-group")&&u&&w();var t,n=i.has_items,o=i.items;$.each(o,function(){var i=this;t=$('<div class="media-gallery__item new '+i.type+'"><img src="'+i.dummy+'" alt="'+i.type+'"/></div>'),a.append(t)});var s=a.find(".new");setTimeout(function(){g(n,s)},550),setTimeout(function(){y()},500),e.attr("data-loaded-group",+e.attr("data-loaded-group")+1)},w=function(){a.isotope("destroy"),u=!1},g=function(i,t){var e=500;p&&(e=1),r.animate({height:a.outerHeight()},{duration:e,complete:function(){r.css("height",""),t.each(function(i){_($(this),i)}),0==i&&b()}}),p&&setTimeout(function(){p=!1},500)},_=function(i,t){var e=100;p&&(e=1),setTimeout(function(){i.removeClass("new")},t*e)},y=function(){var i=".media-gallery__item";u=!0,a.isotope({itemSelector:i,percentPosition:!0,masonry:{columnWidth:".media-gallery__sizer"}}),f&&a.isotope({filter:"."+s.filter(".active").data("type")}),setTimeout(function(){d.removeClass("active")},300)},b=function(){c.css("opacity",0),setTimeout(function(){c.css("padding",0),c.animate({height:0},{duration:500,complete:function(){c.remove()}})},300)},C=function(){var i=l;d.addClass("active"),h.abort(),h=$.ajax({url:i,data:{action:"gallery",page:e.attr("data-loaded-group"),type:s.data("type")},dataType:"json",timeout:2e4,type:"GET",success:function(i){r.height(r.height()),m(i)},error:function(i){"abort"!=i.statusText&&alert("Error!")}})},T=function(){C(),v()};T()},t=function(i,t){var e=this,n=i,a=$("body"),o=n.parent(),s=n.parents(".media-gallery"),r=$("html"),d=$(window),c=o.find(".media-gallery__item img"),l=null,u=null,p=null,f=null,h=null,v=null,m=null,w=null,g=null,_=function(){d.on({resize:function(){P()}}),u.parent().on({click:function(){T()}}),u.on({click:function(i){i.stopPropagation()}}),p.on({click:function(){return T(),!1}})},y=function(){s.attr("data-loaded-type");l=$('<div class="swiper-popup">                                    <div class="swiper-container">                                        <div class="swiper-wrapper"></div>                                        <div class="swiper-pagination"></div>                                        <div class="swiper-button-next"></div>                                        <div class="swiper-button-prev"></div>                                    </div>                                </div>'),f=l.find(".swiper-wrapper"),h=l.find(".swiper-container"),v=l.find(".swiper-pagination"),m=l.find(".swiper-button-next"),w=l.find(".swiper-button-prev")},b=function(){var i=l.find(".swiper-slide-active"),t=i.find("[data-src]").data("src"),e=$('<iframe src="'+t+'"> frameborder="0" allowfullscreen></iframe>');$(".swiper-slide-active").find(".swiper-popup__video").prepend(e)},C=function(){y(),k(),E(),g.slideTo(t,0),l.addClass("active"),S(),g.onResize()},T=function(){l.removeClass("active"),setTimeout(function(){r.css({overflow:"",paddingRight:""}),l.remove()},300)},k=function(){$.each(c,function(){var i=null,t=null,e=null;$(this).hasClass("media-gallery__item_video")?(e='<i class="fa fa-spinner fa-spin"></i>',i='<div class="swiper-popup__video"/>',t='data-src="'+$(this).attr("href")+'"'):(e="",i='<img src="'+$(this).attr("src")+'">',t="");var n=$('<div class="swiper-slide">                                        <div class="swiper-popup__inner" '+t+'>                                            <a href="#" class="swiper-popup__close"></a>                                            '+e+"                                            "+i+'                                            <span class="swiper-slide__title">'+$(this).attr("title")+"</span>                                        </div>                                    </div>");f.append(n),n.find("img").on({load:function(){$(this).attr("data-width",this.width),$(this).attr("data-height",this.height),z(this.width,this.height,$(this))}})}),a.append(l),u=l.find(".swiper-popup__inner"),p=l.find(".swiper-popup__close")},x=function(){var i=document.createElement("div"),t=null;return document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},E=function(){g=new Swiper(h,{pagination:v,nextButton:m,prevButton:w,slidesPerView:1,paginationClickable:!0,onSlideChangeEnd:function(){j(),$(".swiper-slide-active").find("[data-src]").length&&b()}})},R=function(){C(),_(),n[0].obj=e},j=function(){var i=l.find(".swiper-slide"),t=i.find(".swiper-popup__video iframe");t.remove()},z=function(i,t,e){var n=0;n=l.width()/i>l.height()/t?l.height()/t:l.width()/i,n>=1?e.css({width:.85*i,height:.85*t}):e.css({width:n*i*.85,height:n*t*.85})},P=function(){$.each(f.find("img"),function(){z($(this).data("width"),$(this).data("height"),$(this))})},S=function(){r.css({overflow:"hidden",paddingRight:x()})};R()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tZWRpYS1nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiU2xpZGVycyIsInRoaXMiLCJNZW51IiwiU29ydCIsIm9iaiIsIl9vYmoiLCJfYnRuIiwiX2NvbnN0cnVjdG9yIiwiX29uRXZlbnRzIiwib24iLCJoYXNDbGFzcyIsIl9jbG9zZU1lbnUiLCJfb3Blbk1lbnUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiX3BhcnRuZXJzIiwiX2NhdGFsb2ciLCJfc3ViTWVudSIsIl9wcm9tbyIsIl9wYXJ0bmVyc1NsaWRlciIsImZpbmQiLCJfc3ViTWVudVNsaWRlciIsIl9jYXRhbG9nU2xpZGVyIiwiX3Byb21vU2xpZGVyIiwiX3BhcnRuZXJzUHJldiIsIl9jYXRhbG9nUHJldiIsIl9wcm9tb1ByZXYiLCJfcGFydG5lcnNOZXh0IiwiX2NhdGFsb2dOZXh0IiwiX3Byb21vTmV4dCIsIl93aW5kb3ciLCJ3aW5kb3ciLCJfaW5pdFNsaWRlciIsIlN3aXBlciIsImF1dG9wbGF5Iiwic3BlZWQiLCJlZmZlY3QiLCJzbGlkZXNQZXJWaWV3IiwibG9vcCIsImxvb3BlZFNsaWRlcyIsInNwYWNlQmV0d2VlbiIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwiYnJlYWtwb2ludHMiLCI3NjciLCIxMTk5Iiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwic3dpcGVyIiwic2xpZGVUbyIsImluZGV4Iiwib25TbGlkZUNoYW5nZUVuZCIsIm9uUmVhY2hCZWdpbm5pbmciLCJzZXRUaW1lb3V0Iiwib25SZWFjaEVuZCIsIl9vbkV2ZW50Iiwib3V0ZXJXaWR0aCIsInJlc2l6ZSIsIl9kZXN0cm95U2xpZGVyIiwiZGVzdHJveSIsIl9pbml0IiwiX3NpdGUiLCJfY29uc3RydWN0IiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJsZW5ndGgiLCJfY2xvc2VMYW5ndWFnZSIsImN1ckVsZW0iLCJ3aWR0aCIsIl9vcGVuTGFuZ3VhZ2UiLCJNZWRpYUdhbGxlcnkiLCJfYm9keSIsIl93cmFwcGVyIiwiX3N3aXRjaGVyIiwiX3N3aXRjaEJ0biIsIl9jb3ZlciIsIl9wcmVsb2FkZXIiLCJfYnRuTW9yZSIsIl9maWxlTGluayIsImRhdGEiLCJfaXNHYWxsZXJ5IiwiX2ZpcnN0R3JvdXAiLCJfZmlsdGVyRmxhZyIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJjdXJCdG4iLCJjdXJUeXBlIiwiaXNvdG9wZSIsImZpbHRlciIsImNsaWNrIiwiX2xvYWROZXdJdGVtcyIsIlN3aXBlclBvcHVwIiwiX2FkZEdhbGxlcnlDb250ZW50IiwibXNnIiwiYXR0ciIsIl9kZXN0cm95R2FsbGVyeSIsIm5ld0Jsb2NrIiwiaGFzSXRlbXMiLCJoYXNfaXRlbXMiLCJnZXRJdGVtcyIsIml0ZW1zIiwiY3VySXRlbSIsInR5cGUiLCJkdW1teSIsImFwcGVuZCIsIm5ld0l0ZW1zIiwiX2hlaWdodEFuaW1hdGlvbiIsIl9pbml0R2FsbGVyeSIsImR1cmF0aW9uIiwiYW5pbWF0ZSIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwiY29tcGxldGUiLCJjc3MiLCJpIiwiX3Nob3dOZXdJdGVtcyIsIl9yZW1vdmVCdG5Nb3JlIiwiaXRlbSIsImRlbGF5Iiwid3JhcEl0ZW0iLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJtYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJyZW1vdmUiLCJwYXRoIiwiYWJvcnQiLCJhamF4IiwidXJsIiwiYWN0aW9uIiwicGFnZSIsImRhdGFUeXBlIiwidGltZW91dCIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsIl9zZWxmIiwicGFyZW50IiwiX2dhbGxlcnlXcmFwIiwicGFyZW50cyIsIl9odG1sIiwiX2xpbmtzIiwiX3BvcHVwIiwiX3BvcHVwSW5uZXIiLCJfcG9wdXBDbG9zZSIsIl9zd2lwZXJXcmFwcGVyIiwiX3N3aXBlckNvbnRhaW5lciIsIl9zd2lwZXJQYWdpbmF0aW9uIiwiX3N3aXBlckJ0bk5leHQiLCJfc3dpcGVyQnRuUHJldiIsIl9zd2lwZXIiLCJfYWRkRXZlbnRzIiwiX3NldFBpY3R1cmVTaXplV2hlblJlc2l6ZSIsIl9jbG9zZVBvcHVwIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJfYWRkaW5nVmFyaWFibGVzIiwiX2FkZFZpZGVvIiwiYWN0aXZlU2xpZGUiLCJzcmMiLCJpbm5lckNvbnRlbnQiLCJwcmVwZW5kIiwiX2J1aWxkUG9wdXAiLCJfY29udGVudEZpbGxpbmciLCJfaW5pdFN3aXBlciIsIl9zZXRTdHlsZXMiLCJvblJlc2l6ZSIsIm92ZXJmbG93IiwicGFkZGluZ1JpZ2h0IiwiZGF0YVNSQyIsInByZWxvYWRlciIsIm5ld0l0ZW0iLCJsb2FkIiwiX3NldFBpY3R1cmVTaXplIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsRGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2Nyb2xsYmFyV2lkdGgiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvbkNsaWNrYWJsZSIsIl9yZW1vdmVWaWRlbyIsInZpZGVvRnJhbWUiLCJwaWNXaWR0aCIsInBpY0hlaWdodCIsInBpYyIsImsiXSwibWFwcGluZ3MiOiJDQUFBLFdBRUlBLEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBQ3RCLEdBQUlFLEdBQVVGLEVBQUdHLFNBR3JCSCxFQUFFQyxLQUFNRCxFQUFHLFlBQWMsV0FDckIsR0FBSUUsR0FBVUYsRUFBR0csU0FHckJILEVBQUVDLEtBQU1ELEVBQUcsa0JBQW9CLFdBQzNCLEdBQUlFLEdBQVVGLEVBQUdHLFNBR3JCSCxFQUFFQyxLQUFNRCxFQUFHLGFBQWUsV0FDdEIsR0FBSUUsR0FBVUYsRUFBR0csU0FHckJILEVBQUVDLEtBQU1ELEVBQUcsZ0JBQWtCLFdBQ3pCLEdBQUlJLEdBQU9KLEVBQUdHLFNBR2xCSCxFQUFFQyxLQUFNRCxFQUFHLGVBQWlCLFdB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QVF5SCxFQUdsQkcsR0FBSyxFQUVORCxFQUFJOUUsS0FDQTdDLE1BQWtCLElBQVR5SCxFQUNUL0UsT0FBb0IsSUFBVmdGLElBS2RDLEVBQUk5RSxLQUNBN0MsTUFBUzRILEVBQUVILEVBQVMsSUFDcEIvRSxPQUFVa0YsRUFBRUYsRUFBVSxPQU1sQ3JDLEVBQTRCLFdBRXhCM0osRUFBRUMsS0FBTW1KLEVBQWU5SCxLQUFNLE9BQVMsV0FFbEMwSixFQUFpQmhMLEVBQUdHLE1BQU84RSxLQUFNLFNBQVdqRixFQUFHRyxNQUFPOEUsS0FBTSxVQUFZakYsRUFBR0csVUFLbkZxSyxFQUFhLFdBRVR6QixFQUFNNUIsS0FDRnVELFNBQVUsU0FDVkMsYUFBY00sTUFLMUJwSCIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnBhcnRuZXJzJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5jYXRhbG9nJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9tb19fc2xpZGVyJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zdWItbWVudScgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubW9iaWxlLW1lbnUnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgTWVudSAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmJsb2dfX3NvcnQnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IFNvcnQoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9idG4gPSAkKCAnLm1vYmlsZS1tZW51LWJ0bicgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG4ub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICQoIHRoaXMpLmhhc0NsYXNzKCAnY2xvc2UnICkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5hZGRDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5yZW1vdmVDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTbGlkZXJzID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3BhcnRuZXJzU2xpZGVyID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyID0gX29iai5maW5kKCAnLnN1Yi1tZW51X19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9jYXRhbG9nU2xpZGVyID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3Byb21vU2xpZGVyID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9wYXJ0bmVyc1ByZXYgPSBfb2JqLmZpbmQoICcucGFydG5lcnNfX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfY2F0YWxvZ1ByZXYgPSBfb2JqLmZpbmQoICcuY2F0YWxvZ19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9wcm9tb1ByZXYgPSBfb2JqLmZpbmQoICcucHJvbW9fX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfcGFydG5lcnNOZXh0ID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX2NhdGFsb2dOZXh0ID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfcHJvbW9OZXh0ID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX3BhcnRuZXJzLFxyXG4gICAgICAgICAgICBfY2F0YWxvZyxcclxuICAgICAgICAgICAgX3N1Yk1lbnUsXHJcbiAgICAgICAgICAgIF9wcm9tbyxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9wYXJ0bmVycyA9IG5ldyBTd2lwZXIgKCBfcGFydG5lcnNTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9wYXJ0bmVyc05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3BhcnRuZXJzUHJldlxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9jYXRhbG9nID0gbmV3IFN3aXBlciAoIF9jYXRhbG9nU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfY2F0YWxvZ05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX2NhdGFsb2dQcmV2LFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDc2Nzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAxMTk5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Byb21vID0gbmV3IFN3aXBlciAoIF9wcm9tb1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3Byb21vTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJvbW9QcmV2XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N1Yk1lbnUgPSBuZXcgU3dpcGVyICggX3N1Yk1lbnVTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N1Yk1lbnVTbGlkZXJbMF0uc3dpcGVyLnNsaWRlVG8oIF9zdWJNZW51LmZpbmQoICcuYWN0aXZlJyApLmluZGV4KCkgLCAyMDAsIGZhbHNlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlRW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ2VuZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVhY2hCZWdpbm5pbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdlbmQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwzMDAgKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVhY2hFbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnZW5kJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMzAwIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5vdXRlcldpZHRoKCkgPD0gNzY3ICApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyICgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAncmVzaXplJzogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cub3V0ZXJXaWR0aCgpID49IDc2NyAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95U2xpZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rlc3Ryb3lTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudVNsaWRlclsgMCBdLnN3aXBlci5kZXN0cm95KCBmYWxzZSwgdHJ1ZSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNvcnQgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9zaXRlID0gJCggJy5zaXRlJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3NpdGUub24oXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJywgZnVuY3Rpb24gKCBlICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfb2JqLmhhc0NsYXNzKCAnb3BlbicgKSAmJiAkKCBlLnRhcmdldCApLmNsb3Nlc3QoIF9vYmogKS5sZW5ndGggPT0gMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJFbGVtLmhhc0NsYXNzKCAnb3BlbicgKSAmJiBfd2luZG93LndpZHRoKCkgPCAxMjAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUxhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggX3dpbmRvdy53aWR0aCgpIDwgMTIwMCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5MYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IClcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZUxhbmd1YWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbicgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29wZW5MYW5ndWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW4nIClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3QoKTtcclxuICAgIH07XHJcblxyXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5tZWRpYS1nYWxsZXJ5JyApLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgbmV3IE1lZGlhR2FsbGVyeSAoICQoIHRoaXMgKSApXHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIE1lZGlhR2FsbGVyeSA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfd3JhcHBlciA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X193cmFwJyApLFxyXG4gICAgICAgICAgICBfc3dpdGNoZXIgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fc3dpdGNoZXInICksXHJcbiAgICAgICAgICAgIF9zd2l0Y2hCdG4gPSBfc3dpdGNoZXIuZmluZCggJ2J1dHRvbicgKSxcclxuICAgICAgICAgICAgX2NvdmVyID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX2NvdmVyJyApLFxyXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gX29iai5maW5kKCAnLnByZWxvYWRlcicgKSxcclxuICAgICAgICAgICAgX2J0bk1vcmUgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fbW9yZScgKSxcclxuICAgICAgICAgICAgX2ZpbGVMaW5rID0gX2JvZHkuZGF0YSggJ2FjdGlvbicgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxyXG4gICAgICAgICAgICBfaXNHYWxsZXJ5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIF9maXJzdEdyb3VwID0gdHJ1ZSxcclxuICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSBmYWxzZSxcclxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3dpdGNoQnRuLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJCdG4gPSAkKCB0aGlzICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clR5cGUgPSBjdXJCdG4uZGF0YSggJ3R5cGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zd2l0Y2hCdG4ucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyQnRuLmFkZENsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwcGVyLmlzb3RvcGUoIHsgZmlsdGVyOiAnLicrIGN1clR5cGUgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnY2xpY2snLCAnLm1lZGlhLWdhbGxlcnlfX2l0ZW0nLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgU3dpcGVyUG9wdXAoICQoIHRoaXMgKSwgJCggdGhpcyApLmluZGV4KCkgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50ID0gZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSAhPT0gMCAmJiBfaXNHYWxsZXJ5ICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0l0ZW1zID0gbXNnLmhhc19pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBnZXRJdGVtcyA9IG1zZy5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jaztcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goIGdldEl0ZW1zLCBmdW5jdGlvbiggKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jayA9ICQoICc8ZGl2IGNsYXNzPVwibWVkaWEtZ2FsbGVyeV9faXRlbSBuZXcgJysgY3VySXRlbS50eXBlICsnXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgY3VySXRlbS5kdW1teSArJ1wiIGFsdD1cIicrIGN1ckl0ZW0udHlwZSArJ1wiLz4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd3JhcHBlci5hcHBlbmQoIG5ld0Jsb2NrICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtcyA9IF93cmFwcGVyLmZpbmQoICcubmV3JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICk7XHJcbiAgICAgICAgICAgICAgICB9LCA1NTAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pbml0R2FsbGVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgNTAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnLCArX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnICkrMSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rlc3Ryb3lHYWxsZXJ5ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dyYXBwZXIuaXNvdG9wZSggJ2Rlc3Ryb3knICk7XHJcbiAgICAgICAgICAgICAgICBfaXNHYWxsZXJ5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaGVpZ2h0QW5pbWF0aW9uID0gZnVuY3Rpb24oIGhhc0l0ZW1zLCBuZXdJdGVtcyApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IDUwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX2NvdmVyLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF93cmFwcGVyLm91dGVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuY3NzKCAnaGVpZ2h0JywgJycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLmVhY2goIGZ1bmN0aW9uKCBpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd05ld0l0ZW1zKCAkKCB0aGlzICksIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBoYXNJdGVtcyA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maXJzdEdyb3VwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2hvd05ld0l0ZW1zID0gZnVuY3Rpb24oIGl0ZW0sIGluZGV4ICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVDbGFzcyggJ25ldycgKTtcclxuICAgICAgICAgICAgICAgIH0sIGluZGV4ICogZGVsYXkgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0R2FsbGVyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgd3JhcEl0ZW0gPSAnLm1lZGlhLWdhbGxlcnlfX2l0ZW0nO1xyXG5cclxuICAgICAgICAgICAgICAgIF9pc0dhbGxlcnkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwcGVyLmlzb3RvcGUoIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6IHdyYXBJdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYXNvbnJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLm1lZGlhLWdhbGxlcnlfX3NpemVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maWx0ZXJGbGFnICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuaXNvdG9wZSggeyBmaWx0ZXI6ICcuJysgX3N3aXRjaEJ0bi5maWx0ZXIoICcuYWN0aXZlJyApLmRhdGEoICd0eXBlJyApIH0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCApXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUuY3NzKCAnb3BhY2l0eScsIDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdwYWRkaW5nJywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYXRoICA9IF9maWxlTGluaztcclxuXHJcbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLmFkZENsYXNzKCAnYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2dhbGxlcnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogX3N3aXRjaEJ0bi5kYXRhKCAndHlwZScgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmhlaWdodCggX2NvdmVyLmhlaWdodCgpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQoIG1zZyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSAnYWJvcnQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoICdFcnJvciEnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU3dpcGVyUG9wdXAgPSBmdW5jdGlvbiAoIG9iaiwgaW5kZXggKSB7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF93cmFwcGVyID0gX29iai5wYXJlbnQoKSxcclxuICAgICAgICAgICAgX2dhbGxlcnlXcmFwID0gX29iai5wYXJlbnRzKCAnLm1lZGlhLWdhbGxlcnknICksXHJcbiAgICAgICAgICAgIF9odG1sID0gJCggJ2h0bWwnICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcclxuICAgICAgICAgICAgX2xpbmtzID0gX3dyYXBwZXIuZmluZCggJy5tZWRpYS1nYWxsZXJ5X19pdGVtIGltZycgKSxcclxuICAgICAgICAgICAgX3BvcHVwID0gbnVsbCxcclxuICAgICAgICAgICAgX3BvcHVwSW5uZXIgPSBudWxsLFxyXG4gICAgICAgICAgICBfcG9wdXBDbG9zZSA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJXcmFwcGVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJQYWdpbmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXIgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lci5wYXJlbnQoKS5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyLm9uKHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBldmVudCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBDbG9zZS5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkaW5nVmFyaWFibGVzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9nYWxsZXJ5V3JhcC5hdHRyKCAnZGF0YS1sb2FkZWQtdHlwZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cInN3aXBlci1wb3B1cFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItY29udGFpbmVyXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItd3JhcHBlclwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXBhZ2luYXRpb25cIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1idXR0b24tbmV4dFwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLWJ1dHRvbi1wcmV2XCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyV3JhcHBlciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci13cmFwcGVyJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1jb250YWluZXInICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyUGFnaW5hdGlvbiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRWaWRlbyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IGFjdGl2ZVNsaWRlLmZpbmQoICdbZGF0YS1zcmNdJyApLmRhdGEoICdzcmMnICksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJCggJzxpZnJhbWUgc3JjPVwiJyArIHNyYyArICdcIj4gZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICkuZmluZCggJy5zd2lwZXItcG9wdXBfX3ZpZGVvJyApLnByZXBlbmQoIGlubmVyQ29udGVudCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2J1aWxkUG9wdXAgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9hZGRpbmdWYXJpYWJsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50RmlsbGluZygpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIuc2xpZGVUbyggaW5kZXgsIDAgKTtcclxuICAgICAgICAgICAgICAgIF9wb3B1cC5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgIF9zZXRTdHlsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIub25SZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZVBvcHVwID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7b3ZlcmZsb3c6ICcnLCBwYWRkaW5nUmlnaHQ6ICcnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29udGVudEZpbGxpbmcgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggX2xpbmtzLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJDb250ZW50ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNSQyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRlciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcyApLmhhc0NsYXNzKCAnbWVkaWEtZ2FsbGVyeV9faXRlbV92aWRlbycgKSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVyID0gJzxpIGNsYXNzPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluXCI+PC9pPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGVudCA9ICc8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwX192aWRlb1wiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gJ2RhdGEtc3JjPVwiJyArICQodGhpcykuYXR0ciggXCJocmVmXCIgKSArICdcIic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZXIgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJzxpbWcgc3JjPVwiJyArICQoIHRoaXMgKS5hdHRyKCAnc3JjJyApICsgJ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTUkMgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9ICQoICc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItcG9wdXBfX2lubmVyXCIgJyArIGRhdGFTUkMgKyAnPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInN3aXBlci1wb3B1cF9fY2xvc2VcIj48L2E+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgcHJlbG9hZGVyICsgJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyArIGlubmVyQ29udGVudCArICdcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3dpcGVyLXNsaWRlX190aXRsZVwiPicgKyAkKCB0aGlzICkuYXR0ciggJ3RpdGxlJyApICsgJzwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc3dpcGVyV3JhcHBlci5hcHBlbmQoIG5ld0l0ZW0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5maW5kKCAnaW1nJyApLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuYXR0ciggJ2RhdGEtd2lkdGgnLCB0aGlzLndpZHRoICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuYXR0ciggJ2RhdGEtaGVpZ2h0JywgdGhpcy5oZWlnaHQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSggdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsICQoIHRoaXMgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYm9keS5hcHBlbmQoIF9wb3B1cCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXBvcHVwX19pbm5lcicgKTtcclxuICAgICAgICAgICAgICAgIF9wb3B1cENsb3NlID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXBvcHVwX19jbG9zZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICksXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoIHNjcm9sbERpdiApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9zd2lwZXJDb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfc3dpcGVyUGFnaW5hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfc3dpcGVyQnRuTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfc3dpcGVyQnRuUHJldixcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZUVuZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVZpZGVvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLmZpbmQoICdbZGF0YS1zcmNdJyApLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFZpZGVvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2J1aWxkUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3JlbW92ZVZpZGVvID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItc2xpZGUnICksXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9GcmFtZSA9IGl0ZW1zLmZpbmQoICcuc3dpcGVyLXBvcHVwX192aWRlbyBpZnJhbWUnICk7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0ZyYW1lLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplID0gZnVuY3Rpb24oIHBpY1dpZHRoLCBwaWNIZWlnaHQsIHBpYyApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBrID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICggX3BvcHVwLndpZHRoKCkvcGljV2lkdGggKSA+ICggX3BvcHVwLmhlaWdodCgpL3BpY0hlaWdodCApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBfcG9wdXAuaGVpZ2h0KCkvcGljSGVpZ2h0IDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IF9wb3B1cC53aWR0aCgpL3BpY1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggayA+PSAxICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBpYy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IHBpY1dpZHRoKjAuODUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IHBpY0hlaWdodCowLjg1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGljLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogaypwaWNXaWR0aCowLjg1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBrKnBpY0hlaWdodCowLjg1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplV2hlblJlc2l6ZSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBfc3dpcGVyV3JhcHBlci5maW5kKCAnaW1nJyApLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSggJCggdGhpcyApLmRhdGEoICd3aWR0aCcgKSwgJCggdGhpcyApLmRhdGEoICdoZWlnaHQnICksICQoIHRoaXMgKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRTdHlsZXMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxufSApKCk7XHJcbiJdfQ==

!function(){$(function(){$.each($(".anchor"),function(){new e($(this))}),$.each($(".partners"),function(){new t($(this))}),$.each($(".catalog"),function(){new t($(this))}),$.each($(".promo__slider"),function(){new t($(this))}),$.each($(".sub-menu"),function(){new t($(this))}),$.each($(".mobile-menu"),function(){new n($(this))}),$.each($(".blog__sort"),function(){new o($(this))}),$.each($(".head-shot"),function(){new i($(this))}),$.each($(".rates__item-swiper"),function(){new t($(this))})});var e=function(e){var n=e,t=$("html, body"),o=function(){n.on({click:function(){return $(".menu").hasClass("mobile")&&$(".menu-btn").trigger("click"),t.animate({scrollTop:$($.attr(this,"href")).offset().top},600),$(".menu")[0].obj.destroy(),!1}})},i=function(){o()};i()},n=function(e){var n=e,t=$(".mobile-menu-btn"),o=function(){i()},i=function(){t.on("click",function(){$(this).hasClass("close")?a():s()})},s=function(){t.addClass("close"),n.addClass("visible")},a=function(){t.removeClass("close"),n.removeClass("visible")};o()},t=function(e){var n,t,o,i,s,a=e,c=a.find(".partners__swiper"),r=a.find(".sub-menu__swiper"),u=a.find(".catalog__swiper"),d=a.find(".promo__swiper"),l=a.find(".rates__swiper"),f=a.find(".partners__swiper-prev"),p=a.find(".catalog__swiper-prev"),h=a.find(".promo__swiper-prev"),w=a.find(".rates__swiper-prev"),m=a.find(".partners__swiper-next"),_=a.find(".catalog__swiper-next"),v=a.find(".promo__swiper-next"),g=a.find(".rates__swiper-next"),C=$(window),b=function(){n=new Swiper(c,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:"auto",loop:!0,loopedSlides:20,spaceBetween:80,nextButton:m,prevButton:f}),t=new Swiper(u,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:3,loop:!0,nextButton:_,prevButton:p,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}}),i=new Swiper(d,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:v,prevButton:h}),s=new Swiper(l,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",loop:!1,nextButton:g,prevButton:w}),o=new Swiper(r,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",simulateTouch:!1,onSlideChangeStart:function(){a.removeClass("start"),r[0].swiper.slideTo(o.find(".active").index(),200,!1)},onSlideChangeEnd:function(){a.removeClass("end")},onReachBeginning:function(){a.addClass("start"),a.removeClass("end"),setTimeout(function(){a.addClass("start")},300)},onReachEnd:function(){a.addClass("end"),setTimeout(function(){a.removeClass("start")},300)}})},y=function(){C.outerWidth()<=767&&b(),C.on({resize:function(){C.outerWidth()>=767?T():b()}})},T=function(){r[0].swiper.destroy(!1,!0)},x=function(){y(),b()};x()},o=function(e){var n=e,t=$(".site"),o=$(window),i=function(){s()},s=function(){t.on("click",function(e){n.hasClass("open")&&0==$(e.target).closest(n).length&&a()}),n.on("click",function(){var e=$(this);e.hasClass("open")&&o.width()<1200?a():o.width()<1200&&c()})},a=function(){n.removeClass("open")},c=function(){n.addClass("open")};i()},i=function(e){var n=e,t=$("body"),o=t.data("action"),i=n.find(".head-shot__command-more"),s=n.find(".preloader"),a=n.find(".head-shot__command-wrap"),c=n.find(".head-shot__command-cover"),r=!0,u=new XMLHttpRequest,d=function(){h(),m()},l=function(e){var t,o=e.has_items,i=e.items;console.log(o),$.each(i,function(){var e=this;t=$('<div class="head-shot__command-item new"><img src="'+e.dummy+'" alt="'+e.title+'"/></div>'),a.append(t)});var s=a.find(".new");setTimeout(function(){f(o,s)},550),n.attr("data-loaded-group",+n.attr("data-loaded-group")+1)},f=function(e,n){var t=500;console.log("test1"),console.log(e),console.log(n),console.log("-----"),r&&(t=1),c.animate({height:a.outerHeight()},{duration:t,complete:function(){c.css("height",""),n.each(function(e){p($(this),e),console.log("test2"),console.log($(this)),console.log(e),console.log("-----")}),0==e&&w()}}),r&&setTimeout(function(){r=!1},500)},p=function(e,n){var t=100;r&&(t=1),setTimeout(function(){e.removeClass("new")},n*t)},h=function(){var e=o;s.addClass("active"),u.abort(),u=$.ajax({url:e,data:{action:"gallery",type:"headshot",page:n.attr("data-loaded-group")},dataType:"json",timeout:2e4,type:"GET",success:function(e){c.height(c.height()),l(e)},error:function(e){"abort"!=e.statusText&&alert("Error!")}})},w=function(){i.css("opacity",0),setTimeout(function(){i.css("padding",0),i.animate({height:0},{duration:500,complete:function(){i.remove()}})},300)},m=function(){i.on("click",function(){return h(),!1})};d()}}();
!function(){"use strict";$(function(){$.each($(".media-gallery"),function(){new i($(this))})});var i=function(i){var e=i,n=$("body"),a=e.find(".media-gallery__wrap"),d=$('<div class="media-gallery__sizer"></div>'),s=e.find(".media-gallery__switcher"),o=s.find("button"),r=e.find(".media-gallery__cover"),l=e.find(".preloader"),c=e.find(".media-gallery__more"),u=n.data("action"),p=($(window),!1),f=!0,h=!0,v=new XMLHttpRequest,m=function(){o.on("click",function(){var i=$(this),t=i.data("type");return o.removeClass("active"),i.addClass("active"),e.attr("data-loaded-group",0),k(t),h=!0,!1}),c.on({click:function(){return k(),h=!1,!1}}),e.on("click",".media-gallery__item",function(){return t($(this),$(this).index()-1),h=!0,!1})},w=function(i){0!==e.attr("data-loaded-group")&&p&&g();var t,n=i.has_items,s=i.items;h&&a.html(d),$.each(s,function(){var i=this;t=$('<div class="media-gallery__item new '+i.type+'" title="'+this.title+'" data-href="'+i.dummy__big+'"><img src="'+i.dummy+'" alt="'+i.type+'" /></div>'),1==i.video&&t.addClass("media-gallery__item_video"),a.append(t)});var o=a.find(".new");setTimeout(function(){_(n,o)},550),setTimeout(function(){b()},500),e.attr("data-loaded-group",+e.attr("data-loaded-group")+1)},g=function(){a.isotope("destroy"),p=!1},_=function(i,t){var e=500;f&&(e=1),r.animate({height:a.outerHeight()},{duration:e,complete:function(){r.css("height",""),t.each(function(i){y($(this),i)}),0==i?T():i>0&&C()}}),f&&setTimeout(function(){f=!1},500)},y=function(i,t){var e=100;f&&(e=1),setTimeout(function(){i.removeClass("new")},t*e)},b=function(){var i=".media-gallery__item";p=!0,a.isotope({itemSelector:i,percentPosition:!0,masonry:{columnWidth:".media-gallery__sizer"}}),l.removeClass("active")},C=function(){c.removeClass("hide")},T=function(){c.addClass("hide")},k=function(){var i=u;l.addClass("active"),v.abort(),v=$.ajax({url:i,data:{action:"gallery",page:e.attr("data-loaded-group"),type:o.filter(".active").data("type")},dataType:"json",timeout:2e4,type:"GET",success:function(i){r.height(r.height()),w(i)},error:function(i){"abort"!=i.statusText&&alert("Error!")}})},x=function(){k(),m()};x()},t=function(i,t){var e=this,n=i,a=$("body"),d=n.parent(),s=n.parents(".media-gallery"),o=$("html"),r=$(window),l=d.find(".media-gallery__item"),c=null,u=null,p=null,f=null,h=null,v=null,m=null,w=null,g=null,_=function(){r.on({resize:function(){P()}}),u.parent().on({click:function(){T()}}),u.on({click:function(i){i.stopPropagation()}}),p.on({click:function(){return T(),!1}})},y=function(){s.attr("data-loaded-type");c=$('<div class="swiper-popup">                                    <div class="swiper-container">                                        <div class="swiper-wrapper"></div>                                        <div class="swiper-pagination"></div>                                        <div class="swiper-button-next"></div>                                        <div class="swiper-button-prev"></div>                                    </div>                                </div>'),f=c.find(".swiper-wrapper"),h=c.find(".swiper-container"),v=c.find(".swiper-pagination"),m=c.find(".swiper-button-next"),w=c.find(".swiper-button-prev")},b=function(){var i=c.find(".swiper-slide-active"),t=i.find("[data-src]").data("src"),e=$('<iframe src="'+t+'"> frameborder="0" allowfullscreen></iframe>');$(".swiper-slide-active").find(".swiper-popup__video").prepend(e)},C=function(){y(),k(),z(),g.slideTo(t,0),c.addClass("active"),S(),g.onResize()},T=function(){c.removeClass("active"),setTimeout(function(){o.css({overflow:"",paddingRight:""}),c.remove()},300)},k=function(){$.each(l,function(){var i=null,t=null,e=null;$(this).hasClass("media-gallery__item_video")?(e='<i class="fa fa-spinner fa-spin"></i>',i='<div class="swiper-popup__video"/>',t='data-src="'+$(this).data("href")+'"'):(e="",i='<img src="'+$(this).data("href")+'">',t="");var n=$('<div class="swiper-slide">                                        <div class="swiper-popup__inner" '+t+'>                                            <a href="#" class="swiper-popup__close"></a>                                            '+e+"                                            "+i+'                                            <span class="swiper-slide__title">'+$(this).attr("title")+"</span>                                        </div>                                    </div>");f.append(n),n.find("img").on({load:function(){$(this).attr("data-width",this.width),$(this).attr("data-height",this.height),j(this.width,this.height,$(this))}})}),a.append(c),u=c.find(".swiper-popup__inner"),p=c.find(".swiper-popup__close")},x=function(){var i=document.createElement("div"),t=null;return document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},z=function(){g=new Swiper(h,{pagination:v,nextButton:m,prevButton:w,slidesPerView:1,paginationClickable:!0,onSlideChangeEnd:function(){R(),$(".swiper-slide-active").find("[data-src]").length&&b()}})},E=function(){C(),_(),n[0].obj=e},R=function(){var i=c.find(".swiper-slide"),t=i.find(".swiper-popup__video iframe");t.remove()},j=function(i,t,e){var n=0;n=c.width()/i>c.height()/t?c.height()/t:c.width()/i,n>=1?e.css({width:.85*i,height:.85*t}):e.css({width:n*i*.85,height:n*t*.85})},P=function(){$.each(f.find("img"),function(){j($(this).data("width"),$(this).data("height"),$(this))})},S=function(){o.css({overflow:"hidden",paddingRight:x()})};E()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tZWRpYS1nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQW5jaG9yIiwidGhpcyIsIlNsaWRlcnMiLCJNZW51IiwiU29ydCIsIkhlYWRTaG90TG9hZGVyIiwib2JqIiwiX29iaiIsIl93aW5kb3ciLCJfb25FdmVudHMiLCJvbiIsImNsaWNrIiwiaGFzQ2xhc3MiLCJ0cmlnZ2VyIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJkZXN0cm95IiwiX2NvbnN0cnVjdCIsIl9idG4iLCJfY29uc3RydWN0b3IiLCJfY2xvc2VNZW51IiwiX29wZW5NZW51IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIl9wYXJ0bmVycyIsIl9jYXRhbG9nIiwiX3N1Yk1lbnUiLCJfcHJvbW8iLCJfcmF0ZXMiLCJfcGFydG5lcnNTbGlkZXIiLCJmaW5kIiwiX3N1Yk1lbnVTbGlkZXIiLCJfY2F0YWxvZ1NsaWRlciIsIl9wcm9tb1NsaWRlciIsIl9yYXRlc1NsaWRlciIsIl9wYXJ0bmVyc1ByZXYiLCJfY2F0YWxvZ1ByZXYiLCJfcHJvbW9QcmV2IiwiX3JhdGVzUHJldiIsIl9wYXJ0bmVyc05leHQiLCJfY2F0YWxvZ05leHQiLCJfcHJvbW9OZXh0IiwiX3JhdGVzTmV4dCIsIndpbmRvdyIsIl9pbml0U2xpZGVyIiwiU3dpcGVyIiwiYXV0b3BsYXkiLCJzcGVlZCIsImVmZmVjdCIsInNsaWRlc1BlclZpZXciLCJsb29wIiwibG9vcGVkU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwibmV4dEJ1dHRvbiIsInByZXZCdXR0b24iLCJicmVha3BvaW50cyIsIjc2NyIsIjExOTkiLCJzaW11bGF0ZVRvdWNoIiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwic3dpcGVyIiwic2xpZGVUbyIsImluZGV4Iiwib25TbGlkZUNoYW5nZUVuZCIsIm9uUmVhY2hCZWdpbm5pbmciLCJzZXRUaW1lb3V0Iiwib25SZWFjaEVuZCIsIl9vbkV2ZW50Iiwib3V0ZXJXaWR0aCIsInJlc2l6ZSIsIl9kZXN0cm95U2xpZGVyIiwiX2luaXQiLCJfc2l0ZSIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwibGVuZ3RoIiwiX2Nsb3NlTGFuZ3VhZ2UiLCJjdXJFbGVtIiwid2lkdGgiLCJfb3Blbkxhbmd1YWdlIiwiX2JvZHkiLCJfZmlsZUxpbmsiLCJkYXRhIiwiX2J0bk1vcmUiLCJfcHJlbG9hZGVyIiwiX3dyYXBwZXIiLCJfY292ZXIiLCJfZmlyc3RHcm91cCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbG9hZE5ld0l0ZW1zIiwiX2FkZEdhbGxlcnlDb250ZW50IiwibXNnIiwibmV3QmxvY2siLCJoYXNJdGVtcyIsImhhc19pdGVtcyIsImdldEl0ZW1zIiwiaXRlbXMiLCJjb25zb2xlIiwibG9nIiwiY3VySXRlbSIsImR1bW15IiwidGl0bGUiLCJhcHBlbmQiLCJuZXdJdGVtcyIsIl9oZWlnaHRBbmltYXRpb24iLCJkdXJhdGlvbiIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwiY29tcGxldGUiLCJjc3MiLCJpIiwiX3Nob3dOZXdJdGVtcyIsIl9yZW1vdmVCdG5Nb3JlIiwiaXRlbSIsImRlbGF5IiwicGF0aCIsImFib3J0IiwiYWpheCIsInVybCIsImFjdGlvbiIsInR5cGUiLCJwYWdlIiwiZGF0YVR5cGUiLCJ0aW1lb3V0Iiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzVGV4dCIsImFsZXJ0IiwicmVtb3ZlIiwiTWVkaWFHYWxsZXJ5IiwiX3NpemVyIiwiX3N3aXRjaGVyIiwiX3N3aXRjaEJ0biIsIl9pc0dhbGxlcnkiLCJfZmlsdGVyRmxhZyIsImN1ckJ0biIsImN1clR5cGUiLCJTd2lwZXJQb3B1cCIsIl9kZXN0cm95R2FsbGVyeSIsImh0bWwiLCJkdW1teV9fYmlnIiwidmlkZW8iLCJfaW5pdEdhbGxlcnkiLCJpc290b3BlIiwiX3Nob3dCdG5Nb3JlIiwid3JhcEl0ZW0iLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJtYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJmaWx0ZXIiLCJfc2VsZiIsInBhcmVudCIsIl9nYWxsZXJ5V3JhcCIsInBhcmVudHMiLCJfaHRtbCIsIl9saW5rcyIsIl9wb3B1cCIsIl9wb3B1cElubmVyIiwiX3BvcHVwQ2xvc2UiLCJfc3dpcGVyV3JhcHBlciIsIl9zd2lwZXJDb250YWluZXIiLCJfc3dpcGVyUGFnaW5hdGlvbiIsIl9zd2lwZXJCdG5OZXh0IiwiX3N3aXBlckJ0blByZXYiLCJfc3dpcGVyIiwiX2FkZEV2ZW50cyIsIl9zZXRQaWN0dXJlU2l6ZVdoZW5SZXNpemUiLCJfY2xvc2VQb3B1cCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiX2FkZGluZ1ZhcmlhYmxlcyIsIl9hZGRWaWRlbyIsImFjdGl2ZVNsaWRlIiwic3JjIiwiaW5uZXJDb250ZW50IiwicHJlcGVuZCIsIl9idWlsZFBvcHVwIiwiX2NvbnRlbnRGaWxsaW5nIiwiX2luaXRTd2lwZXIiLCJfc2V0U3R5bGVzIiwib25SZXNpemUiLCJvdmVyZmxvdyIsInBhZGRpbmdSaWdodCIsImRhdGFTUkMiLCJwcmVsb2FkZXIiLCJuZXdJdGVtIiwibG9hZCIsIl9zZXRQaWN0dXJlU2l6ZSIsIl9nZXRTY3JvbGxXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNjcm9sbGJhcldpZHRoIiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwicGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGlja2FibGUiLCJfcmVtb3ZlVmlkZW8iLCJ2aWRlb0ZyYW1lIiwicGljV2lkdGgiLCJwaWNIZWlnaHQiLCJwaWMiLCJrIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVJQSxFQUFHLFdBRUNBLEVBQUVDLEtBQU1ELEVBQUcsV0FBYSxXQUNwQixHQUFJRSxHQUFTRixFQUFHRyxTQUdwQkgsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBQ3RCLEdBQUlJLEdB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RUFBR0csTUFBT3FGLEtBQU0sU0FBV3hGLEVBQUdHLE1BQU9xRixLQUFNLFVBQVl4RixFQUFHRyxVQUtuRndMLEVBQWEsV0FFVHpCLEVBQU05QyxLQUNGeUUsU0FBVSxTQUNWQyxhQUFjTSxNQUsxQnhIIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAkKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuYW5jaG9yJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IEFuY2hvciAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnBhcnRuZXJzJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5jYXRhbG9nJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9tb19fc2xpZGVyJyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zdWItbWVudScgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubW9iaWxlLW1lbnUnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgTWVudSAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmJsb2dfX3NvcnQnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IFNvcnQoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmhlYWQtc2hvdCcgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgSGVhZFNob3RMb2FkZXIoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnJhdGVzX19pdGVtLXN3aXBlcicgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgQW5jaG9yID0gZnVuY3Rpb24gKCBvYmogKSB7XHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCAnaHRtbCwgYm9keScgKTtcclxuXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQoJy5tZW51JykuaGFzQ2xhc3MoICdtb2JpbGUnICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCBcIi5tZW51LWJ0blwiICkudHJpZ2dlciggJ2NsaWNrJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd2luZG93LmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCggJC5hdHRyKHRoaXMsICdocmVmJykgKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCggJy5tZW51JyApWzBdLm9iai5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3QoKVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKXtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2J0biA9ICQoICcubW9iaWxlLW1lbnUtYnRuJyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcykuaGFzQ2xhc3MoICdjbG9zZScgKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfYnRuLmFkZENsYXNzKCAnY2xvc2UnICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAndmlzaWJsZScgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfYnRuLnJlbW92ZUNsYXNzKCAnY2xvc2UnICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAndmlzaWJsZScgKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNsaWRlcnMgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfcGFydG5lcnNTbGlkZXIgPSBfb2JqLmZpbmQoICcucGFydG5lcnNfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3N1Yk1lbnVTbGlkZXIgPSBfb2JqLmZpbmQoICcuc3ViLW1lbnVfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX2NhdGFsb2dTbGlkZXIgPSBfb2JqLmZpbmQoICcuY2F0YWxvZ19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfcHJvbW9TbGlkZXIgPSBfb2JqLmZpbmQoICcucHJvbW9fX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3JhdGVzU2xpZGVyID0gX29iai5maW5kKCAnLnJhdGVzX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9wYXJ0bmVyc1ByZXYgPSBfb2JqLmZpbmQoICcucGFydG5lcnNfX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfY2F0YWxvZ1ByZXYgPSBfb2JqLmZpbmQoICcuY2F0YWxvZ19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9wcm9tb1ByZXYgPSBfb2JqLmZpbmQoICcucHJvbW9fX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfcmF0ZXNQcmV2ID0gX29iai5maW5kKCAnLnJhdGVzX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX3BhcnRuZXJzTmV4dCA9IF9vYmouZmluZCggJy5wYXJ0bmVyc19fc3dpcGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9jYXRhbG9nTmV4dCA9IF9vYmouZmluZCggJy5jYXRhbG9nX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX3Byb21vTmV4dCA9IF9vYmouZmluZCggJy5wcm9tb19fc3dpcGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9yYXRlc05leHQgPSBfb2JqLmZpbmQoICcucmF0ZXNfX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfcGFydG5lcnMsXHJcbiAgICAgICAgICAgIF9jYXRhbG9nLFxyXG4gICAgICAgICAgICBfc3ViTWVudSxcclxuICAgICAgICAgICAgX3Byb21vLFxyXG4gICAgICAgICAgICBfcmF0ZXMsXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2luaXRTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfcGFydG5lcnMgPSBuZXcgU3dpcGVyICggX3BhcnRuZXJzU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3BlZFNsaWRlczogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA4MCxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcGFydG5lcnNOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9wYXJ0bmVyc1ByZXZcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfY2F0YWxvZyA9IG5ldyBTd2lwZXIgKCBfY2F0YWxvZ1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX2NhdGFsb2dOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9jYXRhbG9nUHJldixcclxuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA3Njc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgMTE5OToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcm9tbyA9IG5ldyBTd2lwZXIgKCBfcHJvbW9TbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9wcm9tb05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3Byb21vUHJldlxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9yYXRlcyA9IG5ldyBTd2lwZXIgKCBfcmF0ZXNTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9yYXRlc05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3JhdGVzUHJldlxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9zdWJNZW51ID0gbmV3IFN3aXBlciAoIF9zdWJNZW51U2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZVRvdWNoOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlU3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyWzBdLnN3aXBlci5zbGlkZVRvKCBfc3ViTWVudS5maW5kKCAnLmFjdGl2ZScgKS5pbmRleCgpICwgMjAwLCBmYWxzZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZUVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdlbmQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblJlYWNoQmVnaW5uaW5nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnZW5kJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMzAwIClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblJlYWNoRW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ2VuZCcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LDMwMCApXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cub3V0ZXJXaWR0aCgpIDw9IDc2NyAgKXtcclxuICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWRlciAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Jlc2l6ZSc6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfd2luZG93Lm91dGVyV2lkdGgoKSA+PSA3NjcgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVNsaWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IClcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9kZXN0cm95U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N1Yk1lbnVTbGlkZXJbIDAgXS5zd2lwZXIuZGVzdHJveSggZmFsc2UsIHRydWUgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTb3J0ID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfc2l0ZSA9ICQoICcuc2l0ZScgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zaXRlLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsIGZ1bmN0aW9uICggZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX29iai5oYXNDbGFzcyggJ29wZW4nICkgJiYgJCggZS50YXJnZXQgKS5jbG9zZXN0KCBfb2JqICkubGVuZ3RoID09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUxhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCggdGhpcyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggY3VyRWxlbS5oYXNDbGFzcyggJ29wZW4nICkgJiYgX3dpbmRvdy53aWR0aCgpIDwgMTIwMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIF93aW5kb3cud2lkdGgoKSA8IDEyMDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSApXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2VMYW5ndWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW4nICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vcGVuTGFuZ3VhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuJyApXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfY29uc3RydWN0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBIZWFkU2hvdExvYWRlciA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcclxuICAgICAgICAgICAgX2ZpbGVMaW5rID0gX2JvZHkuZGF0YSggJ2FjdGlvbicgKSxcclxuICAgICAgICAgICAgX2J0bk1vcmUgPSBfb2JqLmZpbmQoICcuaGVhZC1zaG90X19jb21tYW5kLW1vcmUnICksXHJcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBfb2JqLmZpbmQoICcucHJlbG9hZGVyJyApLFxyXG4gICAgICAgICAgICBfd3JhcHBlciA9IF9vYmouZmluZCggJy5oZWFkLXNob3RfX2NvbW1hbmQtd3JhcCcgKSxcclxuICAgICAgICAgICAgX2NvdmVyID0gX29iai5maW5kKCAnLmhlYWQtc2hvdF9fY29tbWFuZC1jb3ZlcicgKSxcclxuICAgICAgICAgICAgX2ZpcnN0R3JvdXAgPSB0cnVlLFxyXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50ID0gZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0l0ZW1zID0gbXNnLmhhc19pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBnZXRJdGVtcyA9IG1zZy5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jaztcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggaGFzSXRlbXMgKVxyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggZ2V0SXRlbXMsIGZ1bmN0aW9uKCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrID0gJCggJzxkaXYgY2xhc3M9XCJoZWFkLXNob3RfX2NvbW1hbmQtaXRlbSBuZXdcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInKyBjdXJJdGVtLmR1bW15ICsnXCIgYWx0PVwiJysgY3VySXRlbS50aXRsZSArJ1wiLz4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd3JhcHBlci5hcHBlbmQoIG5ld0Jsb2NrICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtcyA9IF93cmFwcGVyLmZpbmQoICcubmV3JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICk7XHJcbiAgICAgICAgICAgICAgICB9LCA1NTAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcsICtfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSArIDEgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9oZWlnaHRBbmltYXRpb24gPSBmdW5jdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gNTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAndGVzdDEnICk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggaGFzSXRlbXMgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBuZXdJdGVtcyApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coICctLS0tLScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX2NvdmVyLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF93cmFwcGVyLm91dGVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuY3NzKCAnaGVpZ2h0JywgJycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLmVhY2goIGZ1bmN0aW9uKCBpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd05ld0l0ZW1zKCAkKCB0aGlzICksIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAndGVzdDInIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAkKCB0aGlzICkgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGkgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coICctLS0tLScgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhhc0l0ZW1zID09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpcnN0R3JvdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93TmV3SXRlbXMgPSBmdW5jdGlvbiggaXRlbSwgaW5kZXggKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IDFcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUNsYXNzKCAnbmV3JyApO1xyXG4gICAgICAgICAgICAgICAgfSwgaW5kZXggKiBkZWxheSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWROZXdJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggID0gX2ZpbGVMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdoZWFkc2hvdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuaGVpZ2h0KCBfY292ZXIuaGVpZ2h0KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCggbXNnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggWE1MSHR0cFJlcXVlc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9ICdhYm9ydCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdvcGFjaXR5JywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmNzcyggJ3BhZGRpbmcnLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLm1lZGlhLWdhbGxlcnknICksIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICBuZXcgTWVkaWFHYWxsZXJ5ICggJCggdGhpcyApIClcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgTWVkaWFHYWxsZXJ5ID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF93cmFwcGVyID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX3dyYXAnICksXHJcbiAgICAgICAgICAgIF9zaXplciA9ICQoICc8ZGl2IGNsYXNzPVwibWVkaWEtZ2FsbGVyeV9fc2l6ZXJcIj48L2Rpdj4nICksXHJcbiAgICAgICAgICAgIF9zd2l0Y2hlciA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X19zd2l0Y2hlcicgKSxcclxuICAgICAgICAgICAgX3N3aXRjaEJ0biA9IF9zd2l0Y2hlci5maW5kKCAnYnV0dG9uJyApLFxyXG4gICAgICAgICAgICBfY292ZXIgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fY292ZXInICksXHJcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBfb2JqLmZpbmQoICcucHJlbG9hZGVyJyApLFxyXG4gICAgICAgICAgICBfYnRuTW9yZSA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X19tb3JlJyApLFxyXG4gICAgICAgICAgICBfZmlsZUxpbmsgPSBfYm9keS5kYXRhKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9pc0dhbGxlcnkgPSBmYWxzZSxcclxuICAgICAgICAgICAgX2ZpcnN0R3JvdXAgPSB0cnVlLFxyXG4gICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWUsXHJcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N3aXRjaEJ0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQnRuID0gJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUeXBlID0gY3VyQnRuLmRhdGEoICd0eXBlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc3dpdGNoQnRuLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ckJ0bi5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoIGN1clR5cGUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG5Nb3JlLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlsdGVyRmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnY2xpY2snLCAnLm1lZGlhLWdhbGxlcnlfX2l0ZW0nLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgU3dpcGVyUG9wdXAoICQoIHRoaXMgKSwgJCggdGhpcyApLmluZGV4KCkgLSAxICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCA9IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnICkgIT09IDAgJiYgX2lzR2FsbGVyeSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9kZXN0cm95R2FsbGVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBoYXNJdGVtcyA9IG1zZy5oYXNfaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbXMgPSBtc2cuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlsdGVyRmxhZyApe1xyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwcGVyLmh0bWwoIF9zaXplciApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggZ2V0SXRlbXMsIGZ1bmN0aW9uKCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrID0gJCggJzxkaXYgY2xhc3M9XCJtZWRpYS1nYWxsZXJ5X19pdGVtIG5ldyAnKyBjdXJJdGVtLnR5cGUgKydcIiB0aXRsZT1cIicgKyB0aGlzLnRpdGxlICsgJ1wiIGRhdGEtaHJlZj1cIicrIGN1ckl0ZW0uZHVtbXlfX2JpZyArJ1wiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cIicrIGN1ckl0ZW0uZHVtbXkgKydcIiBhbHQ9XCInKyBjdXJJdGVtLnR5cGUgKydcIiAvPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggY3VySXRlbS52aWRlbyA9PSAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrLmFkZENsYXNzKCAnbWVkaWEtZ2FsbGVyeV9faXRlbV92aWRlbycgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwcGVyLmFwcGVuZCggbmV3QmxvY2sgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW1zID0gX3dyYXBwZXIuZmluZCggJy5uZXcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaGVpZ2h0QW5pbWF0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKTtcclxuICAgICAgICAgICAgICAgIH0sIDU1MCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2luaXRHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgICAgICB9LCA1MDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcsICtfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSsxICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZGVzdHJveUdhbGxlcnkgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd3JhcHBlci5pc290b3BlKCAnZGVzdHJveScgKTtcclxuICAgICAgICAgICAgICAgIF9pc0dhbGxlcnkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9oZWlnaHRBbmltYXRpb24gPSBmdW5jdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gNTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKXtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IDFcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfY292ZXIuYW5pbWF0ZSgge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3dyYXBwZXIub3V0ZXJIZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3Zlci5jc3MoICdoZWlnaHQnLCAnJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbXMuZWFjaCggZnVuY3Rpb24oIGkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93TmV3SXRlbXMoICQoIHRoaXMgKSwgaSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhhc0l0ZW1zID09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGhhc0l0ZW1zID4gMCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93QnRuTW9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maXJzdEdyb3VwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2hvd05ld0l0ZW1zID0gZnVuY3Rpb24oIGl0ZW0sIGluZGV4ICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVDbGFzcyggJ25ldycgKTtcclxuICAgICAgICAgICAgICAgIH0sIGluZGV4ICogZGVsYXkgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0R2FsbGVyeSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgd3JhcEl0ZW0gPSAnLm1lZGlhLWdhbGxlcnlfX2l0ZW0nO1xyXG5cclxuICAgICAgICAgICAgICAgIF9pc0dhbGxlcnkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwcGVyLmlzb3RvcGUoIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6IHdyYXBJdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYXNvbnJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLm1lZGlhLWdhbGxlcnlfX3NpemVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dCdG5Nb3JlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG5Nb3JlLnJlbW92ZUNsYXNzKCAnaGlkZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5hZGRDbGFzcyggJ2hpZGUnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfbG9hZE5ld0l0ZW1zID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCAgPSBfZmlsZUxpbms7XHJcblxyXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdnYWxsZXJ5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IF9zd2l0Y2hCdG4uZmlsdGVyKCAnLmFjdGl2ZScgKS5kYXRhKCAndHlwZScgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmhlaWdodCggX2NvdmVyLmhlaWdodCgpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQoIG1zZyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSAnYWJvcnQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoICdFcnJvciEnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU3dpcGVyUG9wdXAgPSBmdW5jdGlvbiAoIG9iaiwgaW5kZXggKSB7XHJcblxyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF93cmFwcGVyID0gX29iai5wYXJlbnQoKSxcclxuICAgICAgICAgICAgX2dhbGxlcnlXcmFwID0gX29iai5wYXJlbnRzKCAnLm1lZGlhLWdhbGxlcnknICksXHJcbiAgICAgICAgICAgIF9odG1sID0gJCggJ2h0bWwnICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcclxuICAgICAgICAgICAgX2xpbmtzID0gX3dyYXBwZXIuZmluZCggJy5tZWRpYS1nYWxsZXJ5X19pdGVtJyApLFxyXG4gICAgICAgICAgICBfcG9wdXAgPSBudWxsLFxyXG4gICAgICAgICAgICBfcG9wdXBJbm5lciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9wb3B1cENsb3NlID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlcldyYXBwZXIgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyQ29udGFpbmVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlclBhZ2luYXRpb24gPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyQnRuTmV4dCA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJCdG5QcmV2ID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZVdoZW5SZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyLnBhcmVudCgpLm9uKHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwSW5uZXIub24oe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGV2ZW50ICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cENsb3NlLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRpbmdWYXJpYWJsZXMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gX2dhbGxlcnlXcmFwLmF0dHIoICdkYXRhLWxvYWRlZC10eXBlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cCA9ICQoICc8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1jb250YWluZXJcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci13cmFwcGVyXCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItcGFnaW5hdGlvblwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLWJ1dHRvbi1uZXh0XCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItYnV0dG9uLXByZXZcIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXJXcmFwcGVyID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXdyYXBwZXInICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyQ29udGFpbmVyID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXJQYWdpbmF0aW9uID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXBhZ2luYXRpb24nICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyQnRuTmV4dCA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1idXR0b24tbmV4dCcgKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXJCdG5QcmV2ID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZFZpZGVvID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICksXHJcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gYWN0aXZlU2xpZGUuZmluZCggJ1tkYXRhLXNyY10nICkuZGF0YSggJ3NyYycgKSxcclxuICAgICAgICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgPSAkKCAnPGlmcmFtZSBzcmM9XCInICsgc3JjICsgJ1wiPiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKS5maW5kKCAnLnN3aXBlci1wb3B1cF9fdmlkZW8nICkucHJlcGVuZCggaW5uZXJDb250ZW50ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYnVpbGRQb3B1cCA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2FkZGluZ1ZhcmlhYmxlcygpO1xyXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRGaWxsaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlci5zbGlkZVRvKCBpbmRleCwgMCApO1xyXG4gICAgICAgICAgICAgICAgX3BvcHVwLmFkZENsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgX3NldFN0eWxlcygpO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlci5vblJlc2l6ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlUG9wdXAgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtvdmVyZmxvdzogJycsIHBhZGRpbmdSaWdodDogJyd9KTtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jb250ZW50RmlsbGluZyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBfbGlua3MsIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckNvbnRlbnQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdtZWRpYS1nYWxsZXJ5X19pdGVtX3ZpZGVvJyApICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZXIgPSAnPGkgY2xhc3M9XCJmYSBmYS1zcGlubmVyIGZhLXNwaW5cIj48L2k+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJzxkaXYgY2xhc3M9XCJzd2lwZXItcG9wdXBfX3ZpZGVvXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTUkMgPSAnZGF0YS1zcmM9XCInICsgJCh0aGlzKS5kYXRhKCBcImhyZWZcIiApICsgJ1wiJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRlciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgPSAnPGltZyBzcmM9XCInICsgJCh0aGlzKS5kYXRhKCBcImhyZWZcIiApICsgJ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTUkMgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9ICQoICc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItcG9wdXBfX2lubmVyXCIgJyArIGRhdGFTUkMgKyAnPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInN3aXBlci1wb3B1cF9fY2xvc2VcIj48L2E+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgcHJlbG9hZGVyICsgJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyArIGlubmVyQ29udGVudCArICdcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3dpcGVyLXNsaWRlX190aXRsZVwiPicgKyAkKCB0aGlzICkuYXR0ciggJ3RpdGxlJyApICsgJzwvc3Bhbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc3dpcGVyV3JhcHBlci5hcHBlbmQoIG5ld0l0ZW0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5maW5kKCAnaW1nJyApLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuYXR0ciggJ2RhdGEtd2lkdGgnLCB0aGlzLndpZHRoICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCB0aGlzICkuYXR0ciggJ2RhdGEtaGVpZ2h0JywgdGhpcy5oZWlnaHQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSggdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsICQoIHRoaXMgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYm9keS5hcHBlbmQoIF9wb3B1cCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXBvcHVwX19pbm5lcicgKTtcclxuICAgICAgICAgICAgICAgIF9wb3B1cENsb3NlID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXBvcHVwX19jbG9zZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICksXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoIHNjcm9sbERpdiApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9zd2lwZXJDb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBfc3dpcGVyUGFnaW5hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfc3dpcGVyQnRuTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfc3dpcGVyQnRuUHJldixcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZUVuZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVZpZGVvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLmZpbmQoICdbZGF0YS1zcmNdJyApLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFZpZGVvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2J1aWxkUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3JlbW92ZVZpZGVvID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItc2xpZGUnICksXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9GcmFtZSA9IGl0ZW1zLmZpbmQoICcuc3dpcGVyLXBvcHVwX192aWRlbyBpZnJhbWUnICk7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0ZyYW1lLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplID0gZnVuY3Rpb24oIHBpY1dpZHRoLCBwaWNIZWlnaHQsIHBpYyApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBrID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICggX3BvcHVwLndpZHRoKCkvcGljV2lkdGggKSA+ICggX3BvcHVwLmhlaWdodCgpL3BpY0hlaWdodCApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBfcG9wdXAuaGVpZ2h0KCkvcGljSGVpZ2h0IDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IF9wb3B1cC53aWR0aCgpL3BpY1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggayA+PSAxICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBpYy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IHBpY1dpZHRoKjAuODUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IHBpY0hlaWdodCowLjg1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGljLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogaypwaWNXaWR0aCowLjg1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBrKnBpY0hlaWdodCowLjg1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplV2hlblJlc2l6ZSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBfc3dpcGVyV3JhcHBlci5maW5kKCAnaW1nJyApLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSggJCggdGhpcyApLmRhdGEoICd3aWR0aCcgKSwgJCggdGhpcyApLmRhdGEoICdoZWlnaHQnICksICQoIHRoaXMgKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRTdHlsZXMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxufSApKCk7XHJcbiJdfQ==

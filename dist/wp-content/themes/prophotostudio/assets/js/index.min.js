!function(){$(function(){$.each($(".partners"),function(){new n($(this))}),$.each($(".catalog"),function(){new n($(this))}),$.each($(".promo__slider"),function(){new n($(this))}),$.each($(".sub-menu"),function(){new n($(this))}),$.each($(".mobile-menu"),function(){new e($(this))}),$.each($(".blog__sort"),function(){new t($(this))}),$.each($(".head-shot"),function(){new i($(this))}),$.each($(".rates__item-swiper"),function(){new n($(this))})});var e=function(e){var n=e,t=$(".mobile-menu-btn"),i=function(){o()},o=function(){t.on("click",function(){$(this).hasClass("close")?a():s()})},s=function(){t.addClass("close"),n.addClass("visible")},a=function(){t.removeClass("close"),n.removeClass("visible")};i()},n=function(e){var n,t,i,o,s,a=e,r=a.find(".partners__swiper"),c=a.find(".sub-menu__swiper"),d=a.find(".catalog__swiper"),u=a.find(".promo__swiper"),f=a.find(".rates__swiper"),l=a.find(".partners__swiper-prev"),p=a.find(".catalog__swiper-prev"),h=a.find(".promo__swiper-prev"),w=a.find(".rates__swiper-prev"),m=a.find(".partners__swiper-next"),_=a.find(".catalog__swiper-next"),v=a.find(".promo__swiper-next"),g=a.find(".rates__swiper-next"),C=$(window),b=function(){n=new Swiper(r,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:"auto",loop:!0,loopedSlides:20,spaceBetween:80,nextButton:m,prevButton:l}),t=new Swiper(d,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:3,loop:!0,nextButton:_,prevButton:p,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}}),o=new Swiper(u,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:v,prevButton:h}),s=new Swiper(f,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",loop:!1,nextButton:g,prevButton:w}),i=new Swiper(c,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",onSlideChangeStart:function(){a.removeClass("start"),c[0].swiper.slideTo(i.find(".active").index(),200,!1)},onSlideChangeEnd:function(){a.removeClass("end")},onReachBeginning:function(){a.addClass("start"),a.removeClass("end"),setTimeout(function(){a.addClass("start")},300)},onReachEnd:function(){a.addClass("end"),setTimeout(function(){a.removeClass("start")},300)}})},y=function(){C.outerWidth()<=767&&b(),C.on({resize:function(){C.outerWidth()>=767?x():b()}})},x=function(){c[0].swiper.destroy(!1,!0)},B=function(){y(),b()};B()},t=function(e){var n=e,t=$(".site"),i=$(window),o=function(){s()},s=function(){t.on("click",function(e){n.hasClass("open")&&0==$(e.target).closest(n).length&&a()}),n.on("click",function(){var e=$(this);e.hasClass("open")&&i.width()<1200?a():i.width()<1200&&r()})},a=function(){n.removeClass("open")},r=function(){n.addClass("open")};o()},i=function(e){var n=e,t=$("body"),i=t.data("action"),o=n.find(".head-shot__command-more"),s=n.find(".preloader"),a=n.find(".head-shot__command-wrap"),r=n.find(".head-shot__command-cover"),c=!0,d=new XMLHttpRequest,u=function(){h(),m()},f=function(e){var t,i=e.has_items,o=e.items;$.each(o,function(){var e=this;t=$('<div class="head-shot__command-item new"><img src="'+e.dummy+'" alt="'+e.title+'"/></div>'),a.append(t)});var s=a.find(".new");setTimeout(function(){l(i,s)},550),n.attr("data-loaded-group",+n.attr("data-loaded-group")+1)},l=function(e,n){var t=500;c&&(t=1),r.animate({height:a.outerHeight()},{duration:t,complete:function(){r.css("height",""),n.each(function(e){p($(this),e)}),0==e&&w()}}),c&&setTimeout(function(){c=!1},500)},p=function(e,n){var t=100;c&&(t=1),setTimeout(function(){e.removeClass("new")},n*t)},h=function(){var e=i;s.addClass("active"),d.abort(),d=$.ajax({url:e,data:{action:"gallery",page:n.attr("data-loaded-group")},dataType:"json",timeout:2e4,type:"GET",success:function(e){r.height(r.height()),f(e)},error:function(e){"abort"!=e.statusText&&alert("Error!")}})},w=function(){o.css("opacity",0),setTimeout(function(){o.css("padding",0),o.animate({height:0},{duration:500,complete:function(){o.remove()}})},300)},m=function(){o.on("click",function(){return h(),!1})};u()}}();
!function(){"use strict";$(function(){$.each($(".media-gallery"),function(){new i($(this))})});var i=function(i){var e=i,n=$("body"),a=e.find(".media-gallery__wrap"),o=$('<div class="media-gallery__sizer"></div>'),d=e.find(".media-gallery__switcher"),s=d.find("button"),r=e.find(".media-gallery__cover"),l=e.find(".preloader"),c=e.find(".media-gallery__more"),u=n.data("action"),p=($(window),!1),f=!0,h=!0,v=new XMLHttpRequest,m=function(){s.on("click",function(){var i=$(this),t=i.data("type");return s.removeClass("active"),i.addClass("active"),T(t),h=!0,!1}),c.on({click:function(){return T(),h=!1,!1}}),e.on("click",".media-gallery__item",function(){return t($(this),$(this).index()-1),h=!0,!1})},g=function(i){0!==e.attr("data-loaded-group")&&p&&w();var t,n=i.has_items,d=i.items;h&&(console.log("dddd"),a.html(o)),$.each(d,function(){var i=this;t=$('<div class="media-gallery__item new '+i.type+'" title="'+this.title+'" data-href="'+i.dummy__big+'"><img src="'+i.dummy+'" alt="'+i.type+'" /></div>'),1==i.video&&t.addClass("media-gallery__item_video"),a.append(t)});var s=a.find(".new");setTimeout(function(){_(n,s)},550),setTimeout(function(){b()},500),e.attr("data-loaded-group",+e.attr("data-loaded-group")+1)},w=function(){a.isotope("destroy"),p=!1},_=function(i,t){var e=500;f&&(e=1),r.animate({height:a.outerHeight()},{duration:e,complete:function(){r.css("height",""),t.each(function(i){y($(this),i)}),0==i&&C()}}),f&&setTimeout(function(){f=!1},500)},y=function(i,t){var e=100;f&&(e=1),setTimeout(function(){i.removeClass("new")},t*e)},b=function(){var i=".media-gallery__item";p=!0,a.isotope({itemSelector:i,percentPosition:!0,masonry:{columnWidth:".media-gallery__sizer"}}),l.removeClass("active")},C=function(){c.css("opacity",0),setTimeout(function(){c.css("padding",0),c.animate({height:0},{duration:500,complete:function(){c.remove()}})},300)},T=function(){var i=u;l.addClass("active"),v.abort(),v=$.ajax({url:i,data:{action:"gallery",page:e.attr("data-loaded-group"),type:s.data("type")},dataType:"json",timeout:2e4,type:"GET",success:function(i){r.height(r.height()),g(i)},error:function(i){"abort"!=i.statusText&&alert("Error!")}})},k=function(){T(),m()};k()},t=function(i,t){var e=this,n=i,a=$("body"),o=n.parent(),d=n.parents(".media-gallery"),s=$("html"),r=$(window),l=o.find(".media-gallery__item"),c=null,u=null,p=null,f=null,h=null,v=null,m=null,g=null,w=null,_=function(){r.on({resize:function(){P()}}),u.parent().on({click:function(){T()}}),u.on({click:function(i){i.stopPropagation()}}),p.on({click:function(){return T(),!1}})},y=function(){d.attr("data-loaded-type");c=$('<div class="swiper-popup">                                    <div class="swiper-container">                                        <div class="swiper-wrapper"></div>                                        <div class="swiper-pagination"></div>                                        <div class="swiper-button-next"></div>                                        <div class="swiper-button-prev"></div>                                    </div>                                </div>'),f=c.find(".swiper-wrapper"),h=c.find(".swiper-container"),v=c.find(".swiper-pagination"),m=c.find(".swiper-button-next"),g=c.find(".swiper-button-prev")},b=function(){var i=c.find(".swiper-slide-active"),t=i.find("[data-src]").data("src"),e=$('<iframe src="'+t+'"> frameborder="0" allowfullscreen></iframe>');$(".swiper-slide-active").find(".swiper-popup__video").prepend(e)},C=function(){y(),k(),z(),w.slideTo(t,0),c.addClass("active"),S(),w.onResize()},T=function(){c.removeClass("active"),setTimeout(function(){s.css({overflow:"",paddingRight:""}),c.remove()},300)},k=function(){$.each(l,function(){var i=null,t=null,e=null;$(this).hasClass("media-gallery__item_video")?(e='<i class="fa fa-spinner fa-spin"></i>',i='<div class="swiper-popup__video"/>',t='data-src="'+$(this).data("href")+'"'):(e="",i='<img src="'+$(this).data("href")+'">',t="");var n=$('<div class="swiper-slide">                                        <div class="swiper-popup__inner" '+t+'>                                            <a href="#" class="swiper-popup__close"></a>                                            '+e+"                                            "+i+'                                            <span class="swiper-slide__title">'+$(this).attr("title")+"</span>                                        </div>                                    </div>");f.append(n),n.find("img").on({load:function(){$(this).attr("data-width",this.width),$(this).attr("data-height",this.height),j(this.width,this.height,$(this))}})}),a.append(c),u=c.find(".swiper-popup__inner"),p=c.find(".swiper-popup__close")},x=function(){var i=document.createElement("div"),t=null;return document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},z=function(){w=new Swiper(h,{pagination:v,nextButton:m,prevButton:g,slidesPerView:1,paginationClickable:!0,onSlideChangeEnd:function(){R(),$(".swiper-slide-active").find("[data-src]").length&&b()}})},E=function(){C(),_(),n[0].obj=e},R=function(){var i=c.find(".swiper-slide"),t=i.find(".swiper-popup__video iframe");t.remove()},j=function(i,t,e){var n=0;n=c.width()/i>c.height()/t?c.height()/t:c.width()/i,n>=1?e.css({width:.85*i,height:.85*t}):e.css({width:n*i*.85,height:n*t*.85})},P=function(){$.each(f.find("img"),function(){j($(this).data("width"),$(this).data("height"),$(this))})},S=function(){s.css({overflow:"hidden",paddingRight:x()})};E()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tZWRpYS1nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiU2xpZGVycyIsInRoaXMiLCJNZW51IiwiU29ydCIsIkhlYWRTaG90TG9hZGVyIiwib2JqIiwiX29iaiIsIl9idG4iLCJfY29uc3RydWN0b3IiLCJfb25FdmVudHMiLCJvbiIsImhhc0NsYXNzIiwiX2Nsb3NlTWVudSIsIl9vcGVuTWVudSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJfcGFydG5lcnMiLCJfY2F0YWxvZyIsIl9zdWJNZW51IiwiX3Byb21vIiwiX3JhdGVzIiwiX3BhcnRuZXJzU2xpZGVyIiwiZmluZCIsIl9zdWJNZW51U2xpZGVyIiwiX2NhdGFsb2dTbGlkZXIiLCJfcHJvbW9TbGlkZXIiLCJfcmF0ZXNTbGlkZXIiLCJfcGFydG5lcnNQcmV2IiwiX2NhdGFsb2dQcmV2IiwiX3Byb21vUHJldiIsIl9yYXRlc1ByZXYiLCJfcGFydG5lcnNOZXh0IiwiX2NhdGFsb2dOZXh0IiwiX3Byb21vTmV4dCIsIl9yYXRlc05leHQiLCJfd2luZG93Iiwid2luZG93IiwiX2luaXRTbGlkZXIiLCJTd2lwZXIiLCJhdXRvcGxheSIsInNwZWVkIiwiZWZmZWN0Iiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJsb29wZWRTbGlkZXMiLCJzcGFjZUJldHdlZW4iLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsImJyZWFrcG9pbnRzIiwiNzY3IiwiMTE5OSIsIm9uU2xpZGVDaGFuZ2VTdGFydCIsInN3aXBlciIsInNsaWRlVG8iLCJpbmRleCIsIm9uU2xpZGVDaGFuZ2VFbmQiLCJvblJlYWNoQmVnaW5uaW5nIiwic2V0VGltZW91dCIsIm9uUmVhY2hFbmQiLCJfb25FdmVudCIsIm91dGVyV2lkdGgiLCJyZXNpemUiLCJfZGVzdHJveVNsaWRlciIsImRlc3Ryb3kiLCJfaW5pdCIsIl9zaXRlIiwiX2NvbnN0cnVjdCIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwibGVuZ3RoIiwiX2Nsb3NlTGFuZ3VhZ2UiLCJjdXJFbGVtIiwid2lkdGgiLCJfb3Blbkxhbmd1YWdlIiwiX2JvZHkiLCJfZmlsZUxpbmsiLCJkYXRhIiwiX2J0bk1vcmUiLCJfcHJlbG9hZGVyIiwiX3dyYXBwZXIiLCJfY292ZXIiLCJfZmlyc3RHcm91cCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbG9hZE5ld0l0ZW1zIiwiX2FkZEdhbGxlcnlDb250ZW50IiwibXNnIiwibmV3QmxvY2siLCJoYXNJdGVtcyIsImhhc19pdGVtcyIsImdldEl0ZW1zIiwiaXRlbXMiLCJjdXJJdGVtIiwiZHVtbXkiLCJ0aXRsZSIsImFwcGVuZCIsIm5ld0l0ZW1zIiwiX2hlaWdodEFuaW1hdGlvbiIsImF0dHIiLCJkdXJhdGlvbiIsImFuaW1hdGUiLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsImNvbXBsZXRlIiwiY3NzIiwiaSIsIl9zaG93TmV3SXRlbXMiLCJfcmVtb3ZlQnRuTW9yZSIsIml0ZW0iLCJkZWxheSIsInBhdGgiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJhY3Rpb24iLCJwYWdlIiwiZGF0YVR5cGUiLCJ0aW1lb3V0IiwidHlwZSIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsInJlbW92ZSIsIk1lZGlhR2FsbGVyeSIsIl9zaXplciIsIl9zd2l0Y2hlciIsIl9zd2l0Y2hCdG4iLCJfaXNHYWxsZXJ5IiwiX2ZpbHRlckZsYWciLCJjdXJCdG4iLCJjdXJUeXBlIiwiY2xpY2siLCJTd2lwZXJQb3B1cCIsIl9kZXN0cm95R2FsbGVyeSIsImNvbnNvbGUiLCJsb2ciLCJodG1sIiwiZHVtbXlfX2JpZyIsInZpZGVvIiwiX2luaXRHYWxsZXJ5IiwiaXNvdG9wZSIsIndyYXBJdGVtIiwiaXRlbVNlbGVjdG9yIiwicGVyY2VudFBvc2l0aW9uIiwibWFzb25yeSIsImNvbHVtbldpZHRoIiwiX3NlbGYiLCJwYXJlbnQiLCJfZ2FsbGVyeVdyYXAiLCJwYXJlbnRzIiwiX2h0bWwiLCJfbGlua3MiLCJfcG9wdXAiLCJfcG9wdXBJbm5lciIsIl9wb3B1cENsb3NlIiwiX3N3aXBlcldyYXBwZXIiLCJfc3dpcGVyQ29udGFpbmVyIiwiX3N3aXBlclBhZ2luYXRpb24iLCJfc3dpcGVyQnRuTmV4dCIsIl9zd2lwZXJCdG5QcmV2IiwiX3N3aXBlciIsIl9hZGRFdmVudHMiLCJfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplIiwiX2Nsb3NlUG9wdXAiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIl9hZGRpbmdWYXJpYWJsZXMiLCJfYWRkVmlkZW8iLCJhY3RpdmVTbGlkZSIsInNyYyIsImlubmVyQ29udGVudCIsInByZXBlbmQiLCJfYnVpbGRQb3B1cCIsIl9jb250ZW50RmlsbGluZyIsIl9pbml0U3dpcGVyIiwiX3NldFN0eWxlcyIsIm9uUmVzaXplIiwib3ZlcmZsb3ciLCJwYWRkaW5nUmlnaHQiLCJkYXRhU1JDIiwicHJlbG9hZGVyIiwibmV3SXRlbSIsImxvYWQiLCJfc2V0UGljdHVyZVNpemUiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzY3JvbGxiYXJXaWR0aCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwiX3JlbW92ZVZpZGVvIiwidmlkZW9GcmFtZSIsInBpY1dpZHRoIiwicGljSGVpZ2h0IiwicGljIiwiayJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFSUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFHLGFBQWUsV0FDdEIsR0FBSUUsR0FBVUYsRUFBR0csU0FHckJILEVBQUVDLEtBQU1ELEVBQUcsWUFBYyxXQUNyQixHQUFJRSxHQUFVRixFQUFHRyxTQUdyQkgsRUFBRUMsS0FBTUQsRUFBRyxrQkFBb0IsV0FDM0IsR0FBSUUsR0FBVUYsRUFBR0csU0FHckJILEVBQUVDLEtBQU1ELEVBQUcsYUFBZSxXQUN0QixHQUFJRSxHQUFVRixFQUFHRyxTQUdyQkgsRUFBRUMsS0FBTUQsRUFBRyxnQkFBa0IsV0FDekIsR0FBSUksR0FBT0osRUFBR0csU0FHbEJILEVBQUVDLEtBQU1ELEVBQUcsZUFBaUIsV0FDeEIsR0FBSUssR0FBTUwsRUFBR0csU0FHakJILEVBQUVDLEtBQU1ELEVBQUcsY0FBZ0IsV0FDdkIsR0FBSU0sR0FBZ0JOLEVBQUdHLFNBRzNCSCxFQUFFQyxLQUFNRCxFQUFHLHVCQUF5QixXQUNoQyxHQUFJRSxHQUFTRixFQUFHRyxVQUt4QixJQUFJQyxHQUFPLFNBQVVHLEdBR2pCLEdBQUlDLEdBQU9ELEVBQ1BFLEVBQU9ULEVBQUcsb0JBR1ZVLEVBQWUsV0FDWEMsS0FFSkEsRUFBWSxXQUVSRixFQUFLRyxHQUFJLFFBQVMsV0FFVFosRUFBR0csTUFBTVUsU0FBVSxTQUNwQkMsSUFFQUMsT0FNWkEsRUFBWSxXQUNSTixFQUFLTyxTQUFVLFNBQ2ZSLEVBQUtRLFNBQVUsWUFFbkJGLEVBQWEsV0FDVEwsRUFBS1EsWUFBYSxTQUNsQlQsRUFBS1MsWUFBYSxXQU8xQlAsTUFJQVIsRUFBVSxTQUFVSyxHQUdwQixHQWNJVyxHQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQWxCQWQsRUFBT0QsRUFDUGdCLEVBQWtCZixFQUFLZ0IsS0FBTSxxQkFDN0JDLEVBQWlCakIsRUFBS2dCLEtBQU0scUJBQzVCRSxFQUFpQmxCLEVBQUtnQixLQUFNLG9CQUM1QkcsRUFBZW5CLEVBQUtnQixLQUFNLGtCQUMxQkksRUFBZXBCLEVBQUtnQixLQUFNLGtCQUMxQkssRUFBZ0JyQixFQUFLZ0IsS0FBTSwwQkFDM0JNLEVBQWV0QixFQUFLZ0IsS0FBTSx5QkFDMUJPLEVBQWF2QixFQUFLZ0IsS0FBTSx1QkFDeEJRLEVBQWF4QixFQUFLZ0IsS0FBTSx1QkFDeEJTLEVBQWdCekIsRUFBS2dCLEtBQU0sMEJBQzNCVSxFQUFlMUIsRUFBS2dCLEtBQU0seUJBQzFCVyxFQUFhM0IsRUFBS2dCLEtBQU0sdUJBQ3hCWSxFQUFhNUIsRUFBS2dCLEtBQU0sdUJBTXhCYSxFQUFVckMsRUFBR3NDLFFBR2JDLEVBQWMsV0FFVnJCLEVBQVksR0FBSXNCLFFBQVNqQixHQUNyQmtCLFNBQVUsSUFDVkMsTUFBTyxJQUNQQyxPQUFRLFFBQ1JDLGNBQWUsT0FDZkMsTUFBTSxFQUNOQyxhQUFjLEdBQ2RDLGFBQWMsR0FDZEMsV0FBWWYsRUFDWmdCLFdBQVlwQixJQUdoQlYsRUFBVyxHQUFJcUIsUUFBU2QsR0FDcEJlLFNBQVUsSUFDVkMsTUFBTyxJQUNQQyxPQUFRLFFBQ1JDLGNBQWUsRUFDZkMsTUFBTSxFQUNORyxXQUFZZCxFQUNaZSxXQUFZbkIsRUFDWm9CLGFBQ0lDLEtBQ0lQLGNBQWUsR0FFbkJRLE1BQ0lSLGNBQWUsTUFLM0J2QixFQUFTLEdBQUltQixRQUFTYixHQUNsQmMsU0FBVSxJQUNWQyxNQUFPLElBQ1BDLE9BQVEsUUFDUkMsY0FBZSxFQUNmQyxNQUFNLEVBQ05HLFdBQVliLEVBQ1pjLFdBQVlsQixJQUdoQlQsRUFBUyxHQUFJa0IsUUFBU1osR0FDbEJhLFVBQVUsRUFDVkMsTUFBTyxJQUNQQyxPQUFRLFFBQ1JDLGNBQWUsT0FDZkMsTUFBTSxFQUNORyxXQUFZWixFQUNaYSxXQUFZakIsSUFHaEJaLEVBQVcsR0FBSW9CLFFBQVNmLEdBQ3BCZ0IsVUFBVSxFQUNWQyxNQUFPLElBQ1BDLE9BQVEsUUFDUkMsY0FBZSxPQUNmUyxtQkFBb0IsV0FDaEI3QyxFQUFLUyxZQUFhLFNBQ2xCUSxFQUFlLEdBQUc2QixPQUFPQyxRQUFTbkMsRUFBU0ksS0FBTSxXQUFZZ0MsUUFBVSxLQUFLLElBRWhGQyxpQkFBa0IsV0FDZGpELEVBQUtTLFlBQWEsUUFFdEJ5QyxpQkFBa0IsV0FDZGxELEVBQUtRLFNBQVUsU0FDZlIsRUFBS1MsWUFBYSxPQUVsQjBDLFdBQVksV0FDUm5ELEVBQUtRLFNBQVUsVUFDakIsTUFHTjRDLFdBQVksV0FDUnBELEVBQUtRLFNBQVUsT0FFZjJDLFdBQVksV0FDUm5ELEVBQUtTLFlBQWEsVUFDcEIsU0FLZDRDLEVBQVcsV0FFRnhCLEVBQVF5QixjQUFnQixLQUN6QnZCLElBR0pGLEVBQVF6QixJQUNKbUQsT0FBVSxXQUVEMUIsRUFBUXlCLGNBQWdCLElBQ3pCRSxJQUVBekIsUUFPaEJ5QixFQUFpQixXQUVidkMsRUFBZ0IsR0FBSTZCLE9BQU9XLFNBQVMsR0FBTyxJQUcvQ0MsRUFBUSxXQUNKTCxJQUNBdEIsSUFPUjJCLE1BR0E3RCxFQUFPLFNBQVVFLEdBR2pCLEdBQUlDLEdBQU9ELEVBQ1A0RCxFQUFRbkUsRUFBRyxTQUNYcUMsRUFBVXJDLEVBQUdzQyxRQUdiOEIsRUFBYSxXQUVUUCxLQUdKQSxFQUFXLFdBRVBNLEVBQU12RCxHQUNGLFFBQVMsU0FBV3lELEdBRVg3RCxFQUFLSyxTQUFVLFNBQW9ELEdBQXhDYixFQUFHcUUsRUFBRUMsUUFBU0MsUUFBUy9ELEdBQU9nRSxRQUMxREMsTUFNWmpFLEVBQUtJLEdBQUksUUFBUyxXQUVkLEdBQUk4RCxHQUFVMUUsRUFBR0csS0FFYnVFLEdBQVE3RCxTQUFVLFNBQVl3QixFQUFRc0MsUUFBVSxLQUNoREYsSUFDUXBDLEVBQVFzQyxRQUFVLE1BQzFCQyxPQU1aSCxFQUFpQixXQUNiakUsRUFBS1MsWUFBYSxTQUV0QjJELEVBQWdCLFdBQ1pwRSxFQUFLUSxTQUFVLFFBT3ZCb0QsTUFHQTlELEVBQWlCLFNBQVVDLEdBRzNCLEdBQUlDLEdBQU9ELEVBQ1BzRSxFQUFRN0UsRUFBRyxRQUNYOEUsRUFBWUQsRUFBTUUsS0FBTSxVQUN4QkMsRUFBV3hFLEVBQUtnQixLQUFNLDRCQUN0QnlELEVBQWF6RSxFQUFLZ0IsS0FBTSxjQUN4QjBELEVBQVcxRSxFQUFLZ0IsS0FBTSw0QkFDdEIyRCxFQUFTM0UsRUFBS2dCLEtBQU0sNkJBQ3BCNEQsR0FBYyxFQUNkQyxFQUFXLEdBQUlDLGdCQUdmbEIsRUFBYSxXQUNUbUIsSUFDQTFCLEtBRUoyQixFQUFxQixTQUFXQyxHQUU1QixHQUVJQyxHQUZBQyxFQUFXRixFQUFJRyxVQUNmQyxFQUFXSixFQUFJSyxLQUduQjlGLEdBQUVDLEtBQU00RixFQUFVLFdBRWQsR0FBSUUsR0FBVTVGLElBRWR1RixHQUFXMUYsRUFBRyxzREFDSStGLEVBQVFDLE1BQU8sVUFBV0QsRUFBUUUsTUFBTyxhQUczRGYsRUFBU2dCLE9BQVFSLElBSXJCLElBQUlTLEdBQVdqQixFQUFTMUQsS0FBTSxPQUU5Qm1DLFlBQVksV0FDUnlDLEVBQWtCVCxFQUFVUSxJQUM3QixLQUVIM0YsRUFBSzZGLEtBQU0scUJBQXNCN0YsRUFBSzZGLEtBQU0scUJBQXdCLElBR3hFRCxFQUFtQixTQUFVVCxFQUFVUSxHQUVuQyxHQUFJRyxHQUFXLEdBRVZsQixLQUNEa0IsRUFBVyxHQUdmbkIsRUFBT29CLFNBQ0hDLE9BQVF0QixFQUFTdUIsZ0JBRWpCSCxTQUFVQSxFQUNWSSxTQUFVLFdBRU52QixFQUFPd0IsSUFBSyxTQUFVLElBRXRCUixFQUFTbEcsS0FBTSxTQUFVMkcsR0FDckJDLEVBQWU3RyxFQUFHRyxNQUFReUcsS0FHYixHQUFaakIsR0FDRG1CLE9BTVAxQixHQUNEekIsV0FBWSxXQUNSeUIsR0FBYyxHQUNmLE1BSVh5QixFQUFnQixTQUFVRSxFQUFNdkQsR0FFNUIsR0FBSXdELEdBQVEsR0FFUDVCLEtBQ0Q0QixFQUFRLEdBR1pyRCxXQUFZLFdBQ1JvRCxFQUFLOUYsWUFBYSxRQUNuQnVDLEVBQVF3RCxJQUdmekIsRUFBZ0IsV0FFWixHQUFJMEIsR0FBUW5DLENBRVpHLEdBQVdqRSxTQUFVLFVBRXJCcUUsRUFBUzZCLFFBQ1Q3QixFQUFXckYsRUFBRW1ILE1BQ1RDLElBQUtILEVBQ0xsQyxNQUNJc0MsT0FBUSxVQUNSQyxLQUFNOUcsRUFBSzZGLEtBQU0sc0JBRXJCa0IsU0FBVSxPQUNWQyxRQUFTLElBQ1RDLEtBQU0sTUFDTkMsUUFBUyxTQUFXakMsR0FFaEJOLEVBQU9xQixPQUFRckIsRUFBT3FCLFVBRXRCaEIsRUFBb0JDLElBR3hCa0MsTUFBTyxTQUFXckMsR0FDbUIsU0FBN0JBLEVBQWVzQyxZQUNmQyxNQUFPLGNBTXZCZixFQUFpQixXQUViOUIsRUFBUzJCLElBQUssVUFBVyxHQUV6QmhELFdBQVksV0FFUnFCLEVBQVMyQixJQUFLLFVBQVcsR0FFekIzQixFQUFTdUIsU0FDTEMsT0FBUSxJQUVSRixTQUFVLElBQ1ZJLFNBQVUsV0FDTjFCLEVBQVM4QyxhQUlsQixNQUdQakUsRUFBVyxXQUVQbUIsRUFBU3BFLEdBQUksUUFBUyxXQUlsQixNQUZBMkUsTUFFTyxJQVVuQm5CO0NDamJSLFdBRUksWUFFQXBFLEdBQUUsV0FFRUEsRUFBRUMsS0FBTUQsRUFBRyxrQkFBb0IsV0FFM0IsR0FBSStILEdBQWUvSCxFQUFHRyxVQU05QixJQUFJNEgsR0FBZSxTQUFVeEgsR0FFekIsR0FBSUMsR0FBT0QsRUFDUHNFLEVBQVE3RSxFQUFHLFFBQ1hrRixFQUFXMUUsRUFBS2dCLEtBQU0sd0JBQ3RCd0csRUFBU2hJLEVBQUcsNENBQ1ppSSxFQUFZekgsRUFBS2dCLEtBQU0sNEJBQ3ZCMEcsRUFBYUQsRUFBVXpHLEtBQU0sVUFDN0IyRCxFQUFTM0UsRUFBS2dCLEtBQU0seUJBQ3BCeUQsRUFBYXpFLEVBQUtnQixLQUFNLGNBQ3hCd0QsRUFBV3hFLEVBQUtnQixLQUFNLHdCQUN0QnNELEVBQVlELEVBQU1FLEtBQU0sVUFFeEJvRCxHQURVbkksRUFBR3NDLFNBQ0EsR0FDYjhDLEdBQWMsRUFDZGdELEdBQWMsRUFDZC9DLEVBQVcsR0FBSUMsZ0JBRWYzRSxFQUFZLFdBRVJ1SCxFQUFXdEgsR0FBSSxRQUFTLFdBRXBCLEdBQUl5SCxHQUFTckksRUFBR0csTUFDWm1JLEVBQVVELEVBQU90RCxLQUFNLE9BUzNCLE9BUEFtRCxHQUFXakgsWUFBYSxVQUN4Qm9ILEVBQU9ySCxTQUFVLFVBRWpCdUUsRUFBZStDLEdBRWZGLEdBQWMsR0FFUCxJQUlYcEQsRUFBU3BFLElBQ0wySCxNQUFPLFdBS0gsTUFKQWhELEtBRUE2QyxHQUFjLEdBRVAsS0FJZjVILEVBQUtJLEdBQUksUUFBUyx1QkFBd0IsV0FNdEMsTUFKQTRILEdBQWF4SSxFQUFHRyxNQUFRSCxFQUFHRyxNQUFPcUQsUUFBVSxHQUU1QzRFLEdBQWMsR0FFUCxLQUtmNUMsRUFBcUIsU0FBV0MsR0FFYyxJQUFyQ2pGLEVBQUs2RixLQUFNLHNCQUErQjhCLEdBQzNDTSxHQUdKLElBRUkvQyxHQUZBQyxFQUFXRixFQUFJRyxVQUNmQyxFQUFXSixFQUFJSyxLQUdkc0MsS0FDRE0sUUFBUUMsSUFBSSxRQUNaekQsRUFBUzBELEtBQU1aLElBR25CaEksRUFBRUMsS0FBTTRGLEVBQVUsV0FFZCxHQUFJRSxHQUFVNUYsSUFFZHVGLEdBQVcxRixFQUFHLHVDQUF3QytGLEVBQVEwQixLQUFNLFlBQWN0SCxLQUFLOEYsTUFBUSxnQkFBaUJGLEVBQVE4QyxXQUFZLGVBQ2xIOUMsRUFBUUMsTUFBTyxVQUFXRCxFQUFRMEIsS0FBTSxjQUdwQyxHQUFqQjFCLEVBQVErQyxPQUNUcEQsRUFBUzFFLFNBQVUsNkJBR3ZCa0UsRUFBU2dCLE9BQVFSLElBSXJCLElBQUlTLEdBQVdqQixFQUFTMUQsS0FBTSxPQUU5Qm1DLFlBQVksV0FDUnlDLEVBQWtCVCxFQUFVUSxJQUM3QixLQUVIeEMsV0FBWSxXQUNSb0YsS0FDRCxLQUVIdkksRUFBSzZGLEtBQU0scUJBQXNCN0YsRUFBSzZGLEtBQU0scUJBQXNCLElBR3RFb0MsRUFBa0IsV0FFZHZELEVBQVM4RCxRQUFTLFdBQ2xCYixHQUFhLEdBR2pCL0IsRUFBbUIsU0FBVVQsRUFBVVEsR0FFbkMsR0FBSUcsR0FBVyxHQUVWbEIsS0FDRGtCLEVBQVcsR0FHZm5CLEVBQU9vQixTQUNIQyxPQUFRdEIsRUFBU3VCLGdCQUVqQkgsU0FBVUEsRUFDVkksU0FBVSxXQUVOdkIsRUFBT3dCLElBQUssU0FBVSxJQUV0QlIsRUFBU2xHLEtBQU0sU0FBVTJHLEdBQ3JCQyxFQUFlN0csRUFBR0csTUFBUXlHLEtBR2IsR0FBWmpCLEdBQ0RtQixPQU1QMUIsR0FDRHpCLFdBQVksV0FDUnlCLEdBQWMsR0FDZixNQUlYeUIsRUFBZ0IsU0FBVUUsRUFBTXZELEdBRTVCLEdBQUl3RCxHQUFRLEdBRVA1QixLQUNENEIsRUFBUSxHQUdackQsV0FBWSxXQUNSb0QsRUFBSzlGLFlBQWEsUUFDbkJ1QyxFQUFRd0QsSUFHZitCLEVBQWUsV0FFWCxHQUFJRSxHQUFXLHNCQUVmZCxJQUFhLEVBRWJqRCxFQUFTOEQsU0FDTEUsYUFBY0QsRUFDZEUsaUJBQWlCLEVBQ2pCQyxTQUNJQyxZQUFhLDJCQUlyQnBFLEVBQVdoRSxZQUFhLFdBRzVCNkYsRUFBaUIsV0FFYjlCLEVBQVMyQixJQUFLLFVBQVcsR0FFekJoRCxXQUFZLFdBRVJxQixFQUFTMkIsSUFBSyxVQUFXLEdBRXpCM0IsRUFBU3VCLFNBQ0xDLE9BQVEsSUFFUkYsU0FBVSxJQUNWSSxTQUFVLFdBQ04xQixFQUFTOEMsYUFJbEIsTUFHUHZDLEVBQWdCLFdBRVosR0FBSTBCLEdBQVFuQyxDQUVaRyxHQUFXakUsU0FBVSxVQUVyQnFFLEVBQVM2QixRQUNUN0IsRUFBV3JGLEVBQUVtSCxNQUNUQyxJQUFLSCxFQUNMbEMsTUFDSXNDLE9BQVEsVUFDUkMsS0FBTTlHLEVBQUs2RixLQUFNLHFCQUNqQm9CLEtBQU1TLEVBQVduRCxLQUFNLFNBRTNCd0MsU0FBVSxPQUNWQyxRQUFTLElBQ1RDLEtBQU0sTUFDTkMsUUFBUyxTQUFXakMsR0FFaEJOLEVBQU9xQixPQUFRckIsRUFBT3FCLFVBRXRCaEIsRUFBb0JDLElBR3hCa0MsTUFBTyxTQUFXckMsR0FDbUIsU0FBN0JBLEVBQWVzQyxZQUNmQyxNQUFPLGNBTXZCM0QsRUFBUSxXQUVKcUIsSUFDQTVFLElBSVJ1RCxNQUlBc0UsRUFBYyxTQUFXakksRUFBS2lELEdBRTlCLEdBQUk4RixHQUFRbkosS0FDUkssRUFBT0QsRUFDUHNFLEVBQVE3RSxFQUFHLFFBQ1hrRixFQUFXMUUsRUFBSytJLFNBQ2hCQyxFQUFlaEosRUFBS2lKLFFBQVMsa0JBQzdCQyxFQUFRMUosRUFBRyxRQUNYcUMsRUFBVXJDLEVBQUdzQyxRQUNicUgsRUFBU3pFLEVBQVMxRCxLQUFNLHdCQUN4Qm9JLEVBQVMsS0FDVEMsRUFBYyxLQUNkQyxFQUFjLEtBQ2RDLEVBQWlCLEtBQ2pCQyxFQUFtQixLQUNuQkMsRUFBb0IsS0FDcEJDLEVBQWlCLEtBQ2pCQyxFQUFpQixLQUNqQkMsRUFBVSxLQUVWQyxFQUFhLFdBRVRoSSxFQUFRekIsSUFFSm1ELE9BQVEsV0FFSnVHLE9BTVJULEVBQVlOLFNBQVMzSSxJQUVqQjJILE1BQU8sV0FFSGdDLE9BTVJWLEVBQVlqSixJQUVSMkgsTUFBTyxTQUFVaUMsR0FFYkEsRUFBTUMscUJBTWRYLEVBQVlsSixJQUNSMkgsTUFBTyxXQUdILE1BREFnQyxNQUNPLE1BTW5CRyxFQUFtQixXQUVKbEIsRUFBYW5ELEtBQU0sbUJBRTlCdUQsR0FBUzVKLEVBQUcsbWVBZVorSixFQUFpQkgsRUFBT3BJLEtBQU0sbUJBQzlCd0ksRUFBbUJKLEVBQU9wSSxLQUFNLHFCQUNoQ3lJLEVBQW9CTCxFQUFPcEksS0FBTSxzQkFDakMwSSxFQUFpQk4sRUFBT3BJLEtBQU0sdUJBQzlCMkksRUFBaUJQLEVBQU9wSSxLQUFNLHdCQUdsQ21KLEVBQVksV0FFUixHQUFJQyxHQUFjaEIsRUFBT3BJLEtBQU0sd0JBQzNCcUosRUFBTUQsRUFBWXBKLEtBQU0sY0FBZXVELEtBQU0sT0FDN0MrRixFQUFlOUssRUFBRyxnQkFBa0I2SyxFQUFNLCtDQUU5QzdLLEdBQUcsd0JBQXlCd0IsS0FBTSx3QkFBeUJ1SixRQUFTRCxJQUd4RUUsRUFBYyxXQUVWTixJQUNBTyxJQUNBQyxJQUNBZCxFQUFRN0csUUFBU0MsRUFBTyxHQUN4Qm9HLEVBQU81SSxTQUFVLFVBQ2pCbUssSUFDQWYsRUFBUWdCLFlBR1piLEVBQWMsV0FFVlgsRUFBTzNJLFlBQWEsVUFDcEIwQyxXQUFZLFdBQ1IrRixFQUFNL0MsS0FBSzBFLFNBQVUsR0FBSUMsYUFBYyxLQUN2QzFCLEVBQU85QixVQUNSLE1BR1BtRCxFQUFrQixXQUVkakwsRUFBRUMsS0FBTTBKLEVBQVEsV0FFWixHQUFJbUIsR0FBZSxLQUNmUyxFQUFVLEtBQ1ZDLEVBQVksSUFFWHhMLEdBQUdHLE1BQU9VLFNBQVUsOEJBRXJCMkssRUFBWSx3Q0FDWlYsRUFBZSxxQ0FDZlMsRUFBVSxhQUFldkwsRUFBRUcsTUFBTTRFLEtBQU0sUUFBVyxNQUlsRHlHLEVBQVksR0FDWlYsRUFBZSxhQUFlOUssRUFBRUcsTUFBTTRFLEtBQU0sUUFBVyxLQUN2RHdHLEVBQVUsR0FJZCxJQUFJRSxHQUFVekwsRUFBRyxzR0FFd0N1TCxFQUFVLHdJQUl2Q0MsRUFBWSwrQ0FFWlYsRUFBZSxpRkFFbUI5SyxFQUFHRyxNQUFPa0csS0FBTSxTQUFZLGtHQU0xRjBELEdBQWU3RCxPQUFRdUYsR0FFdkJBLEVBQVFqSyxLQUFNLE9BQVFaLElBQ2xCOEssS0FBTSxXQUNGMUwsRUFBR0csTUFBT2tHLEtBQU0sYUFBY2xHLEtBQUt3RSxPQUNuQzNFLEVBQUdHLE1BQU9rRyxLQUFNLGNBQWVsRyxLQUFLcUcsUUFDcENtRixFQUFpQnhMLEtBQUt3RSxNQUFPeEUsS0FBS3FHLE9BQVF4RyxFQUFHRyxZQU16RDBFLEVBQU1xQixPQUFRMEQsR0FFZEMsRUFBY0QsRUFBT3BJLEtBQU0sd0JBQzNCc0ksRUFBY0YsRUFBT3BJLEtBQU0seUJBRy9Cb0ssRUFBa0IsV0FDZCxHQUFJQyxHQUFZQyxTQUFTQyxjQUFlLE9BQ3BDQyxFQUFpQixJQUlyQixPQUhBRixVQUFTRyxLQUFLQyxZQUFhTCxHQUMzQkcsRUFBaUJILEVBQVVNLFlBQWNOLEVBQVVPLFlBQ25ETixTQUFTRyxLQUFLSSxZQUFhUixHQUNwQkcsR0FFWGQsRUFBYyxXQUVWZCxFQUFVLEdBQUk1SCxRQUFRd0gsR0FDbEJzQyxXQUFZckMsRUFDWmpILFdBQVlrSCxFQUNaakgsV0FBWWtILEVBQ1p2SCxjQUFlLEVBQ2YySixxQkFBcUIsRUFDckI5SSxpQkFBa0IsV0FDZCtJLElBQ0t4TSxFQUFHLHdCQUF5QndCLEtBQU0sY0FBZWdELFFBQ2xEbUcsUUFNaEJ6RyxFQUFRLFdBQ0o4RyxJQUNBWCxJQUNBN0osRUFBTSxHQUFJRCxJQUFNK0ksR0FFcEJrRCxFQUFlLFdBRVgsR0FBSTFHLEdBQVE4RCxFQUFPcEksS0FBTSxpQkFDckJpTCxFQUFhM0csRUFBTXRFLEtBQU0sOEJBQzdCaUwsR0FBVzNFLFVBR2Y2RCxFQUFrQixTQUFVZSxFQUFVQyxFQUFXQyxHQUU3QyxHQUFJQyxHQUFJLENBR0pBLEdBREdqRCxFQUFPakYsUUFBUStILEVBQWU5QyxFQUFPcEQsU0FBU21HLEVBQzdDL0MsRUFBT3BELFNBQVNtRyxFQUVoQi9DLEVBQU9qRixRQUFRK0gsRUFHbEJHLEdBQUssRUFFTkQsRUFBSWpHLEtBQ0FoQyxNQUFrQixJQUFUK0gsRUFDVGxHLE9BQW9CLElBQVZtRyxJQUtkQyxFQUFJakcsS0FDQWhDLE1BQVNrSSxFQUFFSCxFQUFTLElBQ3BCbEcsT0FBVXFHLEVBQUVGLEVBQVUsT0FNbENyQyxFQUE0QixXQUV4QnRLLEVBQUVDLEtBQU04SixFQUFldkksS0FBTSxPQUFTLFdBRWxDbUssRUFBaUIzTCxFQUFHRyxNQUFPNEUsS0FBTSxTQUFXL0UsRUFBR0csTUFBTzRFLEtBQU0sVUFBWS9FLEVBQUdHLFVBS25GZ0wsRUFBYSxXQUVUekIsRUFBTS9DLEtBQ0YwRSxTQUFVLFNBQ1ZDLGFBQWNNLE1BSzFCMUgiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wYXJ0bmVycycgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuY2F0YWxvZycgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcucHJvbW9fX3NsaWRlcicgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuc3ViLW1lbnUnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLm1vYmlsZS1tZW51JyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IE1lbnUgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5ibG9nX19zb3J0JyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBTb3J0KCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5oZWFkLXNob3QnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IEhlYWRTaG90TG9hZGVyKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5yYXRlc19faXRlbS1zd2lwZXInICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9idG4gPSAkKCAnLm1vYmlsZS1tZW51LWJ0bicgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG4ub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICQoIHRoaXMpLmhhc0NsYXNzKCAnY2xvc2UnICkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5hZGRDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5yZW1vdmVDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTbGlkZXJzID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3BhcnRuZXJzU2xpZGVyID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyID0gX29iai5maW5kKCAnLnN1Yi1tZW51X19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9jYXRhbG9nU2xpZGVyID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3Byb21vU2xpZGVyID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9yYXRlc1NsaWRlciA9IF9vYmouZmluZCggJy5yYXRlc19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfcGFydG5lcnNQcmV2ID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX2NhdGFsb2dQcmV2ID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfcHJvbW9QcmV2ID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX3JhdGVzUHJldiA9IF9vYmouZmluZCggJy5yYXRlc19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9wYXJ0bmVyc05leHQgPSBfb2JqLmZpbmQoICcucGFydG5lcnNfX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfY2F0YWxvZ05leHQgPSBfb2JqLmZpbmQoICcuY2F0YWxvZ19fc3dpcGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9wcm9tb05leHQgPSBfb2JqLmZpbmQoICcucHJvbW9fX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfcmF0ZXNOZXh0ID0gX29iai5maW5kKCAnLnJhdGVzX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX3BhcnRuZXJzLFxyXG4gICAgICAgICAgICBfY2F0YWxvZyxcclxuICAgICAgICAgICAgX3N1Yk1lbnUsXHJcbiAgICAgICAgICAgIF9wcm9tbyxcclxuICAgICAgICAgICAgX3JhdGVzLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9pbml0U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BhcnRuZXJzID0gbmV3IFN3aXBlciAoIF9wYXJ0bmVyc1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wZWRTbGlkZXM6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogODAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3BhcnRuZXJzTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcGFydG5lcnNQcmV2XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2NhdGFsb2cgPSBuZXcgU3dpcGVyICggX2NhdGFsb2dTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9jYXRhbG9nTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfY2F0YWxvZ1ByZXYsXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgNzY3OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDExOTk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcHJvbW8gPSBuZXcgU3dpcGVyICggX3Byb21vU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcHJvbW9OZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9wcm9tb1ByZXZcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmF0ZXMgPSBuZXcgU3dpcGVyICggX3JhdGVzU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcmF0ZXNOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9yYXRlc1ByZXZcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudSA9IG5ldyBTd2lwZXIgKCBfc3ViTWVudVNsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZVN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3ViTWVudVNsaWRlclswXS5zd2lwZXIuc2xpZGVUbyggX3N1Yk1lbnUuZmluZCggJy5hY3RpdmUnICkuaW5kZXgoKSAsIDIwMCwgZmFsc2UgKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnZW5kJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFjaEJlZ2lubmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ2VuZCcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LDMwMCApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFjaEVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdlbmQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwzMDAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93Lm91dGVyV2lkdGgoKSA8PSA3NjcgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIgKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdyZXNpemUnOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5vdXRlcldpZHRoKCkgPj0gNzY3ICApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTbGlkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZGVzdHJveVNsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyWyAwIF0uc3dpcGVyLmRlc3Ryb3koIGZhbHNlLCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU29ydCA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3NpdGUgPSAkKCAnLnNpdGUnICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc2l0ZS5vbihcclxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snLCBmdW5jdGlvbiAoIGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9vYmouaGFzQ2xhc3MoICdvcGVuJyApICYmICQoIGUudGFyZ2V0ICkuY2xvc2VzdCggX29iaiApLmxlbmd0aCA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckVsZW0uaGFzQ2xhc3MoICdvcGVuJyApICYmIF93aW5kb3cud2lkdGgoKSA8IDEyMDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBfd2luZG93LndpZHRoKCkgPCAxMjAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbkxhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdvcGVuJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbkxhbmd1YWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbicgKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSGVhZFNob3RMb2FkZXIgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF9maWxlTGluayA9IF9ib2R5LmRhdGEoICdhY3Rpb24nICksXHJcbiAgICAgICAgICAgIF9idG5Nb3JlID0gX29iai5maW5kKCAnLmhlYWQtc2hvdF9fY29tbWFuZC1tb3JlJyApLFxyXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gX29iai5maW5kKCAnLnByZWxvYWRlcicgKSxcclxuICAgICAgICAgICAgX3dyYXBwZXIgPSBfb2JqLmZpbmQoICcuaGVhZC1zaG90X19jb21tYW5kLXdyYXAnICksXHJcbiAgICAgICAgICAgIF9jb3ZlciA9IF9vYmouZmluZCggJy5oZWFkLXNob3RfX2NvbW1hbmQtY292ZXInICksXHJcbiAgICAgICAgICAgIF9maXJzdEdyb3VwID0gdHJ1ZSxcclxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCA9IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBoYXNJdGVtcyA9IG1zZy5oYXNfaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbXMgPSBtc2cuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBnZXRJdGVtcywgZnVuY3Rpb24oICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2sgPSAkKCAnPGRpdiBjbGFzcz1cImhlYWQtc2hvdF9fY29tbWFuZC1pdGVtIG5ld1wiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cIicrIGN1ckl0ZW0uZHVtbXkgKydcIiBhbHQ9XCInKyBjdXJJdGVtLnRpdGxlICsnXCIvPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93cmFwcGVyLmFwcGVuZCggbmV3QmxvY2sgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW1zID0gX3dyYXBwZXIuZmluZCggJy5uZXcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaGVpZ2h0QW5pbWF0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKTtcclxuICAgICAgICAgICAgICAgIH0sIDU1MCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJywgK19vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApICsgMSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSA1MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9jb3Zlci5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfd3JhcHBlci5vdXRlckhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmNzcyggJ2hlaWdodCcsICcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyggJCggdGhpcyApLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaGFzSXRlbXMgPT0gMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZUJ0bk1vcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtLCBpbmRleCApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoICduZXcnICk7XHJcbiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIGRlbGF5ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfbG9hZE5ld0l0ZW1zID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCAgPSBfZmlsZUxpbms7XHJcblxyXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdnYWxsZXJ5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnIClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3Zlci5oZWlnaHQoIF9jb3Zlci5oZWlnaHQoKSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50KCBtc2cgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCBYTUxIdHRwUmVxdWVzdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gJ2Fib3J0JyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCAnRXJyb3IhJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3JlbW92ZUJ0bk1vcmUgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG5Nb3JlLmNzcyggJ29wYWNpdHknLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2J0bk1vcmUuY3NzKCAncGFkZGluZycsIDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2J0bk1vcmUuYW5pbWF0ZSgge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2J0bk1vcmUucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG5Nb3JlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfY29uc3RydWN0KCk7XHJcbiAgICB9O1xyXG5cclxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubWVkaWEtZ2FsbGVyeScgKSwgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIG5ldyBNZWRpYUdhbGxlcnkgKCAkKCB0aGlzICkgKVxyXG5cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgfSApO1xyXG5cclxuICAgIHZhciBNZWRpYUdhbGxlcnkgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcclxuICAgICAgICAgICAgX3dyYXBwZXIgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fd3JhcCcgKSxcclxuICAgICAgICAgICAgX3NpemVyID0gJCggJzxkaXYgY2xhc3M9XCJtZWRpYS1nYWxsZXJ5X19zaXplclwiPjwvZGl2PicgKSxcclxuICAgICAgICAgICAgX3N3aXRjaGVyID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX3N3aXRjaGVyJyApLFxyXG4gICAgICAgICAgICBfc3dpdGNoQnRuID0gX3N3aXRjaGVyLmZpbmQoICdidXR0b24nICksXHJcbiAgICAgICAgICAgIF9jb3ZlciA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X19jb3ZlcicgKSxcclxuICAgICAgICAgICAgX3ByZWxvYWRlciA9IF9vYmouZmluZCggJy5wcmVsb2FkZXInICksXHJcbiAgICAgICAgICAgIF9idG5Nb3JlID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX21vcmUnICksXHJcbiAgICAgICAgICAgIF9maWxlTGluayA9IF9ib2R5LmRhdGEoICdhY3Rpb24nICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcclxuICAgICAgICAgICAgX2lzR2FsbGVyeSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBfZmlyc3RHcm91cCA9IHRydWUsXHJcbiAgICAgICAgICAgIF9maWx0ZXJGbGFnID0gdHJ1ZSxcclxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3dpdGNoQnRuLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJCdG4gPSAkKCB0aGlzICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clR5cGUgPSBjdXJCdG4uZGF0YSggJ3R5cGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zd2l0Y2hCdG4ucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyQnRuLmFkZENsYXNzKCAnYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCBjdXJUeXBlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NsaWNrJywgJy5tZWRpYS1nYWxsZXJ5X19pdGVtJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFN3aXBlclBvcHVwKCAkKCB0aGlzICksICQoIHRoaXMgKS5pbmRleCgpIC0gMSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQgPSBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApICE9PSAwICYmIF9pc0dhbGxlcnkgKXtcclxuICAgICAgICAgICAgICAgICAgICBfZGVzdHJveUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzSXRlbXMgPSBtc2cuaGFzX2l0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW1zID0gbXNnLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpbHRlckZsYWcgKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGRkZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuaHRtbCggX3NpemVyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBnZXRJdGVtcywgZnVuY3Rpb24oICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2sgPSAkKCAnPGRpdiBjbGFzcz1cIm1lZGlhLWdhbGxlcnlfX2l0ZW0gbmV3ICcrIGN1ckl0ZW0udHlwZSArJ1wiIHRpdGxlPVwiJyArIHRoaXMudGl0bGUgKyAnXCIgZGF0YS1ocmVmPVwiJysgY3VySXRlbS5kdW1teV9fYmlnICsnXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgY3VySXRlbS5kdW1teSArJ1wiIGFsdD1cIicrIGN1ckl0ZW0udHlwZSArJ1wiIC8+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLnZpZGVvID09IDEgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2suYWRkQ2xhc3MoICdtZWRpYS1nYWxsZXJ5X19pdGVtX3ZpZGVvJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuYXBwZW5kKCBuZXdCbG9jayApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbXMgPSBfd3JhcHBlci5maW5kKCAnLm5ldycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9oZWlnaHRBbmltYXRpb24oIGhhc0l0ZW1zLCBuZXdJdGVtcyApO1xyXG4gICAgICAgICAgICAgICAgfSwgNTUwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaW5pdEdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJywgK19vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApKzEgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9kZXN0cm95R2FsbGVyeSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwcGVyLmlzb3RvcGUoICdkZXN0cm95JyApO1xyXG4gICAgICAgICAgICAgICAgX2lzR2FsbGVyeSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSA1MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9jb3Zlci5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfd3JhcHBlci5vdXRlckhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmNzcyggJ2hlaWdodCcsICcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyggJCggdGhpcyApLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaGFzSXRlbXMgPT0gMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZUJ0bk1vcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtLCBpbmRleCApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoICduZXcnICk7XHJcbiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIGRlbGF5ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdEdhbGxlcnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXBJdGVtID0gJy5tZWRpYS1nYWxsZXJ5X19pdGVtJztcclxuXHJcbiAgICAgICAgICAgICAgICBfaXNHYWxsZXJ5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBfd3JhcHBlci5pc290b3BlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiB3cmFwSXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFzb25yeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5tZWRpYS1nYWxsZXJ5X19zaXplcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdvcGFjaXR5JywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmNzcyggJ3BhZGRpbmcnLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWROZXdJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggID0gX2ZpbGVMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBfc3dpdGNoQnRuLmRhdGEoICd0eXBlJyApXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuaGVpZ2h0KCBfY292ZXIuaGVpZ2h0KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCggbXNnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggWE1MSHR0cFJlcXVlc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9ICdhYm9ydCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTd2lwZXJQb3B1cCA9IGZ1bmN0aW9uICggb2JqLCBpbmRleCApIHtcclxuXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcclxuICAgICAgICAgICAgX3dyYXBwZXIgPSBfb2JqLnBhcmVudCgpLFxyXG4gICAgICAgICAgICBfZ2FsbGVyeVdyYXAgPSBfb2JqLnBhcmVudHMoICcubWVkaWEtZ2FsbGVyeScgKSxcclxuICAgICAgICAgICAgX2h0bWwgPSAkKCAnaHRtbCcgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxyXG4gICAgICAgICAgICBfbGlua3MgPSBfd3JhcHBlci5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX2l0ZW0nICksXHJcbiAgICAgICAgICAgIF9wb3B1cCA9IG51bGwsXHJcbiAgICAgICAgICAgIF9wb3B1cElubmVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3BvcHVwQ2xvc2UgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyV3JhcHBlciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJDb250YWluZXIgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyUGFnaW5hdGlvbiA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJCdG5OZXh0ID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckJ0blByZXYgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplV2hlblJlc2l6ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwSW5uZXIucGFyZW50KCkub24oe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZVBvcHVwKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lci5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwQ2xvc2Uub24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZGluZ1ZhcmlhYmxlcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBfZ2FsbGVyeVdyYXAuYXR0ciggJ2RhdGEtbG9hZGVkLXR5cGUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwID0gJCggJzxkaXYgY2xhc3M9XCJzd2lwZXItcG9wdXBcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLWNvbnRhaW5lclwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXdyYXBwZXJcIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1wYWdpbmF0aW9uXCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItYnV0dG9uLW5leHRcIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1idXR0b24tcHJldlwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlcldyYXBwZXIgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItd3JhcHBlcicgKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXJDb250YWluZXIgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlclBhZ2luYXRpb24gPSBfcG9wdXAuZmluZCggJy5zd2lwZXItcGFnaW5hdGlvbicgKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXJCdG5OZXh0ID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLWJ1dHRvbi1uZXh0JyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckJ0blByZXYgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItYnV0dG9uLXByZXYnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkVmlkZW8gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKSxcclxuICAgICAgICAgICAgICAgICAgICBzcmMgPSBhY3RpdmVTbGlkZS5maW5kKCAnW2RhdGEtc3JjXScgKS5kYXRhKCAnc3JjJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGVudCA9ICQoICc8aWZyYW1lIHNyYz1cIicgKyBzcmMgKyAnXCI+IGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLmZpbmQoICcuc3dpcGVyLXBvcHVwX192aWRlbycgKS5wcmVwZW5kKCBpbm5lckNvbnRlbnQgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9idWlsZFBvcHVwID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYWRkaW5nVmFyaWFibGVzKCk7XHJcbiAgICAgICAgICAgICAgICBfY29udGVudEZpbGxpbmcoKTtcclxuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyLnNsaWRlVG8oIGluZGV4LCAwICk7XHJcbiAgICAgICAgICAgICAgICBfcG9wdXAuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICBfc2V0U3R5bGVzKCk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyLm9uUmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2VQb3B1cCA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3Moe292ZXJmbG93OiAnJywgcGFkZGluZ1JpZ2h0OiAnJ30pO1xyXG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NvbnRlbnRGaWxsaW5nID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goIF9saW5rcywgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyQ29udGVudCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTUkMgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ21lZGlhLWdhbGxlcnlfX2l0ZW1fdmlkZW8nICkgKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRlciA9ICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtc3BpblwiPjwvaT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgPSAnPGRpdiBjbGFzcz1cInN3aXBlci1wb3B1cF9fdmlkZW9cIi8+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNSQyA9ICdkYXRhLXNyYz1cIicgKyAkKHRoaXMpLmRhdGEoIFwiaHJlZlwiICkgKyAnXCInO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGVudCA9ICc8aW1nIHNyYz1cIicgKyAkKHRoaXMpLmRhdGEoIFwiaHJlZlwiICkgKyAnXCI+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNSQyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtID0gJCggJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGVcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1wb3B1cF9faW5uZXJcIiAnICsgZGF0YVNSQyArICc+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwic3dpcGVyLXBvcHVwX19jbG9zZVwiPjwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKyBwcmVsb2FkZXIgKyAnXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgaW5uZXJDb250ZW50ICsgJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzd2lwZXItc2xpZGVfX3RpdGxlXCI+JyArICQoIHRoaXMgKS5hdHRyKCAndGl0bGUnICkgKyAnPC9zcGFuPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9zd2lwZXJXcmFwcGVyLmFwcGVuZCggbmV3SXRlbSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLmZpbmQoICdpbWcnICkub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hdHRyKCAnZGF0YS13aWR0aCcsIHRoaXMud2lkdGggKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1oZWlnaHQnLCB0aGlzLmhlaWdodCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgJCggdGhpcyApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9ib2R5LmFwcGVuZCggX3BvcHVwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwSW5uZXIgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItcG9wdXBfX2lubmVyJyApO1xyXG4gICAgICAgICAgICAgICAgX3BvcHVwQ2xvc2UgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItcG9wdXBfX2Nsb3NlJyApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSxcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCggc2Nyb2xsRGl2ICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX3N3aXBlckNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9zd2lwZXJQYWdpbmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9zd2lwZXJCdG5OZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9zd2lwZXJCdG5QcmV2LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlRW5kOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlVmlkZW8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICkuZmluZCggJ1tkYXRhLXNyY10nICkubGVuZ3RoICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkVmlkZW8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYnVpbGRQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcmVtb3ZlVmlkZW8gPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1zbGlkZScgKSxcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0ZyYW1lID0gaXRlbXMuZmluZCggJy5zd2lwZXItcG9wdXBfX3ZpZGVvIGlmcmFtZScgKTtcclxuICAgICAgICAgICAgICAgIHZpZGVvRnJhbWUucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0UGljdHVyZVNpemUgPSBmdW5jdGlvbiggcGljV2lkdGgsIHBpY0hlaWdodCwgcGljICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGsgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggKCBfcG9wdXAud2lkdGgoKS9waWNXaWR0aCApID4gKCBfcG9wdXAuaGVpZ2h0KCkvcGljSGVpZ2h0ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IF9wb3B1cC5oZWlnaHQoKS9waWNIZWlnaHQgO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBrID0gX3BvcHVwLndpZHRoKCkvcGljV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBrID49IDEgKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGljLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogcGljV2lkdGgqMC44NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogcGljSGVpZ2h0KjAuODVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwaWMuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBrKnBpY1dpZHRoKjAuODUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IGsqcGljSGVpZ2h0KjAuODVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goIF9zd2lwZXJXcmFwcGVyLmZpbmQoICdpbWcnICksIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3NldFBpY3R1cmVTaXplKCAkKCB0aGlzICkuZGF0YSggJ3dpZHRoJyApLCAkKCB0aGlzICkuZGF0YSggJ2hlaWdodCcgKSwgJCggdGhpcyApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldFN0eWxlcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG5cclxuICAgIH07XHJcblxyXG59ICkoKTtcclxuIl19

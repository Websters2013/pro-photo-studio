!function(){$(function(){$.each($(".anchor"),function(){new e($(this))}),$.each($(".partners"),function(){new t($(this))}),$.each($(".catalog"),function(){new t($(this))}),$.each($(".promo__slider"),function(){new t($(this))}),$.each($(".sub-menu"),function(){new t($(this))}),$.each($(".mobile-menu"),function(){new n($(this))}),$.each($(".blog__sort"),function(){new i($(this))}),$.each($(".head-shot"),function(){new o($(this))}),$.each($(".rates__item-swiper"),function(){new t($(this))})});var e=function(e){var n=e,t=$("html, body"),i=function(){n.on({click:function(){return $(".menu").hasClass("mobile")&&$(".menu-btn").trigger("click"),t.animate({scrollTop:$($.attr(this,"href")).offset().top},600),$(".menu")[0].obj.destroy(),!1}})},o=function(){i()};o()},n=function(e){var n=e,t=$(".mobile-menu-btn"),i=function(){o()},o=function(){t.on("click",function(){$(this).hasClass("close")?a():s()})},s=function(){t.addClass("close"),n.addClass("visible")},a=function(){t.removeClass("close"),n.removeClass("visible")};i()},t=function(e){var n,t,i,o,s,a=e,r=a.find(".partners__swiper"),c=a.find(".sub-menu__swiper"),u=a.find(".catalog__swiper"),d=a.find(".promo__swiper"),f=a.find(".rates__swiper"),l=a.find(".partners__swiper-prev"),p=a.find(".catalog__swiper-prev"),h=a.find(".promo__swiper-prev"),w=a.find(".rates__swiper-prev"),m=a.find(".partners__swiper-next"),_=a.find(".catalog__swiper-next"),v=a.find(".promo__swiper-next"),g=a.find(".rates__swiper-next"),C=$(window),b=function(){n=new Swiper(r,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:"auto",loop:!0,loopedSlides:20,spaceBetween:80,nextButton:m,prevButton:l}),t=new Swiper(u,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:3,loop:!0,nextButton:_,prevButton:p,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}}),o=new Swiper(d,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:v,prevButton:h}),s=new Swiper(f,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",loop:!1,nextButton:g,prevButton:w}),i=new Swiper(c,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",onSlideChangeStart:function(){a.removeClass("start"),c[0].swiper.slideTo(i.find(".active").index(),200,!1)},onSlideChangeEnd:function(){a.removeClass("end")},onReachBeginning:function(){a.addClass("start"),a.removeClass("end"),setTimeout(function(){a.addClass("start")},300)},onReachEnd:function(){a.addClass("end"),setTimeout(function(){a.removeClass("start")},300)}})},y=function(){C.outerWidth()<=767&&b(),C.on({resize:function(){C.outerWidth()>=767?x():b()}})},x=function(){c[0].swiper.destroy(!1,!0)},T=function(){y(),b()};T()},i=function(e){var n=e,t=$(".site"),i=$(window),o=function(){s()},s=function(){t.on("click",function(e){n.hasClass("open")&&0==$(e.target).closest(n).length&&a()}),n.on("click",function(){var e=$(this);e.hasClass("open")&&i.width()<1200?a():i.width()<1200&&r()})},a=function(){n.removeClass("open")},r=function(){n.addClass("open")};o()},o=function(e){var n=e,t=$("body"),i=t.data("action"),o=n.find(".head-shot__command-more"),s=n.find(".preloader"),a=n.find(".head-shot__command-wrap"),r=n.find(".head-shot__command-cover"),c=!0,u=new XMLHttpRequest,d=function(){h(),m()},f=function(e){var t,i=e.has_items,o=e.items;$.each(o,function(){var e=this;t=$('<div class="head-shot__command-item new"><img src="'+e.dummy+'" alt="'+e.title+'"/></div>'),a.append(t)});var s=a.find(".new");setTimeout(function(){l(i,s)},550),n.attr("data-loaded-group",+n.attr("data-loaded-group")+1)},l=function(e,n){var t=500;c&&(t=1),r.animate({height:a.outerHeight()},{duration:t,complete:function(){r.css("height",""),n.each(function(e){p($(this),e)}),0==e&&w()}}),c&&setTimeout(function(){c=!1},500)},p=function(e,n){var t=100;c&&(t=1),setTimeout(function(){e.removeClass("new")},n*t)},h=function(){var e=i;s.addClass("active"),u.abort(),u=$.ajax({url:e,data:{action:"gallery",page:n.attr("data-loaded-group")},dataType:"json",timeout:2e4,type:"GET",success:function(e){r.height(r.height()),f(e)},error:function(e){"abort"!=e.statusText&&alert("Error!")}})},w=function(){o.css("opacity",0),setTimeout(function(){o.css("padding",0),o.animate({height:0},{duration:500,complete:function(){o.remove()}})},300)},m=function(){o.on("click",function(){return h(),!1})};d()}}();
!function(){"use strict";$(function(){$.each($(".media-gallery"),function(){new i($(this))})});var i=function(i){var e=i,n=$("body"),a=e.find(".media-gallery__wrap"),o=$('<div class="media-gallery__sizer"></div>'),s=e.find(".media-gallery__switcher"),d=s.find("button"),r=e.find(".media-gallery__cover"),l=e.find(".preloader"),c=e.find(".media-gallery__more"),u=n.data("action"),p=($(window),!1),f=!0,h=!0,v=new XMLHttpRequest,m=function(){d.on("click",function(){var i=$(this),t=i.data("type");return d.removeClass("active"),i.addClass("active"),T(t),h=!0,!1}),c.on({click:function(){return T(),h=!1,!1}}),e.on("click",".media-gallery__item",function(){return t($(this),$(this).index()-1),h=!0,!1})},g=function(i){0!==e.attr("data-loaded-group")&&p&&w();var t,n=i.has_items,s=i.items;h&&a.html(o),$.each(s,function(){var i=this;t=$('<div class="media-gallery__item new '+i.type+'" title="'+this.title+'" data-href="'+i.dummy__big+'"><img src="'+i.dummy+'" alt="'+i.type+'" /></div>'),1==i.video&&t.addClass("media-gallery__item_video"),a.append(t)});var d=a.find(".new");setTimeout(function(){_(n,d)},550),setTimeout(function(){b()},500),e.attr("data-loaded-group",+e.attr("data-loaded-group")+1)},w=function(){a.isotope("destroy"),p=!1},_=function(i,t){var e=500;f&&(e=1),r.animate({height:a.outerHeight()},{duration:e,complete:function(){r.css("height",""),t.each(function(i){y($(this),i)}),0==i&&C()}}),f&&setTimeout(function(){f=!1},500)},y=function(i,t){var e=100;f&&(e=1),setTimeout(function(){i.removeClass("new")},t*e)},b=function(){var i=".media-gallery__item";p=!0,a.isotope({itemSelector:i,percentPosition:!0,masonry:{columnWidth:".media-gallery__sizer"}}),l.removeClass("active")},C=function(){c.css("opacity",0),setTimeout(function(){c.css("padding",0),c.animate({height:0},{duration:500,complete:function(){c.remove()}})},300)},T=function(){var i=u;l.addClass("active"),v.abort(),v=$.ajax({url:i,data:{action:"gallery",page:e.attr("data-loaded-group"),type:d.filter(".active").data("type")},dataType:"json",timeout:2e4,type:"GET",success:function(i){r.height(r.height()),g(i)},error:function(i){"abort"!=i.statusText&&alert("Error!")}})},k=function(){T(),m()};k()},t=function(i,t){var e=this,n=i,a=$("body"),o=n.parent(),s=n.parents(".media-gallery"),d=$("html"),r=$(window),l=o.find(".media-gallery__item"),c=null,u=null,p=null,f=null,h=null,v=null,m=null,g=null,w=null,_=function(){r.on({resize:function(){P()}}),u.parent().on({click:function(){T()}}),u.on({click:function(i){i.stopPropagation()}}),p.on({click:function(){return T(),!1}})},y=function(){s.attr("data-loaded-type");c=$('<div class="swiper-popup">                                    <div class="swiper-container">                                        <div class="swiper-wrapper"></div>                                        <div class="swiper-pagination"></div>                                        <div class="swiper-button-next"></div>                                        <div class="swiper-button-prev"></div>                                    </div>                                </div>'),f=c.find(".swiper-wrapper"),h=c.find(".swiper-container"),v=c.find(".swiper-pagination"),m=c.find(".swiper-button-next"),g=c.find(".swiper-button-prev")},b=function(){var i=c.find(".swiper-slide-active"),t=i.find("[data-src]").data("src"),e=$('<iframe src="'+t+'"> frameborder="0" allowfullscreen></iframe>');$(".swiper-slide-active").find(".swiper-popup__video").prepend(e)},C=function(){y(),k(),z(),w.slideTo(t,0),c.addClass("active"),S(),w.onResize()},T=function(){c.removeClass("active"),setTimeout(function(){d.css({overflow:"",paddingRight:""}),c.remove()},300)},k=function(){$.each(l,function(){var i=null,t=null,e=null;$(this).hasClass("media-gallery__item_video")?(e='<i class="fa fa-spinner fa-spin"></i>',i='<div class="swiper-popup__video"/>',t='data-src="'+$(this).data("href")+'"'):(e="",i='<img src="'+$(this).data("href")+'">',t="");var n=$('<div class="swiper-slide">                                        <div class="swiper-popup__inner" '+t+'>                                            <a href="#" class="swiper-popup__close"></a>                                            '+e+"                                            "+i+'                                            <span class="swiper-slide__title">'+$(this).attr("title")+"</span>                                        </div>                                    </div>");f.append(n),n.find("img").on({load:function(){$(this).attr("data-width",this.width),$(this).attr("data-height",this.height),j(this.width,this.height,$(this))}})}),a.append(c),u=c.find(".swiper-popup__inner"),p=c.find(".swiper-popup__close")},x=function(){var i=document.createElement("div"),t=null;return document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},z=function(){w=new Swiper(h,{pagination:v,nextButton:m,prevButton:g,slidesPerView:1,paginationClickable:!0,onSlideChangeEnd:function(){R(),$(".swiper-slide-active").find("[data-src]").length&&b()}})},E=function(){C(),_(),n[0].obj=e},R=function(){var i=c.find(".swiper-slide"),t=i.find(".swiper-popup__video iframe");t.remove()},j=function(i,t,e){var n=0;n=c.width()/i>c.height()/t?c.height()/t:c.width()/i,n>=1?e.css({width:.85*i,height:.85*t}):e.css({width:n*i*.85,height:n*t*.85})},P=function(){$.each(f.find("img"),function(){j($(this).data("width"),$(this).data("height"),$(this))})},S=function(){d.css({overflow:"hidden",paddingRight:x()})};E()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tZWRpYS1nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQW5jaG9yIiwidGhpcyIsIlNsaWRlcnMiLCJNZW51IiwiU29ydCIsIkhlYWRTaG90TG9hZGVyIiwib2JqIiwiX29iaiIsIl93aW5kb3ciLCJfb25FdmVudHMiLCJvbiIsImNsaWNrIiwiaGFzQ2xhc3MiLCJ0cmlnZ2VyIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJkZXN0cm95IiwiX2NvbnN0cnVjdCIsIl9idG4iLCJfY29uc3RydWN0b3IiLCJfY2xvc2VNZW51IiwiX29wZW5NZW51IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIl9wYXJ0bmVycyIsIl9jYXRhbG9nIiwiX3N1Yk1lbnUiLCJfcHJvbW8iLCJfcmF0ZXMiLCJfcGFydG5lcnNTbGlkZXIiLCJmaW5kIiwiX3N1Yk1lbnVTbGlkZXIiLCJfY2F0YWxvZ1NsaWRlciIsIl9wcm9tb1NsaWRlciIsIl9yYXRlc1NsaWRlciIsIl9wYXJ0bmVyc1ByZXYiLCJfY2F0YWxvZ1ByZXYiLCJfcHJvbW9QcmV2IiwiX3JhdGVzUHJldiIsIl9wYXJ0bmVyc05leHQiLCJfY2F0YWxvZ05leHQiLCJfcHJvbW9OZXh0IiwiX3JhdGVzTmV4dCIsIndpbmRvdyIsIl9pbml0U2xpZGVyIiwiU3dpcGVyIiwiYXV0b3BsYXkiLCJzcGVlZCIsImVmZmVjdCIsInNsaWRlc1BlclZpZXciLCJsb29wIiwibG9vcGVkU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwibmV4dEJ1dHRvbiIsInByZXZCdXR0b24iLCJicmVha3BvaW50cyIsIjc2NyIsIjExOTkiLCJvblNsaWRlQ2hhbmdlU3RhcnQiLCJzd2lwZXIiLCJzbGlkZVRvIiwiaW5kZXgiLCJvblNsaWRlQ2hhbmdlRW5kIiwib25SZWFjaEJlZ2lubmluZyIsInNldFRpbWVvdXQiLCJvblJlYWNoRW5kIiwiX29uRXZlbnQiLCJvdXRlcldpZHRoIiwicmVzaXplIiwiX2Rlc3Ryb3lTbGlkZXIiLCJfaW5pdCIsIl9zaXRlIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJsZW5ndGgiLCJfY2xvc2VMYW5ndWFnZSIsImN1ckVsZW0iLCJ3aWR0aCIsIl9vcGVuTGFuZ3VhZ2UiLCJfYm9keSIsIl9maWxlTGluayIsImRhdGEiLCJfYnRuTW9yZSIsIl9wcmVsb2FkZXIiLCJfd3JhcHBlciIsIl9jb3ZlciIsIl9maXJzdEdyb3VwIiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9sb2FkTmV3SXRlbXMiLCJfYWRkR2FsbGVyeUNvbnRlbnQiLCJtc2ciLCJuZXdCbG9jayIsImhhc0l0ZW1zIiwiaGFzX2l0ZW1zIiwiZ2V0SXRlbXMiLCJpdGVtcyIsImN1ckl0ZW0iLCJkdW1teSIsInRpdGxlIiwiYXBwZW5kIiwibmV3SXRlbXMiLCJfaGVpZ2h0QW5pbWF0aW9uIiwiZHVyYXRpb24iLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsImNvbXBsZXRlIiwiY3NzIiwiaSIsIl9zaG93TmV3SXRlbXMiLCJfcmVtb3ZlQnRuTW9yZSIsIml0ZW0iLCJkZWxheSIsInBhdGgiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJhY3Rpb24iLCJwYWdlIiwiZGF0YVR5cGUiLCJ0aW1lb3V0IiwidHlwZSIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsInJlbW92ZSIsIk1lZGlhR2FsbGVyeSIsIl9zaXplciIsIl9zd2l0Y2hlciIsIl9zd2l0Y2hCdG4iLCJfaXNHYWxsZXJ5IiwiX2ZpbHRlckZsYWciLCJjdXJCdG4iLCJjdXJUeXBlIiwiU3dpcGVyUG9wdXAiLCJfZGVzdHJveUdhbGxlcnkiLCJodG1sIiwiZHVtbXlfX2JpZyIsInZpZGVvIiwiX2luaXRHYWxsZXJ5IiwiaXNvdG9wZSIsIndyYXBJdGVtIiwiaXRlbVNlbGVjdG9yIiwicGVyY2VudFBvc2l0aW9uIiwibWFzb25yeSIsImNvbHVtbldpZHRoIiwiZmlsdGVyIiwiX3NlbGYiLCJwYXJlbnQiLCJfZ2FsbGVyeVdyYXAiLCJwYXJlbnRzIiwiX2h0bWwiLCJfbGlua3MiLCJfcG9wdXAiLCJfcG9wdXBJbm5lciIsIl9wb3B1cENsb3NlIiwiX3N3aXBlcldyYXBwZXIiLCJfc3dpcGVyQ29udGFpbmVyIiwiX3N3aXBlclBhZ2luYXRpb24iLCJfc3dpcGVyQnRuTmV4dCIsIl9zd2lwZXJCdG5QcmV2IiwiX3N3aXBlciIsIl9hZGRFdmVudHMiLCJfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplIiwiX2Nsb3NlUG9wdXAiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIl9hZGRpbmdWYXJpYWJsZXMiLCJfYWRkVmlkZW8iLCJhY3RpdmVTbGlkZSIsInNyYyIsImlubmVyQ29udGVudCIsInByZXBlbmQiLCJfYnVpbGRQb3B1cCIsIl9jb250ZW50RmlsbGluZyIsIl9pbml0U3dpcGVyIiwiX3NldFN0eWxlcyIsIm9uUmVzaXplIiwib3ZlcmZsb3ciLCJwYWRkaW5nUmlnaHQiLCJkYXRhU1JDIiwicHJlbG9hZGVyIiwibmV3SXRlbSIsImxvYWQiLCJfc2V0UGljdHVyZVNpemUiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzY3JvbGxiYXJXaWR0aCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwiX3JlbW92ZVZpZGVvIiwidmlkZW9GcmFtZSIsInBpY1dpZHRoIiwicGljSGVpZ2h0IiwicGljIiwiayJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFSUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFHLFdBQWEsV0FDcEIsR0FBSUUsR0FBU0YsRUFBR0csU0FHcEJILEVBQUVDLEtBQU1ELEVBQUcsYUFBZSxXQUN0QixHQUFJSSxHQUFVSixFQUFHRyxTQUdyQkgsRUFBRUMsS0FBTUQsRUFBRyxZQUFjLFdBQ3JCLEdBQUlJLEdBQVVKLEVBQUdHLFNBR3JCSCxFQUFFQyxLQUFNRCxFQUFHLGtCQUFvQixXQUMzQixHQUFJSSxHQUFVSixFQUFHRyxTQUdyQkgsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBQ3RCLEdBQUlJLEdBQVVKLEVBQUdHLFNBR3JCSCxFQUFFQyxLQUFNRCxFQUFHLGdCQUFrQixXQUN6QixHQUFJSyxHQUFPTCxFQUFHRyxTQUdsQkgsRUFBRUMsS0FBTUQsRUFBRyxlQUFpQixXQUN4QixHQUFJTSxHQUFNTixFQUFHRyxTQUdqQkgsRUFBRUMsS0FBTUQsRUFBRyxjQUFnQixXQUN2QixHQUFJTyxHQUFnQlAsRUFBR0csU0FHM0JILEVBQUVDLEtBQU1ELEVBQUcsdUJBQXlCLFdBQ2hDLEdBQUlJLEdBQVNKLEVBQUdHLFVBS3hCLElBQUlELEdBQVMsU0FBV00sR0FDcEIsR0FBSUMsR0FBT0QsRUFDUEUsRUFBVVYsRUFBRyxjQUViVyxFQUFZLFdBRVJGLEVBQUtHLElBQ0RDLE1BQU8sV0FXSCxNQVRLYixHQUFFLFNBQVNjLFNBQVUsV0FDdEJkLEVBQUcsYUFBY2UsUUFBUyxTQUc5QkwsRUFBUU0sU0FDSkMsVUFBV2pCLEVBQUdBLEVBQUVrQixLQUFLZixLQUFNLFNBQVVnQixTQUFTQyxLQUMvQyxLQUNIcEIsRUFBRyxTQUFVLEdBQUdRLElBQUlhLFdBRWIsTUFLbkJDLEVBQWEsV0FDVFgsSUFHUlcsTUFHQWpCLEVBQU8sU0FBVUcsR0FHakIsR0FBSUMsR0FBT0QsRUFDUGUsRUFBT3ZCLEVBQUcsb0JBR1Z3QixFQUFlLFdBQ1hiLEtBRUpBLEVBQVksV0FFUlksRUFBS1gsR0FBSSxRQUFTLFdBRVRaLEVBQUdHLE1BQU1XLFNBQVUsU0FDcEJXLElBRUFDLE9BTVpBLEVBQVksV0FDUkgsRUFBS0ksU0FBVSxTQUNmbEIsRUFBS2tCLFNBQVUsWUFFbkJGLEVBQWEsV0FDVEYsRUFBS0ssWUFBYSxTQUNsQm5CLEVBQUttQixZQUFhLFdBTzFCSixNQUlBcEIsRUFBVSxTQUFVSSxHQUdwQixHQWNJcUIsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFsQkF4QixFQUFPRCxFQUNQMEIsRUFBa0J6QixFQUFLMEIsS0FBTSxxQkFDN0JDLEVBQWlCM0IsRUFBSzBCLEtBQU0scUJBQzVCRSxFQUFpQjVCLEVBQUswQixLQUFNLG9CQUM1QkcsRUFBZTdCLEVBQUswQixLQUFNLGtCQUMxQkksRUFBZTlCLEVBQUswQixLQUFNLGtCQUMxQkssRUFBZ0IvQixFQUFLMEIsS0FBTSwwQkFDM0JNLEVBQWVoQyxFQUFLMEIsS0FBTSx5QkFDMUJPLEVBQWFqQyxFQUFLMEIsS0FBTSx1QkFDeEJRLEVBQWFsQyxFQUFLMEIsS0FBTSx1QkFDeEJTLEVBQWdCbkMsRUFBSzBCLEtBQU0sMEJBQzNCVSxFQUFlcEMsRUFBSzBCLEtBQU0seUJBQzFCVyxFQUFhckMsRUFBSzBCLEtBQU0sdUJBQ3hCWSxFQUFhdEMsRUFBSzBCLEtBQU0sdUJBTXhCekIsRUFBVVYsRUFBR2dELFFBR2JDLEVBQWMsV0FFVnBCLEVBQVksR0FBSXFCLFFBQVNoQixHQUNyQmlCLFNBQVUsSUFDVkMsTUFBTyxJQUNQQyxPQUFRLFFBQ1JDLGNBQWUsT0FDZkMsTUFBTSxFQUNOQyxhQUFjLEdBQ2RDLGFBQWMsR0FDZEMsV0FBWWQsRUFDWmUsV0FBWW5CLElBR2hCVixFQUFXLEdBQUlvQixRQUFTYixHQUNwQmMsU0FBVSxJQUNWQyxNQUFPLElBQ1BDLE9BQVEsUUFDUkMsY0FBZSxFQUNmQyxNQUFNLEVBQ05HLFdBQVliLEVBQ1pjLFdBQVlsQixFQUNabUIsYUFDSUMsS0FDSVAsY0FBZSxHQUVuQlEsTUFDSVIsY0FBZSxNQUszQnRCLEVBQVMsR0FBSWtCLFFBQVNaLEdBQ2xCYSxTQUFVLElBQ1ZDLE1BQU8sSUFDUEMsT0FBUSxRQUNSQyxjQUFlLEVBQ2ZDLE1BQU0sRUFDTkcsV0FBWVosRUFDWmEsV0FBWWpCLElBR2hCVCxFQUFTLEdBQUlpQixRQUFTWCxHQUNsQlksVUFBVSxFQUNWQyxNQUFPLElBQ1BDLE9BQVEsUUFDUkMsY0FBZSxPQUNmQyxNQUFNLEVBQ05HLFdBQVlYLEVBQ1pZLFdBQVloQixJQUdoQlosRUFBVyxHQUFJbUIsUUFBU2QsR0FDcEJlLFVBQVUsRUFDVkMsTUFBTyxJQUNQQyxPQUFRLFFBQ1JDLGNBQWUsT0FDZlMsbUJBQW9CLFdBQ2hCdEQsRUFBS21CLFlBQWEsU0FDbEJRLEVBQWUsR0FBRzRCLE9BQU9DLFFBQVNsQyxFQUFTSSxLQUFNLFdBQVkrQixRQUFVLEtBQUssSUFFaEZDLGlCQUFrQixXQUNkMUQsRUFBS21CLFlBQWEsUUFFdEJ3QyxpQkFBa0IsV0FDZDNELEVBQUtrQixTQUFVLFNBQ2ZsQixFQUFLbUIsWUFBYSxPQUVsQnlDLFdBQVksV0FDUjVELEVBQUtrQixTQUFVLFVBQ2pCLE1BR04yQyxXQUFZLFdBQ1I3RCxFQUFLa0IsU0FBVSxPQUVmMEMsV0FBWSxXQUNSNUQsRUFBS21CLFlBQWEsVUFDcEIsU0FLZDJDLEVBQVcsV0FFRjdELEVBQVE4RCxjQUFnQixLQUN6QnZCLElBR0p2QyxFQUFRRSxJQUNKNkQsT0FBVSxXQUVEL0QsRUFBUThELGNBQWdCLElBQ3pCRSxJQUVBekIsUUFPaEJ5QixFQUFpQixXQUVidEMsRUFBZ0IsR0FBSTRCLE9BQU8zQyxTQUFTLEdBQU8sSUFHL0NzRCxFQUFRLFdBQ0pKLElBQ0F0QixJQU9SMEIsTUFHQXJFLEVBQU8sU0FBVUUsR0FHakIsR0FBSUMsR0FBT0QsRUFDUG9FLEVBQVE1RSxFQUFHLFNBQ1hVLEVBQVVWLEVBQUdnRCxRQUdiMUIsRUFBYSxXQUVUaUQsS0FHSkEsRUFBVyxXQUVQSyxFQUFNaEUsR0FDRixRQUFTLFNBQVdpRSxHQUVYcEUsRUFBS0ssU0FBVSxTQUFvRCxHQUF4Q2QsRUFBRzZFLEVBQUVDLFFBQVNDLFFBQVN0RSxHQUFPdUUsUUFDMURDLE1BTVp4RSxFQUFLRyxHQUFJLFFBQVMsV0FFZCxHQUFJc0UsR0FBVWxGLEVBQUdHLEtBRWIrRSxHQUFRcEUsU0FBVSxTQUFZSixFQUFReUUsUUFBVSxLQUNoREYsSUFDUXZFLEVBQVF5RSxRQUFVLE1BQzFCQyxPQU1aSCxFQUFpQixXQUNieEUsRUFBS21CLFlBQWEsU0FFdEJ3RCxFQUFnQixXQUNaM0UsRUFBS2tCLFNBQVUsUUFPdkJMLE1BR0FmLEVBQWlCLFNBQVVDLEdBRzNCLEdBQUlDLEdBQU9ELEVBQ1A2RSxFQUFRckYsRUFBRyxRQUNYc0YsRUFBWUQsRUFBTUUsS0FBTSxVQUN4QkMsRUFBVy9FLEVBQUswQixLQUFNLDRCQUN0QnNELEVBQWFoRixFQUFLMEIsS0FBTSxjQUN4QnVELEVBQVdqRixFQUFLMEIsS0FBTSw0QkFDdEJ3RCxFQUFTbEYsRUFBSzBCLEtBQU0sNkJBQ3BCeUQsR0FBYyxFQUNkQyxFQUFXLEdBQUlDLGdCQUdmeEUsRUFBYSxXQUNUeUUsSUFDQXhCLEtBRUp5QixFQUFxQixTQUFXQyxHQUU1QixHQUVJQyxHQUZBQyxFQUFXRixFQUFJRyxVQUNmQyxFQUFXSixFQUFJSyxLQUduQnRHLEdBQUVDLEtBQU1vRyxFQUFVLFdBRWQsR0FBSUUsR0FBVXBHLElBRWQrRixHQUFXbEcsRUFBRyxzREFDSXVHLEVBQVFDLE1BQU8sVUFBV0QsRUFBUUUsTUFBTyxhQUczRGYsRUFBU2dCLE9BQVFSLElBSXJCLElBQUlTLEdBQVdqQixFQUFTdkQsS0FBTSxPQUU5QmtDLFlBQVksV0FDUnVDLEVBQWtCVCxFQUFVUSxJQUM3QixLQUVIbEcsRUFBS1MsS0FBTSxxQkFBc0JULEVBQUtTLEtBQU0scUJBQXdCLElBR3hFMEYsRUFBbUIsU0FBVVQsRUFBVVEsR0FFbkMsR0FBSUUsR0FBVyxHQUVWakIsS0FDRGlCLEVBQVcsR0FHZmxCLEVBQU8zRSxTQUNIOEYsT0FBUXBCLEVBQVNxQixnQkFFakJGLFNBQVVBLEVBQ1ZHLFNBQVUsV0FFTnJCLEVBQU9zQixJQUFLLFNBQVUsSUFFdEJOLEVBQVMxRyxLQUFNLFNBQVVpSCxHQUNyQkMsRUFBZW5ILEVBQUdHLE1BQVErRyxLQUdiLEdBQVpmLEdBQ0RpQixPQU1QeEIsR0FDRHZCLFdBQVksV0FDUnVCLEdBQWMsR0FDZixNQUlYdUIsRUFBZ0IsU0FBVUUsRUFBTW5ELEdBRTVCLEdBQUlvRCxHQUFRLEdBRVAxQixLQUNEMEIsRUFBUSxHQUdaakQsV0FBWSxXQUNSZ0QsRUFBS3pGLFlBQWEsUUFDbkJzQyxFQUFRb0QsSUFHZnZCLEVBQWdCLFdBRVosR0FBSXdCLEdBQVFqQyxDQUVaRyxHQUFXOUQsU0FBVSxVQUVyQmtFLEVBQVMyQixRQUNUM0IsRUFBVzdGLEVBQUV5SCxNQUNUQyxJQUFLSCxFQUNMaEMsTUFDSW9DLE9BQVEsVUFDUkMsS0FBTW5ILEVBQUtTLEtBQU0sc0JBRXJCMkcsU0FBVSxPQUNWQyxRQUFTLElBQ1RDLEtBQU0sTUFDTkMsUUFBUyxTQUFXL0IsR0FFaEJOLEVBQU9tQixPQUFRbkIsRUFBT21CLFVBRXRCZCxFQUFvQkMsSUFHeEJnQyxNQUFPLFNBQVduQyxHQUNtQixTQUE3QkEsRUFBZW9DLFlBQ2ZDLE1BQU8sY0FNdkJmLEVBQWlCLFdBRWI1QixFQUFTeUIsSUFBSyxVQUFXLEdBRXpCNUMsV0FBWSxXQUVSbUIsRUFBU3lCLElBQUssVUFBVyxHQUV6QnpCLEVBQVN4RSxTQUNMOEYsT0FBUSxJQUVSRCxTQUFVLElBQ1ZHLFNBQVUsV0FDTnhCLEVBQVM0QyxhQUlsQixNQUdQN0QsRUFBVyxXQUVQaUIsRUFBUzVFLEdBQUksUUFBUyxXQUlsQixNQUZBbUYsTUFFTyxJQVVuQnpFO0NDbmRSLFdBRUksWUFFQXRCLEdBQUUsV0FFRUEsRUFBRUMsS0FBTUQsRUFBRyxrQkFBb0IsV0FFM0IsR0FBSXFJLEdBQWVySSxFQUFHRyxVQU05QixJQUFJa0ksR0FBZSxTQUFVN0gsR0FFekIsR0FBSUMsR0FBT0QsRUFDUDZFLEVBQVFyRixFQUFHLFFBQ1gwRixFQUFXakYsRUFBSzBCLEtBQU0sd0JBQ3RCbUcsRUFBU3RJLEVBQUcsNENBQ1p1SSxFQUFZOUgsRUFBSzBCLEtBQU0sNEJBQ3ZCcUcsRUFBYUQsRUFBVXBHLEtBQU0sVUFDN0J3RCxFQUFTbEYsRUFBSzBCLEtBQU0seUJBQ3BCc0QsRUFBYWhGLEVBQUswQixLQUFNLGNBQ3hCcUQsRUFBVy9FLEVBQUswQixLQUFNLHdCQUN0Qm1ELEVBQVlELEVBQU1FLEtBQU0sVUFFeEJrRCxHQURVekksRUFBR2dELFNBQ0EsR0FDYjRDLEdBQWMsRUFDZDhDLEdBQWMsRUFDZDdDLEVBQVcsR0FBSUMsZ0JBRWZuRixFQUFZLFdBRVI2SCxFQUFXNUgsR0FBSSxRQUFTLFdBRXBCLEdBQUkrSCxHQUFTM0ksRUFBR0csTUFDWnlJLEVBQVVELEVBQU9wRCxLQUFNLE9BUzNCLE9BUEFpRCxHQUFXNUcsWUFBYSxVQUN4QitHLEVBQU9oSCxTQUFVLFVBRWpCb0UsRUFBZTZDLEdBRWZGLEdBQWMsR0FFUCxJQUlYbEQsRUFBUzVFLElBQ0xDLE1BQU8sV0FLSCxNQUpBa0YsS0FFQTJDLEdBQWMsR0FFUCxLQUlmakksRUFBS0csR0FBSSxRQUFTLHVCQUF3QixXQU10QyxNQUpBaUksR0FBYTdJLEVBQUdHLE1BQVFILEVBQUdHLE1BQU8rRCxRQUFVLEdBRTVDd0UsR0FBYyxHQUVQLEtBS2YxQyxFQUFxQixTQUFXQyxHQUVjLElBQXJDeEYsRUFBS1MsS0FBTSxzQkFBK0J1SCxHQUMzQ0ssR0FHSixJQUVJNUMsR0FGQUMsRUFBV0YsRUFBSUcsVUFDZkMsRUFBV0osRUFBSUssS0FHZG9DLElBQ0RoRCxFQUFTcUQsS0FBTVQsR0FHbkJ0SSxFQUFFQyxLQUFNb0csRUFBVSxXQUVkLEdBQUlFLEdBQVVwRyxJQUVkK0YsR0FBV2xHLEVBQUcsdUNBQXdDdUcsRUFBUXdCLEtBQU0sWUFBYzVILEtBQUtzRyxNQUFRLGdCQUFpQkYsRUFBUXlDLFdBQVksZUFDbEh6QyxFQUFRQyxNQUFPLFVBQVdELEVBQVF3QixLQUFNLGNBR3BDLEdBQWpCeEIsRUFBUTBDLE9BQ1QvQyxFQUFTdkUsU0FBVSw2QkFHdkIrRCxFQUFTZ0IsT0FBUVIsSUFJckIsSUFBSVMsR0FBV2pCLEVBQVN2RCxLQUFNLE9BRTlCa0MsWUFBWSxXQUNSdUMsRUFBa0JULEVBQVVRLElBQzdCLEtBRUh0QyxXQUFZLFdBQ1I2RSxLQUNELEtBRUh6SSxFQUFLUyxLQUFNLHFCQUFzQlQsRUFBS1MsS0FBTSxxQkFBc0IsSUFHdEU0SCxFQUFrQixXQUVkcEQsRUFBU3lELFFBQVMsV0FDbEJWLEdBQWEsR0FHakI3QixFQUFtQixTQUFVVCxFQUFVUSxHQUVuQyxHQUFJRSxHQUFXLEdBRVZqQixLQUNEaUIsRUFBVyxHQUdmbEIsRUFBTzNFLFNBQ0g4RixPQUFRcEIsRUFBU3FCLGdCQUVqQkYsU0FBVUEsRUFDVkcsU0FBVSxXQUVOckIsRUFBT3NCLElBQUssU0FBVSxJQUV0Qk4sRUFBUzFHLEtBQU0sU0FBVWlILEdBQ3JCQyxFQUFlbkgsRUFBR0csTUFBUStHLEtBR2IsR0FBWmYsR0FDRGlCLE9BTVB4QixHQUNEdkIsV0FBWSxXQUNSdUIsR0FBYyxHQUNmLE1BSVh1QixFQUFnQixTQUFVRSxFQUFNbkQsR0FFNUIsR0FBSW9ELEdBQVEsR0FFUDFCLEtBQ0QwQixFQUFRLEdBR1pqRCxXQUFZLFdBQ1JnRCxFQUFLekYsWUFBYSxRQUNuQnNDLEVBQVFvRCxJQUdmNEIsRUFBZSxXQUVYLEdBQUlFLEdBQVcsc0JBRWZYLElBQWEsRUFFYi9DLEVBQVN5RCxTQUNMRSxhQUFjRCxFQUNkRSxpQkFBaUIsRUFDakJDLFNBQ0lDLFlBQWEsMkJBSXJCL0QsRUFBVzdELFlBQWEsV0FHNUJ3RixFQUFpQixXQUViNUIsRUFBU3lCLElBQUssVUFBVyxHQUV6QjVDLFdBQVksV0FFUm1CLEVBQVN5QixJQUFLLFVBQVcsR0FFekJ6QixFQUFTeEUsU0FDTDhGLE9BQVEsSUFFUkQsU0FBVSxJQUNWRyxTQUFVLFdBQ054QixFQUFTNEMsYUFJbEIsTUFHUHJDLEVBQWdCLFdBRVosR0FBSXdCLEdBQVFqQyxDQUVaRyxHQUFXOUQsU0FBVSxVQUVyQmtFLEVBQVMyQixRQUNUM0IsRUFBVzdGLEVBQUV5SCxNQUNUQyxJQUFLSCxFQUNMaEMsTUFDSW9DLE9BQVEsVUFDUkMsS0FBTW5ILEVBQUtTLEtBQU0scUJBQ2pCNkcsS0FBTVMsRUFBV2lCLE9BQVEsV0FBWWxFLEtBQU0sU0FFL0NzQyxTQUFVLE9BQ1ZDLFFBQVMsSUFDVEMsS0FBTSxNQUNOQyxRQUFTLFNBQVcvQixHQUVoQk4sRUFBT21CLE9BQVFuQixFQUFPbUIsVUFFdEJkLEVBQW9CQyxJQUd4QmdDLE1BQU8sU0FBV25DLEdBQ21CLFNBQTdCQSxFQUFlb0MsWUFDZkMsTUFBTyxjQU12QnhELEVBQVEsV0FFSm9CLElBQ0FwRixJQUlSZ0UsTUFJQWtFLEVBQWMsU0FBV3JJLEVBQUswRCxHQUU5QixHQUFJd0YsR0FBUXZKLEtBQ1JNLEVBQU9ELEVBQ1A2RSxFQUFRckYsRUFBRyxRQUNYMEYsRUFBV2pGLEVBQUtrSixTQUNoQkMsRUFBZW5KLEVBQUtvSixRQUFTLGtCQUM3QkMsRUFBUTlKLEVBQUcsUUFDWFUsRUFBVVYsRUFBR2dELFFBQ2IrRyxFQUFTckUsRUFBU3ZELEtBQU0sd0JBQ3hCNkgsRUFBUyxLQUNUQyxFQUFjLEtBQ2RDLEVBQWMsS0FDZEMsRUFBaUIsS0FDakJDLEVBQW1CLEtBQ25CQyxFQUFvQixLQUNwQkMsRUFBaUIsS0FDakJDLEVBQWlCLEtBQ2pCQyxFQUFVLEtBRVZDLEVBQWEsV0FFVC9KLEVBQVFFLElBRUo2RCxPQUFRLFdBRUppRyxPQU1SVCxFQUFZTixTQUFTL0ksSUFFakJDLE1BQU8sV0FFSDhKLE9BTVJWLEVBQVlySixJQUVSQyxNQUFPLFNBQVUrSixHQUViQSxFQUFNQyxxQkFNZFgsRUFBWXRKLElBQ1JDLE1BQU8sV0FHSCxNQURBOEosTUFDTyxNQU1uQkcsRUFBbUIsV0FFSmxCLEVBQWExSSxLQUFNLG1CQUU5QjhJLEdBQVNoSyxFQUFHLG1lQWVabUssRUFBaUJILEVBQU83SCxLQUFNLG1CQUM5QmlJLEVBQW1CSixFQUFPN0gsS0FBTSxxQkFDaENrSSxFQUFvQkwsRUFBTzdILEtBQU0sc0JBQ2pDbUksRUFBaUJOLEVBQU83SCxLQUFNLHVCQUM5Qm9JLEVBQWlCUCxFQUFPN0gsS0FBTSx3QkFHbEM0SSxFQUFZLFdBRVIsR0FBSUMsR0FBY2hCLEVBQU83SCxLQUFNLHdCQUMzQjhJLEVBQU1ELEVBQVk3SSxLQUFNLGNBQWVvRCxLQUFNLE9BQzdDMkYsRUFBZWxMLEVBQUcsZ0JBQWtCaUwsRUFBTSwrQ0FFOUNqTCxHQUFHLHdCQUF5Qm1DLEtBQU0sd0JBQXlCZ0osUUFBU0QsSUFHeEVFLEVBQWMsV0FFVk4sSUFDQU8sSUFDQUMsSUFDQWQsRUFBUXZHLFFBQVNDLEVBQU8sR0FDeEI4RixFQUFPckksU0FBVSxVQUNqQjRKLElBQ0FmLEVBQVFnQixZQUdaYixFQUFjLFdBRVZYLEVBQU9wSSxZQUFhLFVBQ3BCeUMsV0FBWSxXQUNSeUYsRUFBTTdDLEtBQUt3RSxTQUFVLEdBQUlDLGFBQWMsS0FDdkMxQixFQUFPNUIsVUFDUixNQUdQaUQsRUFBa0IsV0FFZHJMLEVBQUVDLEtBQU04SixFQUFRLFdBRVosR0FBSW1CLEdBQWUsS0FDZlMsRUFBVSxLQUNWQyxFQUFZLElBRVg1TCxHQUFHRyxNQUFPVyxTQUFVLDhCQUVyQjhLLEVBQVksd0NBQ1pWLEVBQWUscUNBQ2ZTLEVBQVUsYUFBZTNMLEVBQUVHLE1BQU1vRixLQUFNLFFBQVcsTUFJbERxRyxFQUFZLEdBQ1pWLEVBQWUsYUFBZWxMLEVBQUVHLE1BQU1vRixLQUFNLFFBQVcsS0FDdkRvRyxFQUFVLEdBSWQsSUFBSUUsR0FBVTdMLEVBQUcsc0dBRXdDMkwsRUFBVSx3SUFJdkNDLEVBQVksK0NBRVpWLEVBQWUsaUZBRW1CbEwsRUFBR0csTUFBT2UsS0FBTSxTQUFZLGtHQU0xRmlKLEdBQWV6RCxPQUFRbUYsR0FFdkJBLEVBQVExSixLQUFNLE9BQVF2QixJQUNsQmtMLEtBQU0sV0FDRjlMLEVBQUdHLE1BQU9lLEtBQU0sYUFBY2YsS0FBS2dGLE9BQ25DbkYsRUFBR0csTUFBT2UsS0FBTSxjQUFlZixLQUFLMkcsUUFDcENpRixFQUFpQjVMLEtBQUtnRixNQUFPaEYsS0FBSzJHLE9BQVE5RyxFQUFHRyxZQU16RGtGLEVBQU1xQixPQUFRc0QsR0FFZEMsRUFBY0QsRUFBTzdILEtBQU0sd0JBQzNCK0gsRUFBY0YsRUFBTzdILEtBQU0seUJBRy9CNkosRUFBa0IsV0FDZCxHQUFJQyxHQUFZQyxTQUFTQyxjQUFlLE9BQ3BDQyxFQUFpQixJQUlyQixPQUhBRixVQUFTRyxLQUFLQyxZQUFhTCxHQUMzQkcsRUFBaUJILEVBQVVNLFlBQWNOLEVBQVVPLFlBQ25ETixTQUFTRyxLQUFLSSxZQUFhUixHQUNwQkcsR0FFWGQsRUFBYyxXQUVWZCxFQUFVLEdBQUl0SCxRQUFRa0gsR0FDbEJzQyxXQUFZckMsRUFDWjNHLFdBQVk0RyxFQUNaM0csV0FBWTRHLEVBQ1pqSCxjQUFlLEVBQ2ZxSixxQkFBcUIsRUFDckJ4SSxpQkFBa0IsV0FDZHlJLElBQ0s1TSxFQUFHLHdCQUF5Qm1DLEtBQU0sY0FBZTZDLFFBQ2xEK0YsUUFNaEJwRyxFQUFRLFdBQ0p5RyxJQUNBWCxJQUNBaEssRUFBTSxHQUFJRCxJQUFNa0osR0FFcEJrRCxFQUFlLFdBRVgsR0FBSXRHLEdBQVEwRCxFQUFPN0gsS0FBTSxpQkFDckIwSyxFQUFhdkcsRUFBTW5FLEtBQU0sOEJBQzdCMEssR0FBV3pFLFVBR2YyRCxFQUFrQixTQUFVZSxFQUFVQyxFQUFXQyxHQUU3QyxHQUFJQyxHQUFJLENBR0pBLEdBREdqRCxFQUFPN0UsUUFBUTJILEVBQWU5QyxFQUFPbEQsU0FBU2lHLEVBQzdDL0MsRUFBT2xELFNBQVNpRyxFQUVoQi9DLEVBQU83RSxRQUFRMkgsRUFHbEJHLEdBQUssRUFFTkQsRUFBSS9GLEtBQ0E5QixNQUFrQixJQUFUMkgsRUFDVGhHLE9BQW9CLElBQVZpRyxJQUtkQyxFQUFJL0YsS0FDQTlCLE1BQVM4SCxFQUFFSCxFQUFTLElBQ3BCaEcsT0FBVW1HLEVBQUVGLEVBQVUsT0FNbENyQyxFQUE0QixXQUV4QjFLLEVBQUVDLEtBQU1rSyxFQUFlaEksS0FBTSxPQUFTLFdBRWxDNEosRUFBaUIvTCxFQUFHRyxNQUFPb0YsS0FBTSxTQUFXdkYsRUFBR0csTUFBT29GLEtBQU0sVUFBWXZGLEVBQUdHLFVBS25Gb0wsRUFBYSxXQUVUekIsRUFBTTdDLEtBQ0Z3RSxTQUFVLFNBQ1ZDLGFBQWNNLE1BSzFCckgiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5hbmNob3InICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgQW5jaG9yICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcucGFydG5lcnMnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmNhdGFsb2cnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnByb21vX19zbGlkZXInICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLnN1Yi1tZW51JyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5tb2JpbGUtbWVudScgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuYmxvZ19fc29ydCcgKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXcgU29ydCggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuaGVhZC1zaG90JyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBIZWFkU2hvdExvYWRlciggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcucmF0ZXNfX2l0ZW0tc3dpcGVyJyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgfSApO1xyXG5cclxuICAgIHZhciBBbmNob3IgPSBmdW5jdGlvbiAoIG9iaiApIHtcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoICdodG1sLCBib2R5JyApO1xyXG5cclxuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCgnLm1lbnUnKS5oYXNDbGFzcyggJ21vYmlsZScgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIFwiLm1lbnUtYnRuXCIgKS50cmlnZ2VyKCAnY2xpY2snICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93aW5kb3cuYW5pbWF0ZSgge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCAkLmF0dHIodGhpcywgJ2hyZWYnKSApLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCAnLm1lbnUnIClbMF0ub2JqLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApe1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYnRuID0gJCggJy5tb2JpbGUtbWVudS1idG4nICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB0aGlzKS5oYXNDbGFzcyggJ2Nsb3NlJyApICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9idG4uYWRkQ2xhc3MoICdjbG9zZScgKTtcclxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICd2aXNpYmxlJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9idG4ucmVtb3ZlQ2xhc3MoICdjbG9zZScgKTtcclxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICd2aXNpYmxlJyApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU2xpZGVycyA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9wYXJ0bmVyc1NsaWRlciA9IF9vYmouZmluZCggJy5wYXJ0bmVyc19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfc3ViTWVudVNsaWRlciA9IF9vYmouZmluZCggJy5zdWItbWVudV9fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfY2F0YWxvZ1NsaWRlciA9IF9vYmouZmluZCggJy5jYXRhbG9nX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9wcm9tb1NsaWRlciA9IF9vYmouZmluZCggJy5wcm9tb19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfcmF0ZXNTbGlkZXIgPSBfb2JqLmZpbmQoICcucmF0ZXNfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3BhcnRuZXJzUHJldiA9IF9vYmouZmluZCggJy5wYXJ0bmVyc19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9jYXRhbG9nUHJldiA9IF9vYmouZmluZCggJy5jYXRhbG9nX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX3Byb21vUHJldiA9IF9vYmouZmluZCggJy5wcm9tb19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9yYXRlc1ByZXYgPSBfb2JqLmZpbmQoICcucmF0ZXNfX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfcGFydG5lcnNOZXh0ID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX2NhdGFsb2dOZXh0ID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfcHJvbW9OZXh0ID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX3JhdGVzTmV4dCA9IF9vYmouZmluZCggJy5yYXRlc19fc3dpcGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9wYXJ0bmVycyxcclxuICAgICAgICAgICAgX2NhdGFsb2csXHJcbiAgICAgICAgICAgIF9zdWJNZW51LFxyXG4gICAgICAgICAgICBfcHJvbW8sXHJcbiAgICAgICAgICAgIF9yYXRlcyxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9wYXJ0bmVycyA9IG5ldyBTd2lwZXIgKCBfcGFydG5lcnNTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9wYXJ0bmVyc05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3BhcnRuZXJzUHJldlxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9jYXRhbG9nID0gbmV3IFN3aXBlciAoIF9jYXRhbG9nU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfY2F0YWxvZ05leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX2NhdGFsb2dQcmV2LFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDc2Nzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAxMTk5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Byb21vID0gbmV3IFN3aXBlciAoIF9wcm9tb1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3Byb21vTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcHJvbW9QcmV2XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JhdGVzID0gbmV3IFN3aXBlciAoIF9yYXRlc1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3JhdGVzTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcmF0ZXNQcmV2XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N1Yk1lbnUgPSBuZXcgU3dpcGVyICggX3N1Yk1lbnVTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N1Yk1lbnVTbGlkZXJbMF0uc3dpcGVyLnNsaWRlVG8oIF9zdWJNZW51LmZpbmQoICcuYWN0aXZlJyApLmluZGV4KCkgLCAyMDAsIGZhbHNlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlRW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ2VuZCcgKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVhY2hCZWdpbm5pbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdlbmQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwzMDAgKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUmVhY2hFbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnZW5kJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc3RhcnQnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMzAwIClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5vdXRlcldpZHRoKCkgPD0gNzY3ICApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyICgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAncmVzaXplJzogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cub3V0ZXJXaWR0aCgpID49IDc2NyAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95U2xpZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rlc3Ryb3lTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudVNsaWRlclsgMCBdLnN3aXBlci5kZXN0cm95KCBmYWxzZSwgdHJ1ZSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNvcnQgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9zaXRlID0gJCggJy5zaXRlJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3NpdGUub24oXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJywgZnVuY3Rpb24gKCBlICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBfb2JqLmhhc0NsYXNzKCAnb3BlbicgKSAmJiAkKCBlLnRhcmdldCApLmNsb3Nlc3QoIF9vYmogKS5sZW5ndGggPT0gMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJFbGVtLmhhc0NsYXNzKCAnb3BlbicgKSAmJiBfd2luZG93LndpZHRoKCkgPCAxMjAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUxhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggX3dpbmRvdy53aWR0aCgpIDwgMTIwMCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5MYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IClcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZUxhbmd1YWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbicgKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29wZW5MYW5ndWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW4nIClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3QoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEhlYWRTaG90TG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfZmlsZUxpbmsgPSBfYm9keS5kYXRhKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfYnRuTW9yZSA9IF9vYmouZmluZCggJy5oZWFkLXNob3RfX2NvbW1hbmQtbW9yZScgKSxcclxuICAgICAgICAgICAgX3ByZWxvYWRlciA9IF9vYmouZmluZCggJy5wcmVsb2FkZXInICksXHJcbiAgICAgICAgICAgIF93cmFwcGVyID0gX29iai5maW5kKCAnLmhlYWQtc2hvdF9fY29tbWFuZC13cmFwJyApLFxyXG4gICAgICAgICAgICBfY292ZXIgPSBfb2JqLmZpbmQoICcuaGVhZC1zaG90X19jb21tYW5kLWNvdmVyJyApLFxyXG4gICAgICAgICAgICBfZmlyc3RHcm91cCA9IHRydWUsXHJcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQgPSBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzSXRlbXMgPSBtc2cuaGFzX2l0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW1zID0gbXNnLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggZ2V0SXRlbXMsIGZ1bmN0aW9uKCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrID0gJCggJzxkaXYgY2xhc3M9XCJoZWFkLXNob3RfX2NvbW1hbmQtaXRlbSBuZXdcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInKyBjdXJJdGVtLmR1bW15ICsnXCIgYWx0PVwiJysgY3VySXRlbS50aXRsZSArJ1wiLz4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd3JhcHBlci5hcHBlbmQoIG5ld0Jsb2NrICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtcyA9IF93cmFwcGVyLmZpbmQoICcubmV3JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICk7XHJcbiAgICAgICAgICAgICAgICB9LCA1NTAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcsICtfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSArIDEgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9oZWlnaHRBbmltYXRpb24gPSBmdW5jdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gNTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKXtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IDFcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfY292ZXIuYW5pbWF0ZSgge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3dyYXBwZXIub3V0ZXJIZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3Zlci5jc3MoICdoZWlnaHQnLCAnJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbXMuZWFjaCggZnVuY3Rpb24oIGkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93TmV3SXRlbXMoICQoIHRoaXMgKSwgaSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGhhc0l0ZW1zID09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpcnN0R3JvdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93TmV3SXRlbXMgPSBmdW5jdGlvbiggaXRlbSwgaW5kZXggKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IDFcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUNsYXNzKCAnbmV3JyApO1xyXG4gICAgICAgICAgICAgICAgfSwgaW5kZXggKiBkZWxheSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWROZXdJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggID0gX2ZpbGVMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuaGVpZ2h0KCBfY292ZXIuaGVpZ2h0KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCggbXNnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggWE1MSHR0cFJlcXVlc3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9ICdhYm9ydCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ0Vycm9yIScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdvcGFjaXR5JywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmNzcyggJ3BhZGRpbmcnLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLm1lZGlhLWdhbGxlcnknICksIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICBuZXcgTWVkaWFHYWxsZXJ5ICggJCggdGhpcyApIClcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgTWVkaWFHYWxsZXJ5ID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF93cmFwcGVyID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX3dyYXAnICksXHJcbiAgICAgICAgICAgIF9zaXplciA9ICQoICc8ZGl2IGNsYXNzPVwibWVkaWEtZ2FsbGVyeV9fc2l6ZXJcIj48L2Rpdj4nICksXHJcbiAgICAgICAgICAgIF9zd2l0Y2hlciA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X19zd2l0Y2hlcicgKSxcclxuICAgICAgICAgICAgX3N3aXRjaEJ0biA9IF9zd2l0Y2hlci5maW5kKCAnYnV0dG9uJyApLFxyXG4gICAgICAgICAgICBfY292ZXIgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fY292ZXInICksXHJcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBfb2JqLmZpbmQoICcucHJlbG9hZGVyJyApLFxyXG4gICAgICAgICAgICBfYnRuTW9yZSA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X19tb3JlJyApLFxyXG4gICAgICAgICAgICBfZmlsZUxpbmsgPSBfYm9keS5kYXRhKCAnYWN0aW9uJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9pc0dhbGxlcnkgPSBmYWxzZSxcclxuICAgICAgICAgICAgX2ZpcnN0R3JvdXAgPSB0cnVlLFxyXG4gICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWUsXHJcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3N3aXRjaEJ0bi5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQnRuID0gJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUeXBlID0gY3VyQnRuLmRhdGEoICd0eXBlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc3dpdGNoQnRuLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ckJ0bi5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcyggY3VyVHlwZSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maWx0ZXJGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoub24oICdjbGljaycsICcubWVkaWEtZ2FsbGVyeV9faXRlbScsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBTd2lwZXJQb3B1cCggJCggdGhpcyApLCAkKCB0aGlzICkuaW5kZXgoKSAtIDEgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50ID0gZnVuY3Rpb24gKCBtc2cgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKSAhPT0gMCAmJiBfaXNHYWxsZXJ5ICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0l0ZW1zID0gbXNnLmhhc19pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBnZXRJdGVtcyA9IG1zZy5pdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jaztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maWx0ZXJGbGFnICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuaHRtbCggX3NpemVyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBnZXRJdGVtcywgZnVuY3Rpb24oICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2sgPSAkKCAnPGRpdiBjbGFzcz1cIm1lZGlhLWdhbGxlcnlfX2l0ZW0gbmV3ICcrIGN1ckl0ZW0udHlwZSArJ1wiIHRpdGxlPVwiJyArIHRoaXMudGl0bGUgKyAnXCIgZGF0YS1ocmVmPVwiJysgY3VySXRlbS5kdW1teV9fYmlnICsnXCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgY3VySXRlbS5kdW1teSArJ1wiIGFsdD1cIicrIGN1ckl0ZW0udHlwZSArJ1wiIC8+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLnZpZGVvID09IDEgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2suYWRkQ2xhc3MoICdtZWRpYS1nYWxsZXJ5X19pdGVtX3ZpZGVvJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuYXBwZW5kKCBuZXdCbG9jayApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbXMgPSBfd3JhcHBlci5maW5kKCAnLm5ldycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9oZWlnaHRBbmltYXRpb24oIGhhc0l0ZW1zLCBuZXdJdGVtcyApO1xyXG4gICAgICAgICAgICAgICAgfSwgNTUwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaW5pdEdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJywgK19vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApKzEgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9kZXN0cm95R2FsbGVyeSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwcGVyLmlzb3RvcGUoICdkZXN0cm95JyApO1xyXG4gICAgICAgICAgICAgICAgX2lzR2FsbGVyeSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSA1MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9jb3Zlci5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfd3JhcHBlci5vdXRlckhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmNzcyggJ2hlaWdodCcsICcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyggJCggdGhpcyApLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaGFzSXRlbXMgPT0gMCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZUJ0bk1vcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtLCBpbmRleCApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoICduZXcnICk7XHJcbiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIGRlbGF5ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdEdhbGxlcnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXBJdGVtID0gJy5tZWRpYS1nYWxsZXJ5X19pdGVtJztcclxuXHJcbiAgICAgICAgICAgICAgICBfaXNHYWxsZXJ5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBfd3JhcHBlci5pc290b3BlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiB3cmFwSXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFzb25yeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5tZWRpYS1nYWxsZXJ5X19zaXplcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVCdG5Nb3JlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdvcGFjaXR5JywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmNzcyggJ3BhZGRpbmcnLCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG5Nb3JlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWROZXdJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggID0gX2ZpbGVMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBfc3dpdGNoQnRuLmZpbHRlciggJy5hY3RpdmUnICkuZGF0YSggJ3R5cGUnIClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3Zlci5oZWlnaHQoIF9jb3Zlci5oZWlnaHQoKSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50KCBtc2cgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCBYTUxIdHRwUmVxdWVzdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gJ2Fib3J0JyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCAnRXJyb3IhJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFN3aXBlclBvcHVwID0gZnVuY3Rpb24gKCBvYmosIGluZGV4ICkge1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfd3JhcHBlciA9IF9vYmoucGFyZW50KCksXHJcbiAgICAgICAgICAgIF9nYWxsZXJ5V3JhcCA9IF9vYmoucGFyZW50cyggJy5tZWRpYS1nYWxsZXJ5JyApLFxyXG4gICAgICAgICAgICBfaHRtbCA9ICQoICdodG1sJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9saW5rcyA9IF93cmFwcGVyLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9faXRlbScgKSxcclxuICAgICAgICAgICAgX3BvcHVwID0gbnVsbCxcclxuICAgICAgICAgICAgX3BvcHVwSW5uZXIgPSBudWxsLFxyXG4gICAgICAgICAgICBfcG9wdXBDbG9zZSA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJXcmFwcGVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJQYWdpbmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXIgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lci5wYXJlbnQoKS5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyLm9uKHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBldmVudCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBDbG9zZS5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkaW5nVmFyaWFibGVzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9nYWxsZXJ5V3JhcC5hdHRyKCAnZGF0YS1sb2FkZWQtdHlwZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cInN3aXBlci1wb3B1cFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItY29udGFpbmVyXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItd3JhcHBlclwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXBhZ2luYXRpb25cIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1idXR0b24tbmV4dFwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLWJ1dHRvbi1wcmV2XCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyV3JhcHBlciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci13cmFwcGVyJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1jb250YWluZXInICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyUGFnaW5hdGlvbiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRWaWRlbyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IGFjdGl2ZVNsaWRlLmZpbmQoICdbZGF0YS1zcmNdJyApLmRhdGEoICdzcmMnICksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJCggJzxpZnJhbWUgc3JjPVwiJyArIHNyYyArICdcIj4gZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICkuZmluZCggJy5zd2lwZXItcG9wdXBfX3ZpZGVvJyApLnByZXBlbmQoIGlubmVyQ29udGVudCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2J1aWxkUG9wdXAgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9hZGRpbmdWYXJpYWJsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50RmlsbGluZygpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIuc2xpZGVUbyggaW5kZXgsIDAgKTtcclxuICAgICAgICAgICAgICAgIF9wb3B1cC5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgIF9zZXRTdHlsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIub25SZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZVBvcHVwID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7b3ZlcmZsb3c6ICcnLCBwYWRkaW5nUmlnaHQ6ICcnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29udGVudEZpbGxpbmcgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggX2xpbmtzLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJDb250ZW50ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNSQyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRlciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcyApLmhhc0NsYXNzKCAnbWVkaWEtZ2FsbGVyeV9faXRlbV92aWRlbycgKSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVyID0gJzxpIGNsYXNzPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluXCI+PC9pPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGVudCA9ICc8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwX192aWRlb1wiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gJ2RhdGEtc3JjPVwiJyArICQodGhpcykuZGF0YSggXCJocmVmXCIgKSArICdcIic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZXIgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJzxpbWcgc3JjPVwiJyArICQodGhpcykuZGF0YSggXCJocmVmXCIgKSArICdcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSAkKCAnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZVwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwX19pbm5lclwiICcgKyBkYXRhU1JDICsgJz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzd2lwZXItcG9wdXBfX2Nsb3NlXCI+PC9hPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyArIHByZWxvYWRlciArICdcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKyBpbm5lckNvbnRlbnQgKyAnXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN3aXBlci1zbGlkZV9fdGl0bGVcIj4nICsgJCggdGhpcyApLmF0dHIoICd0aXRsZScgKSArICc8L3NwYW4+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3N3aXBlcldyYXBwZXIuYXBwZW5kKCBuZXdJdGVtICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0uZmluZCggJ2ltZycgKS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmF0dHIoICdkYXRhLXdpZHRoJywgdGhpcy53aWR0aCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmF0dHIoICdkYXRhLWhlaWdodCcsIHRoaXMuaGVpZ2h0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAkKCB0aGlzICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2JvZHkuYXBwZW5kKCBfcG9wdXAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wb3B1cF9faW5uZXInICk7XHJcbiAgICAgICAgICAgICAgICBfcG9wdXBDbG9zZSA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wb3B1cF9fY2xvc2UnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKCBzY3JvbGxEaXYgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfc3dpcGVyQ29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogX3N3aXBlclBhZ2luYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3N3aXBlckJ0bk5leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3N3aXBlckJ0blByZXYsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKS5maW5kKCAnW2RhdGEtc3JjXScgKS5sZW5ndGggKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9idWlsZFBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVWaWRlbyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRnJhbWUgPSBpdGVtcy5maW5kKCAnLnN3aXBlci1wb3B1cF9fdmlkZW8gaWZyYW1lJyApO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9GcmFtZS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSA9IGZ1bmN0aW9uKCBwaWNXaWR0aCwgcGljSGVpZ2h0LCBwaWMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgayA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAoIF9wb3B1cC53aWR0aCgpL3BpY1dpZHRoICkgPiAoIF9wb3B1cC5oZWlnaHQoKS9waWNIZWlnaHQgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBrID0gX3BvcHVwLmhlaWdodCgpL3BpY0hlaWdodCA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBfcG9wdXAud2lkdGgoKS9waWNXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGsgPj0gMSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwaWMuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBwaWNXaWR0aCowLjg1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBwaWNIZWlnaHQqMC44NVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBpYy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IGsqcGljV2lkdGgqMC44NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogaypwaWNIZWlnaHQqMC44NVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZVdoZW5SZXNpemUgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggX3N3aXBlcldyYXBwZXIuZmluZCggJ2ltZycgKSwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemUoICQoIHRoaXMgKS5kYXRhKCAnd2lkdGgnICksICQoIHRoaXMgKS5kYXRhKCAnaGVpZ2h0JyApLCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0U3R5bGVzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfaHRtbC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IF9nZXRTY3JvbGxXaWR0aCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG4iXX0=

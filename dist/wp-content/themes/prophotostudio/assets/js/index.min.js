!function(){$(function(){$.each($(".anchor"),function(){new e($(this))}),$.each($(".partners"),function(){new t($(this))}),$.each($(".catalog"),function(){new t($(this))}),$.each($(".promo__slider"),function(){new t($(this))}),$.each($(".sub-menu"),function(){new t($(this))}),$.each($(".mobile-menu"),function(){new n($(this))}),$.each($(".blog__sort"),function(){new o($(this))}),$.each($(".head-shot"),function(){new i($(this))}),$.each($(".rates__item-swiper"),function(){new t($(this))})});var e=function(e){var n=e,t=$("html, body"),o=function(){n.on({click:function(){return $(".menu").hasClass("mobile")&&$(".menu-btn").trigger("click"),t.animate({scrollTop:$($.attr(this,"href")).offset().top},600),$(".menu")[0].obj.destroy(),!1}})},i=function(){o()};i()},n=function(e){var n=e,t=$(".mobile-menu-btn"),o=function(){i()},i=function(){t.on("click",function(){$(this).hasClass("close")?a():s()})},s=function(){t.addClass("close"),n.addClass("visible")},a=function(){t.removeClass("close"),n.removeClass("visible")};o()},t=function(e){var n,t,o,i,s,a=e,c=a.find(".partners__swiper"),r=a.find(".sub-menu__swiper"),u=a.find(".catalog__swiper"),l=a.find(".promo__swiper"),d=a.find(".rates__swiper"),f=a.find(".partners__swiper-prev"),p=a.find(".catalog__swiper-prev"),h=a.find(".promo__swiper-prev"),w=a.find(".rates__swiper-prev"),m=a.find(".partners__swiper-next"),_=a.find(".catalog__swiper-next"),v=a.find(".promo__swiper-next"),g=a.find(".rates__swiper-next"),C=$(window),b=function(){n=new Swiper(c,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:"auto",loop:!0,loopedSlides:20,spaceBetween:80,nextButton:m,prevButton:f}),t=new Swiper(u,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:3,loop:!0,nextButton:_,prevButton:p,breakpoints:{767:{slidesPerView:1},1199:{slidesPerView:2}}}),i=new Swiper(l,{autoplay:1e4,speed:500,effect:"slide",slidesPerView:1,loop:!0,nextButton:v,prevButton:h}),s=new Swiper(d,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",loop:!1,nextButton:g,prevButton:w}),o=new Swiper(r,{autoplay:!1,speed:500,effect:"slide",slidesPerView:"auto",simulateTouch:!1,onSlideChangeStart:function(){a.removeClass("start"),r[0].swiper.slideTo(o.find(".active").index(),200,!1)},onSlideChangeEnd:function(){a.removeClass("end")},onReachBeginning:function(){a.addClass("start"),a.removeClass("end"),setTimeout(function(){a.addClass("start")},300)},onReachEnd:function(){a.addClass("end"),setTimeout(function(){a.removeClass("start")},300)}})},y=function(){C.outerWidth()<=767&&b(),C.on({resize:function(){C.outerWidth()>=767?T():b()}})},T=function(){r[0].swiper.destroy(!1,!0)},x=function(){y(),b()};x()},o=function(e){var n=e,t=$(".site"),o=$(window),i=function(){s()},s=function(){t.on("click",function(e){n.hasClass("open")&&0==$(e.target).closest(n).length&&a()}),n.on("click",function(){var e=$(this);e.hasClass("open")&&o.width()<1200?a():o.width()<1200&&c()})},a=function(){n.removeClass("open")},c=function(){n.addClass("open")};i()},i=function(e){var n=e,t=$("body"),o=t.data("action"),i=n.find(".head-shot__command-more"),s=n.find(".preloader"),a=n.find(".head-shot__command-wrap"),c=n.find(".head-shot__command-cover"),r=!0,u=new XMLHttpRequest,l=function(){h(),m()},d=function(e){var t,o=e.has_items,i=e.items;console.log(o),$.each(i,function(){var e=this;t=$('<div class="head-shot__command-item new"><img src="'+e.dummy+'" alt="'+e.title+'"/></div>'),a.append(t)});var s=a.find(".new");console.log("test1"),setTimeout(function(){f(o,s),console.log("test2"),console.log(o),console.log(s),console.log("-----")},550),n.attr("data-loaded-group",+n.attr("data-loaded-group")+1)},f=function(e,n){var t=500;r&&(t=1),c.animate({height:a.outerHeight()},{duration:t,complete:function(){c.css("height",""),n.each(function(e){p($(this),e),console.log("test3"),console.log($(this)),console.log(e),console.log("-----")}),0==e&&w()}}),r&&setTimeout(function(){r=!1},500)},p=function(e,n){var t=100;r&&(t=1),setTimeout(function(){e.removeClass("new")},n*t)},h=function(){var e=o;s.addClass("active"),u.abort(),u=$.ajax({url:e,data:{action:"gallery",type:"headshot",page:n.attr("data-loaded-group")},dataType:"json",timeout:2e4,type:"GET",success:function(e){c.height(c.height()),d(e)},error:function(e){"abort"!=e.statusText&&alert("Error!")}})},w=function(){i.css("opacity",0),setTimeout(function(){i.css("padding",0),i.animate({height:0},{duration:500,complete:function(){i.remove()}})},300)},m=function(){i.on("click",function(){return h(),!1})};l()}}();
!function(){"use strict";$(function(){$.each($(".media-gallery"),function(){new i($(this))})});var i=function(i){var e=i,n=$("body"),a=e.find(".media-gallery__wrap"),d=$('<div class="media-gallery__sizer"></div>'),s=e.find(".media-gallery__switcher"),o=s.find("button"),r=e.find(".media-gallery__cover"),l=e.find(".preloader"),c=e.find(".media-gallery__more"),u=n.data("action"),p=($(window),!1),f=!0,h=!0,v=new XMLHttpRequest,m=function(){o.on("click",function(){var i=$(this),t=i.data("type");return o.removeClass("active"),i.addClass("active"),e.attr("data-loaded-group",0),k(t),h=!0,!1}),c.on({click:function(){return k(),h=!1,!1}}),e.on("click",".media-gallery__item",function(){return t($(this),$(this).index()-1),h=!0,!1})},w=function(i){0!==e.attr("data-loaded-group")&&p&&g();var t,n=i.has_items,s=i.items;h&&a.html(d),$.each(s,function(){var i=this;t=$('<div class="media-gallery__item new '+i.type+'" title="'+this.title+'" data-href="'+i.dummy__big+'"><img src="'+i.dummy+'" alt="'+i.type+'" /></div>'),1==i.video&&t.addClass("media-gallery__item_video"),a.append(t)});var o=a.find(".new");setTimeout(function(){_(n,o)},550),setTimeout(function(){b()},500),e.attr("data-loaded-group",+e.attr("data-loaded-group")+1)},g=function(){a.isotope("destroy"),p=!1},_=function(i,t){var e=500;f&&(e=1),r.animate({height:a.outerHeight()},{duration:e,complete:function(){r.css("height",""),t.each(function(i){y($(this),i)}),0==i?T():i>0&&C()}}),f&&setTimeout(function(){f=!1},500)},y=function(i,t){var e=100;f&&(e=1),setTimeout(function(){i.removeClass("new")},t*e)},b=function(){var i=".media-gallery__item";p=!0,a.isotope({itemSelector:i,percentPosition:!0,masonry:{columnWidth:".media-gallery__sizer"}}),l.removeClass("active")},C=function(){c.removeClass("hide")},T=function(){c.addClass("hide")},k=function(){var i=u;l.addClass("active"),v.abort(),v=$.ajax({url:i,data:{action:"gallery",page:e.attr("data-loaded-group"),type:o.filter(".active").data("type")},dataType:"json",timeout:2e4,type:"GET",success:function(i){r.height(r.height()),w(i)},error:function(i){"abort"!=i.statusText&&alert("Error!")}})},x=function(){k(),m()};x()},t=function(i,t){var e=this,n=i,a=$("body"),d=n.parent(),s=n.parents(".media-gallery"),o=$("html"),r=$(window),l=d.find(".media-gallery__item"),c=null,u=null,p=null,f=null,h=null,v=null,m=null,w=null,g=null,_=function(){r.on({resize:function(){P()}}),u.parent().on({click:function(){T()}}),u.on({click:function(i){i.stopPropagation()}}),p.on({click:function(){return T(),!1}})},y=function(){s.attr("data-loaded-type");c=$('<div class="swiper-popup">                                    <div class="swiper-container">                                        <div class="swiper-wrapper"></div>                                        <div class="swiper-pagination"></div>                                        <div class="swiper-button-next"></div>                                        <div class="swiper-button-prev"></div>                                    </div>                                </div>'),f=c.find(".swiper-wrapper"),h=c.find(".swiper-container"),v=c.find(".swiper-pagination"),m=c.find(".swiper-button-next"),w=c.find(".swiper-button-prev")},b=function(){var i=c.find(".swiper-slide-active"),t=i.find("[data-src]").data("src"),e=$('<iframe src="'+t+'"> frameborder="0" allowfullscreen></iframe>');$(".swiper-slide-active").find(".swiper-popup__video").prepend(e)},C=function(){y(),k(),z(),g.slideTo(t,0),c.addClass("active"),S(),g.onResize()},T=function(){c.removeClass("active"),setTimeout(function(){o.css({overflow:"",paddingRight:""}),c.remove()},300)},k=function(){$.each(l,function(){var i=null,t=null,e=null;$(this).hasClass("media-gallery__item_video")?(e='<i class="fa fa-spinner fa-spin"></i>',i='<div class="swiper-popup__video"/>',t='data-src="'+$(this).data("href")+'"'):(e="",i='<img src="'+$(this).data("href")+'">',t="");var n=$('<div class="swiper-slide">                                        <div class="swiper-popup__inner" '+t+'>                                            <a href="#" class="swiper-popup__close"></a>                                            '+e+"                                            "+i+'                                            <span class="swiper-slide__title">'+$(this).attr("title")+"</span>                                        </div>                                    </div>");f.append(n),n.find("img").on({load:function(){$(this).attr("data-width",this.width),$(this).attr("data-height",this.height),j(this.width,this.height,$(this))}})}),a.append(c),u=c.find(".swiper-popup__inner"),p=c.find(".swiper-popup__close")},x=function(){var i=document.createElement("div"),t=null;return document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},z=function(){g=new Swiper(h,{pagination:v,nextButton:m,prevButton:w,slidesPerView:1,paginationClickable:!0,onSlideChangeEnd:function(){R(),$(".swiper-slide-active").find("[data-src]").length&&b()}})},E=function(){C(),_(),n[0].obj=e},R=function(){var i=c.find(".swiper-slide"),t=i.find(".swiper-popup__video iframe");t.remove()},j=function(i,t,e){var n=0;n=c.width()/i>c.height()/t?c.height()/t:c.width()/i,n>=1?e.css({width:.85*i,height:.85*t}):e.css({width:n*i*.85,height:n*t*.85})},P=function(){$.each(f.find("img"),function(){j($(this).data("width"),$(this).data("height"),$(this))})},S=function(){o.css({overflow:"hidden",paddingRight:x()})};E()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tZWRpYS1nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQW5jaG9yIiwidGhpcyIsIlNsaWRlcnMiLCJNZW51IiwiU29ydCIsIkhlYWRTaG90TG9hZGVyIiwib2JqIiwiX29iaiIsIl93aW5kb3ciLCJfb25FdmVudHMiLCJvbiIsImNsaWNrIiwiaGFzQ2xhc3MiLCJ0cmlnZ2VyIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJkZXN0cm95IiwiX2NvbnN0cnVjdCIsIl9idG4iLCJfY29uc3RydWN0b3IiLCJfY2xvc2VNZW51IiwiX29wZW5NZW51IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIl9wYXJ0bmVycyIsIl9jYXRhbG9nIiwiX3N1Yk1lbnUiLCJfcHJvbW8iLCJfcmF0ZXMiLCJfcGFydG5lcnNTbGlkZXIiLCJmaW5kIiwiX3N1Yk1lbnVTbGlkZXIiLCJfY2F0YWxvZ1NsaWRlciIsIl9wcm9tb1NsaWRlciIsIl9yYXRlc1NsaWRlciIsIl9wYXJ0bmVyc1ByZXYiLCJfY2F0YWxvZ1ByZXYiLCJfcHJvbW9QcmV2IiwiX3JhdGVzUHJldiIsIl9wYXJ0bmVyc05leHQiLCJfY2F0YWxvZ05leHQiLCJfcHJvbW9OZXh0IiwiX3JhdGVzTmV4dCIsIndpbmRvdyIsIl9pbml0U2xpZGVyIiwiU3dpcGVyIiwiYXV0b3BsYXkiLCJzcGVlZCIsImVmZmVjdCIsInNsaWRlc1BlclZpZXciLCJsb29wIiwibG9vcGVkU2xpZGVzIiwic3BhY2VCZXR3ZWVuIiwibmV4dEJ1dHRvbiIsInByZXZCdXR0b24iLCJicmVha3BvaW50cyIsIjc2NyIsIjExOTkiLCJzaW11bGF0ZVRvdWNoIiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwic3dpcGVyIiwic2xpZGVUbyIsImluZGV4Iiwib25TbGlkZUNoYW5nZUVuZCIsIm9uUmVhY2hCZWdpbm5pbmciLCJzZXRUaW1lb3V0Iiwib25SZWFjaEVuZCIsIl9vbkV2ZW50Iiwib3V0ZXJXaWR0aCIsInJlc2l6ZSIsIl9kZXN0cm95U2xpZGVyIiwiX2luaXQiLCJfc2l0ZSIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwibGVuZ3RoIiwiX2Nsb3NlTGFuZ3VhZ2UiLCJjdXJFbGVtIiwid2lkdGgiLCJfb3Blbkxhbmd1YWdlIiwiX2JvZHkiLCJfZmlsZUxpbmsiLCJkYXRhIiwiX2J0bk1vcmUiLCJfcHJlbG9hZGVyIiwiX3dyYXBwZXIiLCJfY292ZXIiLCJfZmlyc3RHcm91cCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbG9hZE5ld0l0ZW1zIiwiX2FkZEdhbGxlcnlDb250ZW50IiwibXNnIiwibmV3QmxvY2siLCJoYXNJdGVtcyIsImhhc19pdGVtcyIsImdldEl0ZW1zIiwiaXRlbXMiLCJjb25zb2xlIiwibG9nIiwiY3VySXRlbSIsImR1bW15IiwidGl0bGUiLCJhcHBlbmQiLCJuZXdJdGVtcyIsIl9oZWlnaHRBbmltYXRpb24iLCJkdXJhdGlvbiIsImhlaWdodCIsIm91dGVySGVpZ2h0IiwiY29tcGxldGUiLCJjc3MiLCJpIiwiX3Nob3dOZXdJdGVtcyIsIl9yZW1vdmVCdG5Nb3JlIiwiaXRlbSIsImRlbGF5IiwicGF0aCIsImFib3J0IiwiYWpheCIsInVybCIsImFjdGlvbiIsInR5cGUiLCJwYWdlIiwiZGF0YVR5cGUiLCJ0aW1lb3V0Iiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzVGV4dCIsImFsZXJ0IiwicmVtb3ZlIiwiTWVkaWFHYWxsZXJ5IiwiX3NpemVyIiwiX3N3aXRjaGVyIiwiX3N3aXRjaEJ0biIsIl9pc0dhbGxlcnkiLCJfZmlsdGVyRmxhZyIsImN1ckJ0biIsImN1clR5cGUiLCJTd2lwZXJQb3B1cCIsIl9kZXN0cm95R2FsbGVyeSIsImh0bWwiLCJkdW1teV9fYmlnIiwidmlkZW8iLCJfaW5pdEdhbGxlcnkiLCJpc290b3BlIiwiX3Nob3dCdG5Nb3JlIiwid3JhcEl0ZW0iLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJtYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJmaWx0ZXIiLCJfc2VsZiIsInBhcmVudCIsIl9nYWxsZXJ5V3JhcCIsInBhcmVudHMiLCJfaHRtbCIsIl9saW5rcyIsIl9wb3B1cCIsIl9wb3B1cElubmVyIiwiX3BvcHVwQ2xvc2UiLCJfc3dpcGVyV3JhcHBlciIsIl9zd2lwZXJDb250YWluZXIiLCJfc3dpcGVyUGFnaW5hdGlvbiIsIl9zd2lwZXJCdG5OZXh0IiwiX3N3aXBlckJ0blByZXYiLCJfc3dpcGVyIiwiX2FkZEV2ZW50cyIsIl9zZXRQaWN0dXJlU2l6ZVdoZW5SZXNpemUiLCJfY2xvc2VQb3B1cCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiX2FkZGluZ1ZhcmlhYmxlcyIsIl9hZGRWaWRlbyIsImFjdGl2ZVNsaWRlIiwic3JjIiwiaW5uZXJDb250ZW50IiwicHJlcGVuZCIsIl9idWlsZFBvcHVwIiwiX2NvbnRlbnRGaWxsaW5nIiwiX2luaXRTd2lwZXIiLCJfc2V0U3R5bGVzIiwib25SZXNpemUiLCJvdmVyZmxvdyIsInBhZGRpbmdSaWdodCIsImRhdGFTUkMiLCJwcmVsb2FkZXIiLCJuZXdJdGVtIiwibG9hZCIsIl9zZXRQaWN0dXJlU2l6ZSIsIl9nZXRTY3JvbGxXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNjcm9sbGJhcldpZHRoIiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwicGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGlja2FibGUiLCJfcmVtb3ZlVmlkZW8iLCJ2aWRlb0ZyYW1lIiwicGljV2lkdGgiLCJwaWNIZWlnaHQiLCJwaWMiLCJrIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVJQSxFQUFHLFdBRUNBLEVBQUVDLEtBQU1ELEVBQUcsV0FBYSxXQUNwQixHQUFJRSxHQUFTRixFQUFHRyxTQUdwQkgsRUFBRUMsS0FBTUQsRUFBRyxhQUFlLFdBQ3RCLEdBQUlJLEdB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QVMsV0FFbENnSyxFQUFpQm5NLEVBQUdHLE1BQU9xRixLQUFNLFNBQVd4RixFQUFHRyxNQUFPcUYsS0FBTSxVQUFZeEYsRUFBR0csVUFLbkZ3TCxFQUFhLFdBRVR6QixFQUFNOUMsS0FDRnlFLFNBQVUsU0FDVkMsYUFBY00sTUFLMUJ4SCIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLmFuY2hvcicgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBBbmNob3IgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wYXJ0bmVycycgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuY2F0YWxvZycgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcucHJvbW9fX3NsaWRlcicgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBTbGlkZXJzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuc3ViLW1lbnUnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVycyAoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKCAkKCAnLm1vYmlsZS1tZW51JyApLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IE1lbnUgKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5ibG9nX19zb3J0JyApLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBTb3J0KCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5oZWFkLXNob3QnICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IEhlYWRTaG90TG9hZGVyKCAkKCB0aGlzICkgKTtcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5yYXRlc19faXRlbS1zd2lwZXInICksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV3IFNsaWRlcnMoICQoIHRoaXMgKSApO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIEFuY2hvciA9IGZ1bmN0aW9uICggb2JqICkge1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggJ2h0bWwsIGJvZHknICk7XHJcblxyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCcubWVudScpLmhhc0NsYXNzKCAnbW9iaWxlJyApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggXCIubWVudS1idG5cIiApLnRyaWdnZXIoICdjbGljaycgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dpbmRvdy5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoICQuYXR0cih0aGlzLCAnaHJlZicpICkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDYwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoICcubWVudScgKVswXS5vYmouZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfY29uc3RydWN0KClcclxuICAgIH07XHJcblxyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9idG4gPSAkKCAnLm1vYmlsZS1tZW51LWJ0bicgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9idG4ub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICQoIHRoaXMpLmhhc0NsYXNzKCAnY2xvc2UnICkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5hZGRDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX2J0bi5yZW1vdmVDbGFzcyggJ2Nsb3NlJyApO1xyXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3Zpc2libGUnICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBTbGlkZXJzID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3BhcnRuZXJzU2xpZGVyID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyID0gX29iai5maW5kKCAnLnN1Yi1tZW51X19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9jYXRhbG9nU2xpZGVyID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlcicgKSxcclxuICAgICAgICAgICAgX3Byb21vU2xpZGVyID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXInICksXHJcbiAgICAgICAgICAgIF9yYXRlc1NsaWRlciA9IF9vYmouZmluZCggJy5yYXRlc19fc3dpcGVyJyApLFxyXG4gICAgICAgICAgICBfcGFydG5lcnNQcmV2ID0gX29iai5maW5kKCAnLnBhcnRuZXJzX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX2NhdGFsb2dQcmV2ID0gX29iai5maW5kKCAnLmNhdGFsb2dfX3N3aXBlci1wcmV2JyApLFxyXG4gICAgICAgICAgICBfcHJvbW9QcmV2ID0gX29iai5maW5kKCAnLnByb21vX19zd2lwZXItcHJldicgKSxcclxuICAgICAgICAgICAgX3JhdGVzUHJldiA9IF9vYmouZmluZCggJy5yYXRlc19fc3dpcGVyLXByZXYnICksXHJcbiAgICAgICAgICAgIF9wYXJ0bmVyc05leHQgPSBfb2JqLmZpbmQoICcucGFydG5lcnNfX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfY2F0YWxvZ05leHQgPSBfb2JqLmZpbmQoICcuY2F0YWxvZ19fc3dpcGVyLW5leHQnICksXHJcbiAgICAgICAgICAgIF9wcm9tb05leHQgPSBfb2JqLmZpbmQoICcucHJvbW9fX3N3aXBlci1uZXh0JyApLFxyXG4gICAgICAgICAgICBfcmF0ZXNOZXh0ID0gX29iai5maW5kKCAnLnJhdGVzX19zd2lwZXItbmV4dCcgKSxcclxuICAgICAgICAgICAgX3BhcnRuZXJzLFxyXG4gICAgICAgICAgICBfY2F0YWxvZyxcclxuICAgICAgICAgICAgX3N1Yk1lbnUsXHJcbiAgICAgICAgICAgIF9wcm9tbyxcclxuICAgICAgICAgICAgX3JhdGVzLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9pbml0U2xpZGVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3BhcnRuZXJzID0gbmV3IFN3aXBlciAoIF9wYXJ0bmVyc1NsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBsb29wZWRTbGlkZXM6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogODAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3BhcnRuZXJzTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfcGFydG5lcnNQcmV2XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2NhdGFsb2cgPSBuZXcgU3dpcGVyICggX2NhdGFsb2dTbGlkZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdzbGlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9jYXRhbG9nTmV4dCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfY2F0YWxvZ1ByZXYsXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgNzY3OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDExOTk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcHJvbW8gPSBuZXcgU3dpcGVyICggX3Byb21vU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcHJvbW9OZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9wcm9tb1ByZXZcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmF0ZXMgPSBuZXcgU3dpcGVyICggX3JhdGVzU2xpZGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnc2xpZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfcmF0ZXNOZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9yYXRlc1ByZXZcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfc3ViTWVudSA9IG5ldyBTd2lwZXIgKCBfc3ViTWVudVNsaWRlciwge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3NsaWRlJyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVUb3VjaDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZVN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3ViTWVudVNsaWRlclswXS5zd2lwZXIuc2xpZGVUbyggX3N1Yk1lbnUuZmluZCggJy5hY3RpdmUnICkuaW5kZXgoKSAsIDIwMCwgZmFsc2UgKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnZW5kJyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFjaEJlZ2lubmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ2VuZCcgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3N0YXJ0JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LDMwMCApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWFjaEVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdlbmQnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzdGFydCcgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwzMDAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93Lm91dGVyV2lkdGgoKSA8PSA3NjcgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIgKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdyZXNpemUnOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5vdXRlcldpZHRoKCkgPj0gNzY3ICApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTbGlkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZGVzdHJveVNsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zdWJNZW51U2xpZGVyWyAwIF0uc3dpcGVyLmRlc3Ryb3koIGZhbHNlLCB0cnVlICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgU29ydCA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3NpdGUgPSAkKCAnLnNpdGUnICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb25FdmVudCgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29uRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfc2l0ZS5vbihcclxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snLCBmdW5jdGlvbiAoIGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9vYmouaGFzQ2xhc3MoICdvcGVuJyApICYmICQoIGUudGFyZ2V0ICkuY2xvc2VzdCggX29iaiApLmxlbmd0aCA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckVsZW0uaGFzQ2xhc3MoICdvcGVuJyApICYmIF93aW5kb3cud2lkdGgoKSA8IDEyMDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBfd2luZG93LndpZHRoKCkgPCAxMjAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbkxhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlTGFuZ3VhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdvcGVuJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3Blbkxhbmd1YWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbicgKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2NvbnN0cnVjdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSGVhZFNob3RMb2FkZXIgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXHJcbiAgICAgICAgICAgIF9maWxlTGluayA9IF9ib2R5LmRhdGEoICdhY3Rpb24nICksXHJcbiAgICAgICAgICAgIF9idG5Nb3JlID0gX29iai5maW5kKCAnLmhlYWQtc2hvdF9fY29tbWFuZC1tb3JlJyApLFxyXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gX29iai5maW5kKCAnLnByZWxvYWRlcicgKSxcclxuICAgICAgICAgICAgX3dyYXBwZXIgPSBfb2JqLmZpbmQoICcuaGVhZC1zaG90X19jb21tYW5kLXdyYXAnICksXHJcbiAgICAgICAgICAgIF9jb3ZlciA9IF9vYmouZmluZCggJy5oZWFkLXNob3RfX2NvbW1hbmQtY292ZXInICksXHJcbiAgICAgICAgICAgIF9maXJzdEdyb3VwID0gdHJ1ZSxcclxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMoKTtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRHYWxsZXJ5Q29udGVudCA9IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBoYXNJdGVtcyA9IG1zZy5oYXNfaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbXMgPSBtc2cuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGhhc0l0ZW1zIClcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goIGdldEl0ZW1zLCBmdW5jdGlvbiggKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jayA9ICQoICc8ZGl2IGNsYXNzPVwiaGVhZC1zaG90X19jb21tYW5kLWl0ZW0gbmV3XCI+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgY3VySXRlbS5kdW1teSArJ1wiIGFsdD1cIicrIGN1ckl0ZW0udGl0bGUgKydcIi8+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXBwZXIuYXBwZW5kKCBuZXdCbG9jayApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SXRlbXMgPSBfd3JhcHBlci5maW5kKCAnLm5ldycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJ3Rlc3QxJyApXHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBfaGVpZ2h0QW5pbWF0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJ3Rlc3QyJyApXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGhhc0l0ZW1zIClcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggbmV3SXRlbXMgKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnLS0tLS0nIClcclxuICAgICAgICAgICAgICAgIH0sIDU1MCApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJywgK19vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApICsgMSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCBoYXNJdGVtcywgbmV3SXRlbXMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSA1MDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF9jb3Zlci5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfd3JhcHBlci5vdXRlckhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmNzcyggJ2hlaWdodCcsICcnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyggJCggdGhpcyApLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJ3Rlc3QzJyApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggJCggdGhpcyApIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBpIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnLS0tLS0nIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBoYXNJdGVtcyA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maXJzdEdyb3VwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2hvd05ld0l0ZW1zID0gZnVuY3Rpb24oIGl0ZW0sIGluZGV4ICl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpcnN0R3JvdXAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVDbGFzcyggJ25ldycgKTtcclxuICAgICAgICAgICAgICAgIH0sIGluZGV4ICogZGVsYXkgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9sb2FkTmV3SXRlbXMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYXRoICA9IF9maWxlTGluaztcclxuXHJcbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLmFkZENsYXNzKCAnYWN0aXZlJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2dhbGxlcnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaGVhZHNob3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBfb2JqLmF0dHIoICdkYXRhLWxvYWRlZC1ncm91cCcgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbXNnICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvdmVyLmhlaWdodCggX2NvdmVyLmhlaWdodCgpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQoIG1zZyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSAnYWJvcnQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoICdFcnJvciEnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUuY3NzKCAnb3BhY2l0eScsIDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5jc3MoICdwYWRkaW5nJywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5hbmltYXRlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnRuTW9yZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3QoKTtcclxuICAgIH07XHJcblxyXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5tZWRpYS1nYWxsZXJ5JyApLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgbmV3IE1lZGlhR2FsbGVyeSAoICQoIHRoaXMgKSApXHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIE1lZGlhR2FsbGVyeSA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfd3JhcHBlciA9IF9vYmouZmluZCggJy5tZWRpYS1nYWxsZXJ5X193cmFwJyApLFxyXG4gICAgICAgICAgICBfc2l6ZXIgPSAkKCAnPGRpdiBjbGFzcz1cIm1lZGlhLWdhbGxlcnlfX3NpemVyXCI+PC9kaXY+JyApLFxyXG4gICAgICAgICAgICBfc3dpdGNoZXIgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fc3dpdGNoZXInICksXHJcbiAgICAgICAgICAgIF9zd2l0Y2hCdG4gPSBfc3dpdGNoZXIuZmluZCggJ2J1dHRvbicgKSxcclxuICAgICAgICAgICAgX2NvdmVyID0gX29iai5maW5kKCAnLm1lZGlhLWdhbGxlcnlfX2NvdmVyJyApLFxyXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gX29iai5maW5kKCAnLnByZWxvYWRlcicgKSxcclxuICAgICAgICAgICAgX2J0bk1vcmUgPSBfb2JqLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9fbW9yZScgKSxcclxuICAgICAgICAgICAgX2ZpbGVMaW5rID0gX2JvZHkuZGF0YSggJ2FjdGlvbicgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxyXG4gICAgICAgICAgICBfaXNHYWxsZXJ5ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIF9maXJzdEdyb3VwID0gdHJ1ZSxcclxuICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSB0cnVlLFxyXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zd2l0Y2hCdG4ub24oICdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckJ0biA9ICQoIHRoaXMgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVHlwZSA9IGN1ckJ0bi5kYXRhKCAndHlwZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3N3aXRjaEJ0bi5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJCdG4uYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJywgMCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfbG9hZE5ld0l0ZW1zKCBjdXJUeXBlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpbHRlckZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NsaWNrJywgJy5tZWRpYS1nYWxsZXJ5X19pdGVtJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFN3aXBlclBvcHVwKCAkKCB0aGlzICksICQoIHRoaXMgKS5pbmRleCgpIC0gMSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyRmxhZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkR2FsbGVyeUNvbnRlbnQgPSBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApICE9PSAwICYmIF9pc0dhbGxlcnkgKXtcclxuICAgICAgICAgICAgICAgICAgICBfZGVzdHJveUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzSXRlbXMgPSBtc2cuaGFzX2l0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW1zID0gbXNnLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggX2ZpbHRlckZsYWcgKXtcclxuICAgICAgICAgICAgICAgICAgICBfd3JhcHBlci5odG1sKCBfc2l6ZXIgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goIGdldEl0ZW1zLCBmdW5jdGlvbiggKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jayA9ICQoICc8ZGl2IGNsYXNzPVwibWVkaWEtZ2FsbGVyeV9faXRlbSBuZXcgJysgY3VySXRlbS50eXBlICsnXCIgdGl0bGU9XCInICsgdGhpcy50aXRsZSArICdcIiBkYXRhLWhyZWY9XCInKyBjdXJJdGVtLmR1bW15X19iaWcgKydcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInKyBjdXJJdGVtLmR1bW15ICsnXCIgYWx0PVwiJysgY3VySXRlbS50eXBlICsnXCIgLz4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0udmlkZW8gPT0gMSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9jay5hZGRDbGFzcyggJ21lZGlhLWdhbGxlcnlfX2l0ZW1fdmlkZW8nICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd3JhcHBlci5hcHBlbmQoIG5ld0Jsb2NrICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdJdGVtcyA9IF93cmFwcGVyLmZpbmQoICcubmV3JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgX2hlaWdodEFuaW1hdGlvbiggaGFzSXRlbXMsIG5ld0l0ZW1zICk7XHJcbiAgICAgICAgICAgICAgICB9LCA1NTAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pbml0R2FsbGVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgNTAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnLCArX29iai5hdHRyKCAnZGF0YS1sb2FkZWQtZ3JvdXAnICkrMSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rlc3Ryb3lHYWxsZXJ5ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dyYXBwZXIuaXNvdG9wZSggJ2Rlc3Ryb3knICk7XHJcbiAgICAgICAgICAgICAgICBfaXNHYWxsZXJ5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaGVpZ2h0QW5pbWF0aW9uID0gZnVuY3Rpb24oIGhhc0l0ZW1zLCBuZXdJdGVtcyApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IDUwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX2NvdmVyLmFuaW1hdGUoIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF93cmFwcGVyLm91dGVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY292ZXIuY3NzKCAnaGVpZ2h0JywgJycgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1zLmVhY2goIGZ1bmN0aW9uKCBpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd05ld0l0ZW1zKCAkKCB0aGlzICksIGkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBoYXNJdGVtcyA9PSAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBoYXNJdGVtcyA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd0J0bk1vcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBfZmlyc3RHcm91cCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3dOZXdJdGVtcyA9IGZ1bmN0aW9uKCBpdGVtLCBpbmRleCApe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIF9maXJzdEdyb3VwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoICduZXcnICk7XHJcbiAgICAgICAgICAgICAgICB9LCBpbmRleCAqIGRlbGF5ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdEdhbGxlcnkgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXBJdGVtID0gJy5tZWRpYS1nYWxsZXJ5X19pdGVtJztcclxuXHJcbiAgICAgICAgICAgICAgICBfaXNHYWxsZXJ5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBfd3JhcHBlci5pc290b3BlKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiB3cmFwSXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFzb25yeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogJy5tZWRpYS1nYWxsZXJ5X19zaXplcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93QnRuTW9yZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfYnRuTW9yZS5yZW1vdmVDbGFzcyggJ2hpZGUnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcmVtb3ZlQnRuTW9yZSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX2J0bk1vcmUuYWRkQ2xhc3MoICdoaWRlJyApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2xvYWROZXdJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggID0gX2ZpbGVMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdhY3RpdmUnICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IF9vYmouYXR0ciggJ2RhdGEtbG9hZGVkLWdyb3VwJyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBfc3dpdGNoQnRuLmZpbHRlciggJy5hY3RpdmUnICkuZGF0YSggJ3R5cGUnIClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb3Zlci5oZWlnaHQoIF9jb3Zlci5oZWlnaHQoKSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZEdhbGxlcnlDb250ZW50KCBtc2cgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCBYTUxIdHRwUmVxdWVzdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gJ2Fib3J0JyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCAnRXJyb3IhJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2xvYWROZXdJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFN3aXBlclBvcHVwID0gZnVuY3Rpb24gKCBvYmosIGluZGV4ICkge1xyXG5cclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApLFxyXG4gICAgICAgICAgICBfd3JhcHBlciA9IF9vYmoucGFyZW50KCksXHJcbiAgICAgICAgICAgIF9nYWxsZXJ5V3JhcCA9IF9vYmoucGFyZW50cyggJy5tZWRpYS1nYWxsZXJ5JyApLFxyXG4gICAgICAgICAgICBfaHRtbCA9ICQoICdodG1sJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF9saW5rcyA9IF93cmFwcGVyLmZpbmQoICcubWVkaWEtZ2FsbGVyeV9faXRlbScgKSxcclxuICAgICAgICAgICAgX3BvcHVwID0gbnVsbCxcclxuICAgICAgICAgICAgX3BvcHVwSW5uZXIgPSBudWxsLFxyXG4gICAgICAgICAgICBfcG9wdXBDbG9zZSA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJXcmFwcGVyID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXJQYWdpbmF0aW9uID0gbnVsbCxcclxuICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBudWxsLFxyXG4gICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IG51bGwsXHJcbiAgICAgICAgICAgIF9zd2lwZXIgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemVXaGVuUmVzaXplKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lci5wYXJlbnQoKS5vbih7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlUG9wdXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cElubmVyLm9uKHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBldmVudCApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBDbG9zZS5vbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkaW5nVmFyaWFibGVzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9nYWxsZXJ5V3JhcC5hdHRyKCAnZGF0YS1sb2FkZWQtdHlwZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cInN3aXBlci1wb3B1cFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItY29udGFpbmVyXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItd3JhcHBlclwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXBhZ2luYXRpb25cIj48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1idXR0b24tbmV4dFwiPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLWJ1dHRvbi1wcmV2XCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyV3JhcHBlciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci13cmFwcGVyJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckNvbnRhaW5lciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1jb250YWluZXInICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyUGFnaW5hdGlvbiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wYWdpbmF0aW9uJyApO1xyXG4gICAgICAgICAgICAgICAgX3N3aXBlckJ0bk5leHQgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItYnV0dG9uLW5leHQnICk7XHJcbiAgICAgICAgICAgICAgICBfc3dpcGVyQnRuUHJldiA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1idXR0b24tcHJldicgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRWaWRlbyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBfcG9wdXAuZmluZCggJy5zd2lwZXItc2xpZGUtYWN0aXZlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IGFjdGl2ZVNsaWRlLmZpbmQoICdbZGF0YS1zcmNdJyApLmRhdGEoICdzcmMnICksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJCggJzxpZnJhbWUgc3JjPVwiJyArIHNyYyArICdcIj4gZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCAnLnN3aXBlci1zbGlkZS1hY3RpdmUnICkuZmluZCggJy5zd2lwZXItcG9wdXBfX3ZpZGVvJyApLnByZXBlbmQoIGlubmVyQ29udGVudCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2J1aWxkUG9wdXAgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9hZGRpbmdWYXJpYWJsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50RmlsbGluZygpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIuc2xpZGVUbyggaW5kZXgsIDAgKTtcclxuICAgICAgICAgICAgICAgIF9wb3B1cC5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcclxuICAgICAgICAgICAgICAgIF9zZXRTdHlsZXMoKTtcclxuICAgICAgICAgICAgICAgIF9zd2lwZXIub25SZXNpemUoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZVBvcHVwID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlQ2xhc3MoICdhY3RpdmUnICk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcyh7b3ZlcmZsb3c6ICcnLCBwYWRkaW5nUmlnaHQ6ICcnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY29udGVudEZpbGxpbmcgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggX2xpbmtzLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJDb250ZW50ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNSQyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRlciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcyApLmhhc0NsYXNzKCAnbWVkaWEtZ2FsbGVyeV9faXRlbV92aWRlbycgKSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlbG9hZGVyID0gJzxpIGNsYXNzPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluXCI+PC9pPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyQ29udGVudCA9ICc8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwX192aWRlb1wiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gJ2RhdGEtc3JjPVwiJyArICQodGhpcykuZGF0YSggXCJocmVmXCIgKSArICdcIic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVsb2FkZXIgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb250ZW50ID0gJzxpbWcgc3JjPVwiJyArICQodGhpcykuZGF0YSggXCJocmVmXCIgKSArICdcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU1JDID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSAkKCAnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZVwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXBvcHVwX19pbm5lclwiICcgKyBkYXRhU1JDICsgJz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzd2lwZXItcG9wdXBfX2Nsb3NlXCI+PC9hPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyArIHByZWxvYWRlciArICdcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKyBpbm5lckNvbnRlbnQgKyAnXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN3aXBlci1zbGlkZV9fdGl0bGVcIj4nICsgJCggdGhpcyApLmF0dHIoICd0aXRsZScgKSArICc8L3NwYW4+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3N3aXBlcldyYXBwZXIuYXBwZW5kKCBuZXdJdGVtICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0uZmluZCggJ2ltZycgKS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmF0dHIoICdkYXRhLXdpZHRoJywgdGhpcy53aWR0aCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmF0dHIoICdkYXRhLWhlaWdodCcsIHRoaXMuaGVpZ2h0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAkKCB0aGlzICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2JvZHkuYXBwZW5kKCBfcG9wdXAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXBJbm5lciA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wb3B1cF9faW5uZXInICk7XHJcbiAgICAgICAgICAgICAgICBfcG9wdXBDbG9zZSA9IF9wb3B1cC5maW5kKCAnLnN3aXBlci1wb3B1cF9fY2xvc2UnICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKCBzY3JvbGxEaXYgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfc3dpcGVyQ29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogX3N3aXBlclBhZ2luYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX3N3aXBlckJ0bk5leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX3N3aXBlckJ0blByZXYsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmVWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQoICcuc3dpcGVyLXNsaWRlLWFjdGl2ZScgKS5maW5kKCAnW2RhdGEtc3JjXScgKS5sZW5ndGggKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9idWlsZFBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9yZW1vdmVWaWRlbyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gX3BvcHVwLmZpbmQoICcuc3dpcGVyLXNsaWRlJyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRnJhbWUgPSBpdGVtcy5maW5kKCAnLnN3aXBlci1wb3B1cF9fdmlkZW8gaWZyYW1lJyApO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9GcmFtZS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZSA9IGZ1bmN0aW9uKCBwaWNXaWR0aCwgcGljSGVpZ2h0LCBwaWMgKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgayA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAoIF9wb3B1cC53aWR0aCgpL3BpY1dpZHRoICkgPiAoIF9wb3B1cC5oZWlnaHQoKS9waWNIZWlnaHQgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBrID0gX3BvcHVwLmhlaWdodCgpL3BpY0hlaWdodCA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSBfcG9wdXAud2lkdGgoKS9waWNXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGsgPj0gMSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwaWMuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBwaWNXaWR0aCowLjg1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBwaWNIZWlnaHQqMC44NVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBpYy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IGsqcGljV2lkdGgqMC44NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogaypwaWNIZWlnaHQqMC44NVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRQaWN0dXJlU2l6ZVdoZW5SZXNpemUgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaCggX3N3aXBlcldyYXBwZXIuZmluZCggJ2ltZycgKSwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfc2V0UGljdHVyZVNpemUoICQoIHRoaXMgKS5kYXRhKCAnd2lkdGgnICksICQoIHRoaXMgKS5kYXRhKCAnaGVpZ2h0JyApLCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0U3R5bGVzID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBfaHRtbC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IF9nZXRTY3JvbGxXaWR0aCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG4iXX0=
